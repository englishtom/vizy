var k4=Object.defineProperty,x4=Object.defineProperties;var C4=Object.getOwnPropertyDescriptors;var lh=Object.getOwnPropertySymbols;var Ck=Object.prototype.hasOwnProperty,Sk=Object.prototype.propertyIsEnumerable;var xk=(e,t,n)=>t in e?k4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ve=(e,t)=>{for(var n in t||(t={}))Ck.call(t,n)&&xk(e,n,t[n]);if(lh)for(var n of lh(t))Sk.call(t,n)&&xk(e,n,t[n]);return e},Xt=(e,t)=>x4(e,C4(t));var Xl=(e,t)=>{var n={};for(var r in e)Ck.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lh)for(var r of lh(e))t.indexOf(r)<0&&Sk.call(e,r)&&(n[r]=e[r]);return n};var S4=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var xte=S4((qo,Go)=>{function Zr(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const T4="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",E4=Zr(T4),A4="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",O4=Zr(A4);function D2(e){return!!e||e===""}function Si(e){if(et(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=wt(r)?M2(r):Si(r);if(i)for(const o in i)t[o]=i[o]}return t}else{if(wt(e))return e;if(yn(e))return e}}const D4=/;(?![^(]*\))/g,M4=/:(.+)/;function M2(e){const t={};return e.split(D4).forEach(n=>{if(n){const r=n.split(M4);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Vt(e){let t="";if(wt(e))t=e;else if(et(e))for(let n=0;n<e.length;n++){const r=Vt(e[n]);r&&(t+=r+" ")}else if(yn(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function N4(e){if(!e)return null;let{class:t,style:n}=e;return t&&!wt(t)&&(e.class=Vt(t)),n&&(e.style=Si(n)),e}const L4="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",P4="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",I4="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",F4=Zr(L4),R4=Zr(P4),B4=Zr(I4);function z4(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Gs(e[r],t[r]);return n}function Gs(e,t){if(e===t)return!0;let n=Tk(e),r=Tk(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=et(e),r=et(t),n||r)return n&&r?z4(e,t):!1;if(n=yn(e),r=yn(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const a in e){const l=e.hasOwnProperty(a),f=t.hasOwnProperty(a);if(l&&!f||!l&&f||!Gs(e[a],t[a]))return!1}}return String(e)===String(t)}function dg(e,t){return e.findIndex(n=>Gs(n,t))}const Qe=e=>wt(e)?e:e==null?"":et(e)||yn(e)&&(e.toString===L2||!mt(e.toString))?JSON.stringify(e,N2,2):String(e),N2=(e,t)=>t&&t.__v_isRef?N2(e,t.value):gu(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:gl(t)?{[`Set(${t.size})`]:[...t.values()]}:yn(t)&&!et(t)&&!P2(t)?String(t):t,Kt={},pu=[],Br=()=>{},Ph=()=>!1,$4=/^on[^a-z]/,pl=e=>$4.test(e),Uy=e=>e.startsWith("onUpdate:"),qt=Object.assign,Ky=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},H4=Object.prototype.hasOwnProperty,Rt=(e,t)=>H4.call(e,t),et=Array.isArray,gu=e=>hg(e)==="[object Map]",gl=e=>hg(e)==="[object Set]",Tk=e=>e instanceof Date,mt=e=>typeof e=="function",wt=e=>typeof e=="string",qu=e=>typeof e=="symbol",yn=e=>e!==null&&typeof e=="object",qy=e=>yn(e)&&mt(e.then)&&mt(e.catch),L2=Object.prototype.toString,hg=e=>L2.call(e),j4=e=>hg(e).slice(8,-1),P2=e=>hg(e)==="[object Object]",Gy=e=>wt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ja=Zr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),V4=Zr("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),pg=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},W4=/-(\w)/g,_r=pg(e=>e.replace(W4,(t,n)=>n?n.toUpperCase():"")),U4=/\B([A-Z])/g,Ji=pg(e=>e.replace(U4,"-$1").toLowerCase()),ml=pg(e=>e.charAt(0).toUpperCase()+e.slice(1)),mu=pg(e=>e?`on${ml(e)}`:""),Pc=(e,t)=>!Object.is(e,t),vu=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Jh=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Js=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ek;const K4=()=>Ek||(Ek=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let ii;class Jy{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&ii&&(this.parent=ii,this.index=(ii.scopes||(ii.scopes=[])).push(this)-1)}run(t){if(this.active){const n=ii;try{return ii=this,t()}finally{ii=n}}}on(){ii=this}off(){ii=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function q4(e){return new Jy(e)}function I2(e,t=ii){t&&t.active&&t.effects.push(e)}function G4(){return ii}function J4(e){ii&&ii.cleanups.push(e)}const Yy=e=>{const t=new Set(e);return t.w=0,t.n=0,t},F2=e=>(e.w&Ys)>0,R2=e=>(e.n&Ys)>0,Y4=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Ys},X4=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];F2(i)&&!R2(i)?i.delete(e):t[n++]=i,i.w&=~Ys,i.n&=~Ys}t.length=n}},y0=new WeakMap;let Gf=0,Ys=1;const b0=30;let Ui;const Ya=Symbol(""),_0=Symbol("");class fd{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,I2(this,r)}run(){if(!this.active)return this.fn();let t=Ui,n=Us;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ui,Ui=this,Us=!0,Ys=1<<++Gf,Gf<=b0?Y4(this):Ak(this),this.fn()}finally{Gf<=b0&&X4(this),Ys=1<<--Gf,Ui=this.parent,Us=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ui===this?this.deferStop=!0:this.active&&(Ak(this),this.onStop&&this.onStop(),this.active=!1)}}function Ak(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function Z4(e,t){e.effect&&(e=e.effect.fn);const n=new fd(e);t&&(qt(n,t),t.scope&&I2(n,t.scope)),(!t||!t.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function Q4(e){e.effect.stop()}let Us=!0;const B2=[];function vl(){B2.push(Us),Us=!1}function yl(){const e=B2.pop();Us=e===void 0?!0:e}function ui(e,t,n){if(Us&&Ui){let r=y0.get(e);r||y0.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=Yy()),z2(i)}}function z2(e,t){let n=!1;Gf<=b0?R2(e)||(e.n|=Ys,n=!F2(e)):n=!e.has(Ui),n&&(e.add(Ui),Ui.deps.push(e))}function es(e,t,n,r,i,o){const a=y0.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&et(e))a.forEach((f,h)=>{(h==="length"||h>=r)&&l.push(f)});else switch(n!==void 0&&l.push(a.get(n)),t){case"add":et(e)?Gy(n)&&l.push(a.get("length")):(l.push(a.get(Ya)),gu(e)&&l.push(a.get(_0)));break;case"delete":et(e)||(l.push(a.get(Ya)),gu(e)&&l.push(a.get(_0)));break;case"set":gu(e)&&l.push(a.get(Ya));break}if(l.length===1)l[0]&&w0(l[0]);else{const f=[];for(const h of l)h&&f.push(...h);w0(Yy(f))}}function w0(e,t){for(const n of et(e)?e:[...e])(n!==Ui||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const eN=Zr("__proto__,__v_isRef,__isVue"),$2=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(qu)),tN=gg(),nN=gg(!1,!0),rN=gg(!0),iN=gg(!0,!0),Ok=oN();function oN(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=It(this);for(let o=0,a=this.length;o<a;o++)ui(r,"get",o+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(It)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){vl();const r=It(this)[t].apply(this,n);return yl(),r}}),e}function gg(e=!1,t=!1){return function(r,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?q2:K2:t?U2:W2).get(r))return r;const a=et(r);if(!e&&a&&Rt(Ok,i))return Reflect.get(Ok,i,o);const l=Reflect.get(r,i,o);return(qu(i)?$2.has(i):eN(i))||(e||ui(r,"get",i),t)?l:Bn(l)?!a||!Gy(i)?l.value:l:yn(l)?e?Zy(l):bl(l):l}}const sN=H2(),aN=H2(!0);function H2(e=!1){return function(n,r,i,o){let a=n[r];if(Cu(a)&&Bn(a)&&!Bn(i))return!1;if(!e&&!Cu(i)&&(Qy(i)||(i=It(i),a=It(a)),!et(n)&&Bn(a)&&!Bn(i)))return a.value=i,!0;const l=et(n)&&Gy(r)?Number(r)<n.length:Rt(n,r),f=Reflect.set(n,r,i,o);return n===It(o)&&(l?Pc(i,a)&&es(n,"set",r,i):es(n,"add",r,i)),f}}function lN(e,t){const n=Rt(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&es(e,"delete",t,void 0),r}function uN(e,t){const n=Reflect.has(e,t);return(!qu(t)||!$2.has(t))&&ui(e,"has",t),n}function fN(e){return ui(e,"iterate",et(e)?"length":Ya),Reflect.ownKeys(e)}const j2={get:tN,set:sN,deleteProperty:lN,has:uN,ownKeys:fN},V2={get:rN,set(e,t){return!0},deleteProperty(e,t){return!0}},cN=qt({},j2,{get:nN,set:aN}),dN=qt({},V2,{get:iN}),Xy=e=>e,mg=e=>Reflect.getPrototypeOf(e);function uh(e,t,n=!1,r=!1){e=e.__v_raw;const i=It(e),o=It(t);t!==o&&!n&&ui(i,"get",t),!n&&ui(i,"get",o);const{has:a}=mg(i),l=r?Xy:n?tb:Ic;if(a.call(i,t))return l(e.get(t));if(a.call(i,o))return l(e.get(o));e!==i&&e.get(t)}function fh(e,t=!1){const n=this.__v_raw,r=It(n),i=It(e);return e!==i&&!t&&ui(r,"has",e),!t&&ui(r,"has",i),e===i?n.has(e):n.has(e)||n.has(i)}function ch(e,t=!1){return e=e.__v_raw,!t&&ui(It(e),"iterate",Ya),Reflect.get(e,"size",e)}function Dk(e){e=It(e);const t=It(this);return mg(t).has.call(t,e)||(t.add(e),es(t,"add",e,e)),this}function Mk(e,t){t=It(t);const n=It(this),{has:r,get:i}=mg(n);let o=r.call(n,e);o||(e=It(e),o=r.call(n,e));const a=i.call(n,e);return n.set(e,t),o?Pc(t,a)&&es(n,"set",e,t):es(n,"add",e,t),this}function Nk(e){const t=It(this),{has:n,get:r}=mg(t);let i=n.call(t,e);i||(e=It(e),i=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return i&&es(t,"delete",e,void 0),o}function Lk(){const e=It(this),t=e.size!==0,n=e.clear();return t&&es(e,"clear",void 0,void 0),n}function dh(e,t){return function(r,i){const o=this,a=o.__v_raw,l=It(a),f=t?Xy:e?tb:Ic;return!e&&ui(l,"iterate",Ya),a.forEach((h,p)=>r.call(i,f(h),f(p),o))}}function hh(e,t,n){return function(...r){const i=this.__v_raw,o=It(i),a=gu(o),l=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,h=i[e](...r),p=n?Xy:t?tb:Ic;return!t&&ui(o,"iterate",f?_0:Ya),{next(){const{value:m,done:v}=h.next();return v?{value:m,done:v}:{value:l?[p(m[0]),p(m[1])]:p(m),done:v}},[Symbol.iterator](){return this}}}}function Ds(e){return function(...t){return e==="delete"?!1:this}}function hN(){const e={get(o){return uh(this,o)},get size(){return ch(this)},has:fh,add:Dk,set:Mk,delete:Nk,clear:Lk,forEach:dh(!1,!1)},t={get(o){return uh(this,o,!1,!0)},get size(){return ch(this)},has:fh,add:Dk,set:Mk,delete:Nk,clear:Lk,forEach:dh(!1,!0)},n={get(o){return uh(this,o,!0)},get size(){return ch(this,!0)},has(o){return fh.call(this,o,!0)},add:Ds("add"),set:Ds("set"),delete:Ds("delete"),clear:Ds("clear"),forEach:dh(!0,!1)},r={get(o){return uh(this,o,!0,!0)},get size(){return ch(this,!0)},has(o){return fh.call(this,o,!0)},add:Ds("add"),set:Ds("set"),delete:Ds("delete"),clear:Ds("clear"),forEach:dh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=hh(o,!1,!1),n[o]=hh(o,!0,!1),t[o]=hh(o,!1,!0),r[o]=hh(o,!0,!0)}),[e,n,t,r]}const[pN,gN,mN,vN]=hN();function vg(e,t){const n=t?e?vN:mN:e?gN:pN;return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Rt(n,i)&&i in r?n:r,i,o)}const yN={get:vg(!1,!1)},bN={get:vg(!1,!0)},_N={get:vg(!0,!1)},wN={get:vg(!0,!0)},W2=new WeakMap,U2=new WeakMap,K2=new WeakMap,q2=new WeakMap;function kN(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xN(e){return e.__v_skip||!Object.isExtensible(e)?0:kN(j4(e))}function bl(e){return Cu(e)?e:yg(e,!1,j2,yN,W2)}function Yh(e){return yg(e,!1,cN,bN,U2)}function Zy(e){return yg(e,!0,V2,_N,K2)}function CN(e){return yg(e,!0,dN,wN,q2)}function yg(e,t,n,r,i){if(!yn(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const a=xN(e);if(a===0)return e;const l=new Proxy(e,a===2?r:n);return i.set(e,l),l}function Xa(e){return Cu(e)?Xa(e.__v_raw):!!(e&&e.__v_isReactive)}function Cu(e){return!!(e&&e.__v_isReadonly)}function Qy(e){return!!(e&&e.__v_isShallow)}function eb(e){return Xa(e)||Cu(e)}function It(e){const t=e&&e.__v_raw;return t?It(t):e}function ca(e){return Jh(e,"__v_skip",!0),e}const Ic=e=>yn(e)?bl(e):e,tb=e=>yn(e)?Zy(e):e;function nb(e){Us&&Ui&&(e=It(e),z2(e.dep||(e.dep=Yy())))}function bg(e,t){e=It(e),e.dep&&w0(e.dep)}function Bn(e){return!!(e&&e.__v_isRef===!0)}function St(e){return J2(e,!1)}function G2(e){return J2(e,!0)}function J2(e,t){return Bn(e)?e:new SN(e,t)}class SN{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:It(t),this._value=n?t:Ic(t)}get value(){return nb(this),this._value}set value(t){t=this.__v_isShallow?t:It(t),Pc(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:Ic(t),bg(this))}}function TN(e){bg(e)}function Fr(e){return Bn(e)?e.value:e}const EN={get:(e,t,n)=>Fr(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Bn(i)&&!Bn(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function rb(e){return Xa(e)?e:new Proxy(e,EN)}class AN{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=t(()=>nb(this),()=>bg(this));this._get=n,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function Y2(e){return new AN(e)}function ON(e){const t=et(e)?new Array(e.length):{};for(const n in e)t[n]=X2(e,n);return t}class DN{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function X2(e,t,n){const r=e[t];return Bn(r)?r:new DN(e,t,n)}class MN{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new fd(t,()=>{this._dirty||(this._dirty=!0,bg(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=It(this);return nb(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function NN(e,t,n=!1){let r,i;const o=mt(e);return o?(r=e,i=Br):(r=e.get,i=e.set),new MN(r,i,o||!i,n)}const rc=[];function Z2(e,...t){vl();const n=rc.length?rc[rc.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=LN();if(r)bo(r,n,11,[e+t.join(""),n&&n.proxy,i.map(({vnode:o})=>`at <${WT(n,o.type)}>`).join(`
`),i]);else{const o=[`[Vue warn]: ${e}`,...t];i.length&&o.push(`
`,...PN(i)),console.warn(...o)}yl()}function LN(){let e=rc[rc.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function PN(e){const t=[];return e.forEach((n,r)=>{t.push(...r===0?[]:[`
`],...IN(n))}),t}function IN({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=e.component?e.component.parent==null:!1,i=` at <${WT(e.component,e.type,r)}`,o=">"+n;return e.props?[i,...FN(e.props),o]:[i+o]}function FN(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(r=>{t.push(...Q2(r,e[r]))}),n.length>3&&t.push(" ..."),t}function Q2(e,t,n){return wt(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:Bn(t)?(t=Q2(e,It(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):mt(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=It(t),n?t:[`${e}=`,t])}function bo(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){_l(o,t,n)}return i}function ai(e,t,n,r){if(mt(e)){const o=bo(e,t,n,r);return o&&qy(o)&&o.catch(a=>{_l(a,t,n)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(ai(e[o],t,n,r));return i}function _l(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const a=t.proxy,l=n;for(;o;){const h=o.ec;if(h){for(let p=0;p<h.length;p++)if(h[p](e,a,l)===!1)return}o=o.parent}const f=t.appContext.config.errorHandler;if(f){bo(f,null,10,[e,a,l]);return}}RN(e,n,i,r)}function RN(e,t,n,r=!0){console.error(e)}let Xh=!1,k0=!1;const si=[];let Vo=0;const ic=[];let Jf=null,eu=0;const oc=[];let Is=null,tu=0;const eT=Promise.resolve();let ib=null,x0=null;function vo(e){const t=ib||eT;return e?t.then(this?e.bind(this):e):t}function BN(e){let t=Vo+1,n=si.length;for(;t<n;){const r=t+n>>>1;Fc(si[r])<e?t=r+1:n=r}return t}function ob(e){(!si.length||!si.includes(e,Xh&&e.allowRecurse?Vo+1:Vo))&&e!==x0&&(e.id==null?si.push(e):si.splice(BN(e.id),0,e),tT())}function tT(){!Xh&&!k0&&(k0=!0,ib=eT.then(rT))}function zN(e){const t=si.indexOf(e);t>Vo&&si.splice(t,1)}function nT(e,t,n,r){et(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?r+1:r))&&n.push(e),tT()}function $N(e){nT(e,Jf,ic,eu)}function sb(e){nT(e,Is,oc,tu)}function ab(e,t=null){if(ic.length){for(x0=t,Jf=[...new Set(ic)],ic.length=0,eu=0;eu<Jf.length;eu++)Jf[eu]();Jf=null,eu=0,x0=null,ab(e,t)}}function Zh(e){if(oc.length){const t=[...new Set(oc)];if(oc.length=0,Is){Is.push(...t);return}for(Is=t,Is.sort((n,r)=>Fc(n)-Fc(r)),tu=0;tu<Is.length;tu++)Is[tu]();Is=null,tu=0}}const Fc=e=>e.id==null?1/0:e.id;function rT(e){k0=!1,Xh=!0,ab(e),si.sort((n,r)=>Fc(n)-Fc(r));const t=Br;try{for(Vo=0;Vo<si.length;Vo++){const n=si[Vo];n&&n.active!==!1&&bo(n,null,14)}}finally{Vo=0,si.length=0,Zh(),Xh=!1,ib=null,(si.length||ic.length||oc.length)&&rT(e)}}let nu,ph=[];function iT(e,t){var n,r;nu=e,nu?(nu.enabled=!0,ph.forEach(({event:i,args:o})=>nu.emit(i,...o)),ph=[]):typeof window!="undefined"&&window.HTMLElement&&!(!((r=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||r===void 0)&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{iT(o,t)}),setTimeout(()=>{nu||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,ph=[])},3e3)):ph=[]}function HN(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Kt;let i=n;const o=t.startsWith("update:"),a=o&&t.slice(7);if(a&&a in r){const p=`${a==="modelValue"?"model":a}Modifiers`,{number:m,trim:v}=r[p]||Kt;v?i=n.map(b=>b.trim()):m&&(i=n.map(Js))}let l,f=r[l=mu(t)]||r[l=mu(_r(t))];!f&&o&&(f=r[l=mu(Ji(t))]),f&&ai(f,e,6,i);const h=r[l+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,ai(h,e,6,i)}}function oT(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let a={},l=!1;if(!mt(e)){const f=h=>{const p=oT(h,t,!0);p&&(l=!0,qt(a,p))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!o&&!l?(r.set(e,null),null):(et(o)?o.forEach(f=>a[f]=null):qt(a,o),r.set(e,a),a)}function _g(e,t){return!e||!pl(t)?!1:(t=t.slice(2).replace(/Once$/,""),Rt(e,t[0].toLowerCase()+t.slice(1))||Rt(e,Ji(t))||Rt(e,t))}let mr=null,wg=null;function Rc(e){const t=mr;return mr=e,wg=e&&e.type.__scopeId||null,t}function lb(e){wg=e}function ub(){wg=null}const fb=e=>fn;function fn(e,t=mr,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&A0(-1);const o=Rc(t),a=e(...i);return Rc(o),r._d&&A0(1),a};return r._n=!0,r._c=!0,r._d=!0,r}function Ih(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[a],slots:l,attrs:f,emit:h,render:p,renderCache:m,data:v,setupState:b,ctx:_,inheritAttrs:k}=e;let C,E;const S=Rc(e);try{if(n.shapeFlag&4){const O=i||r;C=oi(p.call(O,O,m,o,b,v,_)),E=f}else{const O=t;C=oi(O.length>1?O(o,{attrs:f,slots:l,emit:h}):O(o,null)),E=t.props?f:VN(f)}}catch(O){lc.length=0,_l(O,e,1),C=at(yr)}let F=C;if(E&&k!==!1){const O=Object.keys(E),{shapeFlag:K}=F;O.length&&K&7&&(a&&O.some(Uy)&&(E=WN(E,a)),F=ts(F,E))}return n.dirs&&(F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(F.transition=n.transition),C=F,Rc(S),C}function jN(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(Zs(r)){if(r.type!==yr||r.children==="v-if"){if(t)return;t=r}}else return}return t}const VN=e=>{let t;for(const n in e)(n==="class"||n==="style"||pl(n))&&((t||(t={}))[n]=e[n]);return t},WN=(e,t)=>{const n={};for(const r in e)(!Uy(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function UN(e,t,n){const{props:r,children:i,component:o}=e,{props:a,children:l,patchFlag:f}=t,h=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?Pk(r,a,h):!!a;if(f&8){const p=t.dynamicProps;for(let m=0;m<p.length;m++){const v=p[m];if(a[v]!==r[v]&&!_g(h,v))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?Pk(r,a,h):!0:!!a;return!1}function Pk(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!_g(n,o))return!0}return!1}function cb({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const KN=e=>e.__isSuspense,qN={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,o,a,l,f,h){e==null?JN(t,n,r,i,o,a,l,f,h):YN(e,t,n,r,i,a,l,f,h)},hydrate:XN,create:db,normalize:ZN},GN=qN;function Bc(e,t){const n=e.props&&e.props[t];mt(n)&&n()}function JN(e,t,n,r,i,o,a,l,f){const{p:h,o:{createElement:p}}=f,m=p("div"),v=e.suspense=db(e,i,r,t,m,n,o,a,l,f);h(null,v.pendingBranch=e.ssContent,m,null,r,v,o,a),v.deps>0?(Bc(e,"onPending"),Bc(e,"onFallback"),h(null,e.ssFallback,t,n,r,null,o,a),yu(v,e.ssFallback)):v.resolve()}function YN(e,t,n,r,i,o,a,l,{p:f,um:h,o:{createElement:p}}){const m=t.suspense=e.suspense;m.vnode=t,t.el=e.el;const v=t.ssContent,b=t.ssFallback,{activeBranch:_,pendingBranch:k,isInFallback:C,isHydrating:E}=m;if(k)m.pendingBranch=v,po(v,k)?(f(k,v,m.hiddenContainer,null,i,m,o,a,l),m.deps<=0?m.resolve():C&&(f(_,b,n,r,i,null,o,a,l),yu(m,b))):(m.pendingId++,E?(m.isHydrating=!1,m.activeBranch=k):h(k,i,m),m.deps=0,m.effects.length=0,m.hiddenContainer=p("div"),C?(f(null,v,m.hiddenContainer,null,i,m,o,a,l),m.deps<=0?m.resolve():(f(_,b,n,r,i,null,o,a,l),yu(m,b))):_&&po(v,_)?(f(_,v,n,r,i,m,o,a,l),m.resolve(!0)):(f(null,v,m.hiddenContainer,null,i,m,o,a,l),m.deps<=0&&m.resolve()));else if(_&&po(v,_))f(_,v,n,r,i,m,o,a,l),yu(m,v);else if(Bc(t,"onPending"),m.pendingBranch=v,m.pendingId++,f(null,v,m.hiddenContainer,null,i,m,o,a,l),m.deps<=0)m.resolve();else{const{timeout:S,pendingId:F}=m;S>0?setTimeout(()=>{m.pendingId===F&&m.fallback(b)},S):S===0&&m.fallback(b)}}function db(e,t,n,r,i,o,a,l,f,h,p=!1){const{p:m,m:v,um:b,n:_,o:{parentNode:k,remove:C}}=h,E=Js(e.props&&e.props.timeout),S={vnode:e,parent:t,parentComponent:n,isSVG:a,container:r,hiddenContainer:i,anchor:o,deps:0,pendingId:0,timeout:typeof E=="number"?E:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:p,isUnmounted:!1,effects:[],resolve(F=!1){const{vnode:O,activeBranch:K,pendingBranch:j,pendingId:U,effects:q,parentComponent:B,container:R}=S;if(S.isHydrating)S.isHydrating=!1;else if(!F){const W=K&&j.transition&&j.transition.mode==="out-in";W&&(K.transition.afterLeave=()=>{U===S.pendingId&&v(j,R,ie,0)});let{anchor:ie}=S;K&&(ie=_(K),b(K,B,S,!0)),W||v(j,R,ie,0)}yu(S,j),S.pendingBranch=null,S.isInFallback=!1;let V=S.parent,Z=!1;for(;V;){if(V.pendingBranch){V.effects.push(...q),Z=!0;break}V=V.parent}Z||sb(q),S.effects=[],Bc(O,"onResolve")},fallback(F){if(!S.pendingBranch)return;const{vnode:O,activeBranch:K,parentComponent:j,container:U,isSVG:q}=S;Bc(O,"onFallback");const B=_(K),R=()=>{!S.isInFallback||(m(null,F,U,B,j,null,q,l,f),yu(S,F))},V=F.transition&&F.transition.mode==="out-in";V&&(K.transition.afterLeave=R),S.isInFallback=!0,b(K,j,null,!0),V||R()},move(F,O,K){S.activeBranch&&v(S.activeBranch,F,O,K),S.container=F},next(){return S.activeBranch&&_(S.activeBranch)},registerDep(F,O){const K=!!S.pendingBranch;K&&S.deps++;const j=F.vnode.el;F.asyncDep.catch(U=>{_l(U,F,0)}).then(U=>{if(F.isUnmounted||S.isUnmounted||S.pendingId!==F.suspenseId)return;F.asyncResolved=!0;const{vnode:q}=F;N0(F,U,!1),j&&(q.el=j);const B=!j&&F.subTree.el;O(F,q,k(j||F.subTree.el),j?null:_(F.subTree),S,a,f),B&&C(B),cb(F,q.el),K&&--S.deps===0&&S.resolve()})},unmount(F,O){S.isUnmounted=!0,S.activeBranch&&b(S.activeBranch,n,F,O),S.pendingBranch&&b(S.pendingBranch,n,F,O)}};return S}function XN(e,t,n,r,i,o,a,l,f){const h=t.suspense=db(t,r,n,e.parentNode,document.createElement("div"),null,i,o,a,l,!0),p=f(e,h.pendingBranch=t.ssContent,n,h,o,a);return h.deps===0&&h.resolve(),p}function ZN(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=Ik(r?n.default:n),e.ssFallback=r?Ik(n.fallback):at(yr)}function Ik(e){let t;if(mt(e)){const n=Au&&e._c;n&&(e._d=!1,xe()),e=e(),n&&(e._d=!0,t=_o,LT())}return et(e)&&(e=jN(e)),e=oi(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function sT(e,t){t&&t.pendingBranch?et(e)?t.effects.push(...e):t.effects.push(e):sb(e)}function yu(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e,i=n.el=t.el;r&&r.subTree===n&&(r.vnode.el=i,cb(r,i))}function Qh(e,t){if(Un){let n=Un.provides;const r=Un.parent&&Un.parent.provides;r===n&&(n=Un.provides=Object.create(r)),n[e]=t}}function sc(e,t,n=!1){const r=Un||mr;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&mt(t)?t.call(r.proxy):t}}function aT(e,t){return cd(e,null,t)}function lT(e,t){return cd(e,null,{flush:"post"})}function QN(e,t){return cd(e,null,{flush:"sync"})}const Fk={};function On(e,t,n){return cd(e,t,n)}function cd(e,t,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:a}=Kt){const l=Un;let f,h=!1,p=!1;if(Bn(e)?(f=()=>e.value,h=Qy(e)):Xa(e)?(f=()=>e,r=!0):et(e)?(p=!0,h=e.some(Xa),f=()=>e.map(E=>{if(Bn(E))return E.value;if(Xa(E))return Ua(E);if(mt(E))return bo(E,l,2)})):mt(e)?t?f=()=>bo(e,l,2):f=()=>{if(!(l&&l.isUnmounted))return m&&m(),ai(e,l,3,[v])}:f=Br,t&&r){const E=f;f=()=>Ua(E())}let m,v=E=>{m=C.onStop=()=>{bo(E,l,4)}};if(Ou)return v=Br,t?n&&ai(t,l,3,[f(),p?[]:void 0,v]):f(),Br;let b=p?[]:Fk;const _=()=>{if(!!C.active)if(t){const E=C.run();(r||h||(p?E.some((S,F)=>Pc(S,b[F])):Pc(E,b)))&&(m&&m(),ai(t,l,3,[E,b===Fk?void 0:b,v]),b=E)}else C.run()};_.allowRecurse=!!t;let k;i==="sync"?k=_:i==="post"?k=()=>ir(_,l&&l.suspense):k=()=>{!l||l.isMounted?$N(_):_()};const C=new fd(f,k);return t?n?_():b=C.run():i==="post"?ir(C.run.bind(C),l&&l.suspense):C.run(),()=>{C.stop(),l&&l.scope&&Ky(l.scope.effects,C)}}function eL(e,t,n){const r=this.proxy,i=wt(e)?e.includes(".")?uT(r,e):()=>r[e]:e.bind(r,r);let o;mt(t)?o=t:(o=t.handler,n=t);const a=Un;Qs(this);const l=cd(i,o.bind(r),n);return a?Qs(a):Ks(),l}function uT(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Ua(e,t){if(!yn(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Bn(e))Ua(e.value,t);else if(et(e))for(let n=0;n<e.length;n++)Ua(e[n],t);else if(gl(e)||gu(e))e.forEach(n=>{Ua(n,t)});else if(P2(e))for(const n in e)Ua(e[n],t);return e}function hb(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return to(()=>{e.isMounted=!0}),cs(()=>{e.isUnmounting=!0}),e}const yi=[Function,Array],tL={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yi,onEnter:yi,onAfterEnter:yi,onEnterCancelled:yi,onBeforeLeave:yi,onLeave:yi,onAfterLeave:yi,onLeaveCancelled:yi,onBeforeAppear:yi,onAppear:yi,onAfterAppear:yi,onAppearCancelled:yi},setup(e,{slots:t}){const n=Eo(),r=hb();let i;return()=>{const o=t.default&&kg(t.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){for(const k of o)if(k.type!==yr){a=k;break}}const l=It(e),{mode:f}=l;if(r.isLeaving)return mv(a);const h=Rk(a);if(!h)return mv(a);const p=Su(h,l,r,n);il(h,p);const m=n.subTree,v=m&&Rk(m);let b=!1;const{getTransitionKey:_}=h.type;if(_){const k=_();i===void 0?i=k:k!==i&&(i=k,b=!0)}if(v&&v.type!==yr&&(!po(h,v)||b)){const k=Su(v,l,r,n);if(il(v,k),f==="out-in")return r.isLeaving=!0,k.afterLeave=()=>{r.isLeaving=!1,n.update()},mv(a);f==="in-out"&&h.type!==yr&&(k.delayLeave=(C,E,S)=>{const F=fT(r,v);F[String(v.key)]=v,C._leaveCb=()=>{E(),C._leaveCb=void 0,delete p.delayedLeave},p.delayedLeave=S})}return a}}},pb=tL;function fT(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Su(e,t,n,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:h,onEnterCancelled:p,onBeforeLeave:m,onLeave:v,onAfterLeave:b,onLeaveCancelled:_,onBeforeAppear:k,onAppear:C,onAfterAppear:E,onAppearCancelled:S}=t,F=String(e.key),O=fT(n,e),K=(U,q)=>{U&&ai(U,r,9,q)},j={mode:o,persisted:a,beforeEnter(U){let q=l;if(!n.isMounted)if(i)q=k||l;else return;U._leaveCb&&U._leaveCb(!0);const B=O[F];B&&po(e,B)&&B.el._leaveCb&&B.el._leaveCb(),K(q,[U])},enter(U){let q=f,B=h,R=p;if(!n.isMounted)if(i)q=C||f,B=E||h,R=S||p;else return;let V=!1;const Z=U._enterCb=W=>{V||(V=!0,W?K(R,[U]):K(B,[U]),j.delayedLeave&&j.delayedLeave(),U._enterCb=void 0)};q?(q(U,Z),q.length<=1&&Z()):Z()},leave(U,q){const B=String(e.key);if(U._enterCb&&U._enterCb(!0),n.isUnmounting)return q();K(m,[U]);let R=!1;const V=U._leaveCb=Z=>{R||(R=!0,q(),Z?K(_,[U]):K(b,[U]),U._leaveCb=void 0,O[B]===e&&delete O[B])};O[B]=e,v?(v(U,V),v.length<=1&&V()):V()},clone(U){return Su(U,t,n,r)}};return j}function mv(e){if(dd(e))return e=ts(e),e.children=null,e}function Rk(e){return dd(e)?e.children?e.children[0]:void 0:e}function il(e,t){e.shapeFlag&6&&e.component?il(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function kg(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let a=e[o];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:o);a.type===Tt?(a.patchFlag&128&&i++,r=r.concat(kg(a.children,t,l))):(t||a.type!==yr)&&r.push(l!=null?ts(a,{key:l}):a)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function pn(e){return mt(e)?{setup:e,name:e.name}:e}const Tu=e=>!!e.type.__asyncLoader;function nL(e){mt(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:i=200,timeout:o,suspensible:a=!0,onError:l}=e;let f=null,h,p=0;const m=()=>(p++,f=null,v()),v=()=>{let b;return f||(b=f=t().catch(_=>{if(_=_ instanceof Error?_:new Error(String(_)),l)return new Promise((k,C)=>{l(_,()=>k(m()),()=>C(_),p+1)});throw _}).then(_=>b!==f&&f?f:(_&&(_.__esModule||_[Symbol.toStringTag]==="Module")&&(_=_.default),h=_,_)))};return pn({name:"AsyncComponentWrapper",__asyncLoader:v,get __asyncResolved(){return h},setup(){const b=Un;if(h)return()=>vv(h,b);const _=S=>{f=null,_l(S,b,13,!r)};if(a&&b.suspense||Ou)return v().then(S=>()=>vv(S,b)).catch(S=>(_(S),()=>r?at(r,{error:S}):null));const k=St(!1),C=St(),E=St(!!i);return i&&setTimeout(()=>{E.value=!1},i),o!=null&&setTimeout(()=>{if(!k.value&&!C.value){const S=new Error(`Async component timed out after ${o}ms.`);_(S),C.value=S}},o),v().then(()=>{k.value=!0,b.parent&&dd(b.parent.vnode)&&ob(b.parent.update)}).catch(S=>{_(S),C.value=S}),()=>{if(k.value&&h)return vv(h,b);if(C.value&&r)return at(r,{error:C.value});if(n&&!E.value)return at(n)}}})}function vv(e,{vnode:{ref:t,props:n,children:r}}){const i=at(e,n,r);return i.ref=t,i}const dd=e=>e.type.__isKeepAlive,rL={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Eo(),r=n.ctx;if(!r.renderer)return t.default;const i=new Map,o=new Set;let a=null;const l=n.suspense,{renderer:{p:f,m:h,um:p,o:{createElement:m}}}=r,v=m("div");r.activate=(S,F,O,K,j)=>{const U=S.component;h(S,F,O,0,l),f(U.vnode,S,F,O,U,l,K,S.slotScopeIds,j),ir(()=>{U.isDeactivated=!1,U.a&&vu(U.a);const q=S.props&&S.props.onVnodeMounted;q&&Ur(q,U.parent,S)},l)},r.deactivate=S=>{const F=S.component;h(S,v,null,1,l),ir(()=>{F.da&&vu(F.da);const O=S.props&&S.props.onVnodeUnmounted;O&&Ur(O,F.parent,S),F.isDeactivated=!0},l)};function b(S){yv(S),p(S,n,l,!0)}function _(S){i.forEach((F,O)=>{const K=ip(F.type);K&&(!S||!S(K))&&k(O)})}function k(S){const F=i.get(S);!a||F.type!==a.type?b(F):a&&yv(a),i.delete(S),o.delete(S)}On(()=>[e.include,e.exclude],([S,F])=>{S&&_(O=>Yf(S,O)),F&&_(O=>!Yf(F,O))},{flush:"post",deep:!0});let C=null;const E=()=>{C!=null&&i.set(C,bv(n.subTree))};return to(E),Cg(E),cs(()=>{i.forEach(S=>{const{subTree:F,suspense:O}=n,K=bv(F);if(S.type===K.type){yv(K);const j=K.component.da;j&&ir(j,O);return}b(S)})}),()=>{if(C=null,!t.default)return null;const S=t.default(),F=S[0];if(S.length>1)return a=null,S;if(!Zs(F)||!(F.shapeFlag&4)&&!(F.shapeFlag&128))return a=null,F;let O=bv(F);const K=O.type,j=ip(Tu(O)?O.type.__asyncResolved||{}:K),{include:U,exclude:q,max:B}=e;if(U&&(!j||!Yf(U,j))||q&&j&&Yf(q,j))return a=O,F;const R=O.key==null?K:O.key,V=i.get(R);return O.el&&(O=ts(O),F.shapeFlag&128&&(F.ssContent=O)),C=R,V?(O.el=V.el,O.component=V.component,O.transition&&il(O,O.transition),O.shapeFlag|=512,o.delete(R),o.add(R)):(o.add(R),B&&o.size>parseInt(B,10)&&k(o.values().next().value)),O.shapeFlag|=256,a=O,F}}},iL=rL;function Yf(e,t){return et(e)?e.some(n=>Yf(n,t)):wt(e)?e.split(",").includes(t):e.test?e.test(t):!1}function cT(e,t){hT(e,"a",t)}function dT(e,t){hT(e,"da",t)}function hT(e,t,n=Un){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(xg(t,r,n),n){let i=n.parent;for(;i&&i.parent;)dd(i.parent.vnode)&&oL(r,t,n,i),i=i.parent}}function oL(e,t,n,r){const i=xg(t,e,r,!0);Sg(()=>{Ky(r[t],i)},n)}function yv(e){let t=e.shapeFlag;t&256&&(t-=256),t&512&&(t-=512),e.shapeFlag=t}function bv(e){return e.shapeFlag&128?e.ssContent:e}function xg(e,t,n=Un,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;vl(),Qs(n);const l=ai(t,n,e,a);return Ks(),yl(),l});return r?i.unshift(o):i.push(o),o}}const fs=e=>(t,n=Un)=>(!Ou||e==="sp")&&xg(e,t,n),pT=fs("bm"),to=fs("m"),gT=fs("bu"),Cg=fs("u"),cs=fs("bum"),Sg=fs("um"),mT=fs("sp"),vT=fs("rtg"),yT=fs("rtc");function bT(e,t=Un){xg("ec",e,t)}let C0=!0;function sL(e){const t=wT(e),n=e.proxy,r=e.ctx;C0=!1,t.beforeCreate&&Bk(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:a,watch:l,provide:f,inject:h,created:p,beforeMount:m,mounted:v,beforeUpdate:b,updated:_,activated:k,deactivated:C,beforeDestroy:E,beforeUnmount:S,destroyed:F,unmounted:O,render:K,renderTracked:j,renderTriggered:U,errorCaptured:q,serverPrefetch:B,expose:R,inheritAttrs:V,components:Z,directives:W,filters:ie}=t;if(h&&aL(h,r,null,e.appContext.config.unwrapInjectedRef),a)for(const pe in a){const Te=a[pe];mt(Te)&&(r[pe]=Te.bind(n))}if(i){const pe=i.call(n,n);yn(pe)&&(e.data=bl(pe))}if(C0=!0,o)for(const pe in o){const Te=o[pe],We=mt(Te)?Te.bind(n,n):mt(Te.get)?Te.get.bind(n,n):Br,nt=!mt(Te)&&mt(Te.set)?Te.set.bind(n):Br,bt=xn({get:We,set:nt});Object.defineProperty(r,pe,{enumerable:!0,configurable:!0,get:()=>bt.value,set:Mt=>bt.value=Mt})}if(l)for(const pe in l)_T(l[pe],r,n,pe);if(f){const pe=mt(f)?f.call(n):f;Reflect.ownKeys(pe).forEach(Te=>{Qh(Te,pe[Te])})}p&&Bk(p,e,"c");function ce(pe,Te){et(Te)?Te.forEach(We=>pe(We.bind(n))):Te&&pe(Te.bind(n))}if(ce(pT,m),ce(to,v),ce(gT,b),ce(Cg,_),ce(cT,k),ce(dT,C),ce(bT,q),ce(yT,j),ce(vT,U),ce(cs,S),ce(Sg,O),ce(mT,B),et(R))if(R.length){const pe=e.exposed||(e.exposed={});R.forEach(Te=>{Object.defineProperty(pe,Te,{get:()=>n[Te],set:We=>n[Te]=We})})}else e.exposed||(e.exposed={});K&&e.render===Br&&(e.render=K),V!=null&&(e.inheritAttrs=V),Z&&(e.components=Z),W&&(e.directives=W)}function aL(e,t,n=Br,r=!1){et(e)&&(e=S0(e));for(const i in e){const o=e[i];let a;yn(o)?"default"in o?a=sc(o.from||i,o.default,!0):a=sc(o.from||i):a=sc(o),Bn(a)&&r?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[i]=a}}function Bk(e,t,n){ai(et(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function _T(e,t,n,r){const i=r.includes(".")?uT(n,r):()=>n[r];if(wt(e)){const o=t[e];mt(o)&&On(i,o)}else if(mt(e))On(i,e.bind(n));else if(yn(e))if(et(e))e.forEach(o=>_T(o,t,n,r));else{const o=mt(e.handler)?e.handler.bind(n):t[e.handler];mt(o)&&On(i,o,e)}}function wT(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,l=o.get(t);let f;return l?f=l:!i.length&&!n&&!r?f=t:(f={},i.length&&i.forEach(h=>ep(f,h,a,!0)),ep(f,t,a)),o.set(t,f),f}function ep(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&ep(e,o,n,!0),i&&i.forEach(a=>ep(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const l=lL[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const lL={data:zk,props:Ra,emits:Ra,methods:Ra,computed:Ra,beforeCreate:Ir,created:Ir,beforeMount:Ir,mounted:Ir,beforeUpdate:Ir,updated:Ir,beforeDestroy:Ir,beforeUnmount:Ir,destroyed:Ir,unmounted:Ir,activated:Ir,deactivated:Ir,errorCaptured:Ir,serverPrefetch:Ir,components:Ra,directives:Ra,watch:fL,provide:zk,inject:uL};function zk(e,t){return t?e?function(){return qt(mt(e)?e.call(this,this):e,mt(t)?t.call(this,this):t)}:t:e}function uL(e,t){return Ra(S0(e),S0(t))}function S0(e){if(et(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ir(e,t){return e?[...new Set([].concat(e,t))]:t}function Ra(e,t){return e?qt(qt(Object.create(null),e),t):t}function fL(e,t){if(!e)return t;if(!t)return e;const n=qt(Object.create(null),e);for(const r in t)n[r]=Ir(e[r],t[r]);return n}function cL(e,t,n,r=!1){const i={},o={};Jh(o,Eg,1),e.propsDefaults=Object.create(null),kT(e,t,i,o);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);n?e.props=r?i:Yh(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function dL(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:a}}=e,l=It(i),[f]=e.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const p=e.vnode.dynamicProps;for(let m=0;m<p.length;m++){let v=p[m];if(_g(e.emitsOptions,v))continue;const b=t[v];if(f)if(Rt(o,v))b!==o[v]&&(o[v]=b,h=!0);else{const _=_r(v);i[_]=T0(f,l,_,b,e,!1)}else b!==o[v]&&(o[v]=b,h=!0)}}}else{kT(e,t,i,o)&&(h=!0);let p;for(const m in l)(!t||!Rt(t,m)&&((p=Ji(m))===m||!Rt(t,p)))&&(f?n&&(n[m]!==void 0||n[p]!==void 0)&&(i[m]=T0(f,l,m,void 0,e,!0)):delete i[m]);if(o!==l)for(const m in o)(!t||!Rt(t,m)&&!0)&&(delete o[m],h=!0)}h&&es(e,"set","$attrs")}function kT(e,t,n,r){const[i,o]=e.propsOptions;let a=!1,l;if(t)for(let f in t){if(Ja(f))continue;const h=t[f];let p;i&&Rt(i,p=_r(f))?!o||!o.includes(p)?n[p]=h:(l||(l={}))[p]=h:_g(e.emitsOptions,f)||(!(f in r)||h!==r[f])&&(r[f]=h,a=!0)}if(o){const f=It(n),h=l||Kt;for(let p=0;p<o.length;p++){const m=o[p];n[m]=T0(i,f,m,h[m],e,!Rt(h,m))}}return a}function T0(e,t,n,r,i,o){const a=e[n];if(a!=null){const l=Rt(a,"default");if(l&&r===void 0){const f=a.default;if(a.type!==Function&&mt(f)){const{propsDefaults:h}=i;n in h?r=h[n]:(Qs(i),r=h[n]=f.call(null,t),Ks())}else r=f}a[0]&&(o&&!l?r=!1:a[1]&&(r===""||r===Ji(n))&&(r=!0))}return r}function xT(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const o=e.props,a={},l=[];let f=!1;if(!mt(e)){const p=m=>{f=!0;const[v,b]=xT(m,t,!0);qt(a,v),b&&l.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!o&&!f)return r.set(e,pu),pu;if(et(o))for(let p=0;p<o.length;p++){const m=_r(o[p]);$k(m)&&(a[m]=Kt)}else if(o)for(const p in o){const m=_r(p);if($k(m)){const v=o[p],b=a[m]=et(v)||mt(v)?{type:v}:v;if(b){const _=Vk(Boolean,b.type),k=Vk(String,b.type);b[0]=_>-1,b[1]=k<0||_<k,(_>-1||Rt(b,"default"))&&l.push(m)}}}const h=[a,l];return r.set(e,h),h}function $k(e){return e[0]!=="$"}function Hk(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function jk(e,t){return Hk(e)===Hk(t)}function Vk(e,t){return et(t)?t.findIndex(n=>jk(n,e)):mt(t)&&jk(t,e)?0:-1}const CT=e=>e[0]==="_"||e==="$stable",gb=e=>et(e)?e.map(oi):[oi(e)],hL=(e,t,n)=>{const r=fn((...i)=>gb(t(...i)),n);return r._c=!1,r},ST=(e,t,n)=>{const r=e._ctx;for(const i in e){if(CT(i))continue;const o=e[i];if(mt(o))t[i]=hL(i,o,r);else if(o!=null){const a=gb(o);t[i]=()=>a}}},TT=(e,t)=>{const n=gb(t);e.slots.default=()=>n},pL=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=It(t),Jh(t,"_",n)):ST(t,e.slots={})}else e.slots={},t&&TT(e,t);Jh(e.slots,Eg,1)},gL=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,a=Kt;if(r.shapeFlag&32){const l=t._;l?n&&l===1?o=!1:(qt(i,t),!n&&l===1&&delete i._):(o=!t.$stable,ST(t,i)),a=t}else t&&(TT(e,t),a={default:1});if(o)for(const l in i)!CT(l)&&!(l in a)&&delete i[l]};function Rn(e,t){const n=mr;if(n===null)return e;const r=Ag(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[a,l,f,h=Kt]=t[o];mt(a)&&(a={mounted:a,updated:a}),a.deep&&Ua(l),i.push({dir:a,instance:r,value:l,oldValue:void 0,arg:f,modifiers:h})}return e}function co(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let a=0;a<i.length;a++){const l=i[a];o&&(l.oldValue=o[a].value);let f=l.dir[r];f&&(vl(),ai(f,n,8,[e.el,l,e,t]),yl())}}function ET(){return{app:null,config:{isNativeTag:Ph,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mL=0;function vL(e,t){return function(r,i=null){mt(r)||(r=Object.assign({},r)),i!=null&&!yn(i)&&(i=null);const o=ET(),a=new Set;let l=!1;const f=o.app={_uid:mL++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:GT,get config(){return o.config},set config(h){},use(h,...p){return a.has(h)||(h&&mt(h.install)?(a.add(h),h.install(f,...p)):mt(h)&&(a.add(h),h(f,...p))),f},mixin(h){return o.mixins.includes(h)||o.mixins.push(h),f},component(h,p){return p?(o.components[h]=p,f):o.components[h]},directive(h,p){return p?(o.directives[h]=p,f):o.directives[h]},mount(h,p,m){if(!l){const v=at(r,i);return v.appContext=o,p&&t?t(v,h):e(v,h,m),l=!0,f._container=h,h.__vue_app__=f,Ag(v.component)||v.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(h,p){return o.provides[h]=p,f}};return f}}function tp(e,t,n,r,i=!1){if(et(e)){e.forEach((v,b)=>tp(v,t&&(et(t)?t[b]:t),n,r,i));return}if(Tu(r)&&!i)return;const o=r.shapeFlag&4?Ag(r.component)||r.component.proxy:r.el,a=i?null:o,{i:l,r:f}=e,h=t&&t.r,p=l.refs===Kt?l.refs={}:l.refs,m=l.setupState;if(h!=null&&h!==f&&(wt(h)?(p[h]=null,Rt(m,h)&&(m[h]=null)):Bn(h)&&(h.value=null)),mt(f))bo(f,l,12,[a,p]);else{const v=wt(f),b=Bn(f);if(v||b){const _=()=>{if(e.f){const k=v?p[f]:f.value;i?et(k)&&Ky(k,o):et(k)?k.includes(o)||k.push(o):v?(p[f]=[o],Rt(m,f)&&(m[f]=p[f])):(f.value=[o],e.k&&(p[e.k]=f.value))}else v?(p[f]=a,Rt(m,f)&&(m[f]=a)):Bn(f)&&(f.value=a,e.k&&(p[e.k]=a))};a?(_.id=-1,ir(_,n)):_()}}}let Ms=!1;const gh=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",_v=e=>e.nodeType===8;function yL(e){const{mt:t,p:n,o:{patchProp:r,nextSibling:i,parentNode:o,remove:a,insert:l,createComment:f}}=e,h=(C,E)=>{if(!E.hasChildNodes()){n(null,C,E),Zh();return}Ms=!1,p(E.firstChild,C,null,null,null),Zh(),Ms&&console.error("Hydration completed but contains mismatches.")},p=(C,E,S,F,O,K=!1)=>{const j=_v(C)&&C.data==="[",U=()=>_(C,E,S,F,O,j),{type:q,ref:B,shapeFlag:R}=E,V=C.nodeType;E.el=C;let Z=null;switch(q){case Eu:V!==3?Z=U():(C.data!==E.children&&(Ms=!0,C.data=E.children),Z=i(C));break;case yr:V!==8||j?Z=U():Z=i(C);break;case Za:if(V!==1)Z=U();else{Z=C;const W=!E.children.length;for(let ie=0;ie<E.staticCount;ie++)W&&(E.children+=Z.outerHTML),ie===E.staticCount-1&&(E.anchor=Z),Z=i(Z);return Z}break;case Tt:j?Z=b(C,E,S,F,O,K):Z=U();break;default:if(R&1)V!==1||E.type.toLowerCase()!==C.tagName.toLowerCase()?Z=U():Z=m(C,E,S,F,O,K);else if(R&6){E.slotScopeIds=O;const W=o(C);if(t(E,W,null,S,F,gh(W),K),Z=j?k(C):i(C),Tu(E)){let ie;j?(ie=at(Tt),ie.anchor=Z?Z.previousSibling:W.lastChild):ie=C.nodeType===3?ds(""):at("div"),ie.el=C,E.component.subTree=ie}}else R&64?V!==8?Z=U():Z=E.type.hydrate(C,E,S,F,O,K,e,v):R&128&&(Z=E.type.hydrate(C,E,S,F,gh(o(C)),O,K,e,p))}return B!=null&&tp(B,null,F,E),Z},m=(C,E,S,F,O,K)=>{K=K||!!E.dynamicChildren;const{type:j,props:U,patchFlag:q,shapeFlag:B,dirs:R}=E,V=j==="input"&&R||j==="option";if(V||q!==-1){if(R&&co(E,null,S,"created"),U)if(V||!K||q&48)for(const W in U)(V&&W.endsWith("value")||pl(W)&&!Ja(W))&&r(C,W,null,U[W],!1,void 0,S);else U.onClick&&r(C,"onClick",null,U.onClick,!1,void 0,S);let Z;if((Z=U&&U.onVnodeBeforeMount)&&Ur(Z,S,E),R&&co(E,null,S,"beforeMount"),((Z=U&&U.onVnodeMounted)||R)&&sT(()=>{Z&&Ur(Z,S,E),R&&co(E,null,S,"mounted")},F),B&16&&!(U&&(U.innerHTML||U.textContent))){let W=v(C.firstChild,E,C,S,F,O,K);for(;W;){Ms=!0;const ie=W;W=W.nextSibling,a(ie)}}else B&8&&C.textContent!==E.children&&(Ms=!0,C.textContent=E.children)}return C.nextSibling},v=(C,E,S,F,O,K,j)=>{j=j||!!E.dynamicChildren;const U=E.children,q=U.length;for(let B=0;B<q;B++){const R=j?U[B]:U[B]=oi(U[B]);if(C)C=p(C,R,F,O,K,j);else{if(R.type===Eu&&!R.children)continue;Ms=!0,n(null,R,S,null,F,O,gh(S),K)}}return C},b=(C,E,S,F,O,K)=>{const{slotScopeIds:j}=E;j&&(O=O?O.concat(j):j);const U=o(C),q=v(i(C),E,U,S,F,O,K);return q&&_v(q)&&q.data==="]"?i(E.anchor=q):(Ms=!0,l(E.anchor=f("]"),U,q),q)},_=(C,E,S,F,O,K)=>{if(Ms=!0,E.el=null,K){const q=k(C);for(;;){const B=i(C);if(B&&B!==q)a(B);else break}}const j=i(C),U=o(C);return a(C),n(null,E,U,j,S,F,gh(U),O),j},k=C=>{let E=0;for(;C;)if(C=i(C),C&&_v(C)&&(C.data==="["&&E++,C.data==="]")){if(E===0)return i(C);E--}return C};return[h,p]}const ir=sT;function AT(e){return DT(e)}function OT(e){return DT(e,yL)}function DT(e,t){const n=K4();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:a,createText:l,createComment:f,setText:h,setElementText:p,parentNode:m,nextSibling:v,setScopeId:b=Br,cloneNode:_,insertStaticContent:k}=e,C=(ee,re,fe,ge=null,ye=null,H=null,X=!1,A=null,I=!!re.dynamicChildren)=>{if(ee===re)return;ee&&!po(ee,re)&&(ge=_e(ee),pt(ee,ye,H,!0),ee=null),re.patchFlag===-2&&(I=!1,re.dynamicChildren=null);const{type:D,ref:z,shapeFlag:P}=re;switch(D){case Eu:E(ee,re,fe,ge);break;case yr:S(ee,re,fe,ge);break;case Za:ee==null&&F(re,fe,ge,X);break;case Tt:W(ee,re,fe,ge,ye,H,X,A,I);break;default:P&1?j(ee,re,fe,ge,ye,H,X,A,I):P&6?ie(ee,re,fe,ge,ye,H,X,A,I):(P&64||P&128)&&D.process(ee,re,fe,ge,ye,H,X,A,I,qe)}z!=null&&ye&&tp(z,ee&&ee.ref,H,re||ee,!re)},E=(ee,re,fe,ge)=>{if(ee==null)r(re.el=l(re.children),fe,ge);else{const ye=re.el=ee.el;re.children!==ee.children&&h(ye,re.children)}},S=(ee,re,fe,ge)=>{ee==null?r(re.el=f(re.children||""),fe,ge):re.el=ee.el},F=(ee,re,fe,ge)=>{[ee.el,ee.anchor]=k(ee.children,re,fe,ge,ee.el,ee.anchor)},O=({el:ee,anchor:re},fe,ge)=>{let ye;for(;ee&&ee!==re;)ye=v(ee),r(ee,fe,ge),ee=ye;r(re,fe,ge)},K=({el:ee,anchor:re})=>{let fe;for(;ee&&ee!==re;)fe=v(ee),i(ee),ee=fe;i(re)},j=(ee,re,fe,ge,ye,H,X,A,I)=>{X=X||re.type==="svg",ee==null?U(re,fe,ge,ye,H,X,A,I):R(ee,re,ye,H,X,A,I)},U=(ee,re,fe,ge,ye,H,X,A)=>{let I,D;const{type:z,props:P,shapeFlag:Q,transition:ae,patchFlag:de,dirs:me}=ee;if(ee.el&&_!==void 0&&de===-1)I=ee.el=_(ee.el);else{if(I=ee.el=a(ee.type,H,P&&P.is,P),Q&8?p(I,ee.children):Q&16&&B(ee.children,I,null,ge,ye,H&&z!=="foreignObject",X,A),me&&co(ee,null,ge,"created"),P){for(const Y in P)Y!=="value"&&!Ja(Y)&&o(I,Y,null,P[Y],H,ee.children,ge,ye,Ce);"value"in P&&o(I,"value",null,P.value),(D=P.onVnodeBeforeMount)&&Ur(D,ge,ee)}q(I,ee,ee.scopeId,X,ge)}me&&co(ee,null,ge,"beforeMount");const J=(!ye||ye&&!ye.pendingBranch)&&ae&&!ae.persisted;J&&ae.beforeEnter(I),r(I,re,fe),((D=P&&P.onVnodeMounted)||J||me)&&ir(()=>{D&&Ur(D,ge,ee),J&&ae.enter(I),me&&co(ee,null,ge,"mounted")},ye)},q=(ee,re,fe,ge,ye)=>{if(fe&&b(ee,fe),ge)for(let H=0;H<ge.length;H++)b(ee,ge[H]);if(ye){let H=ye.subTree;if(re===H){const X=ye.vnode;q(ee,X,X.scopeId,X.slotScopeIds,ye.parent)}}},B=(ee,re,fe,ge,ye,H,X,A,I=0)=>{for(let D=I;D<ee.length;D++){const z=ee[D]=A?$s(ee[D]):oi(ee[D]);C(null,z,re,fe,ge,ye,H,X,A)}},R=(ee,re,fe,ge,ye,H,X)=>{const A=re.el=ee.el;let{patchFlag:I,dynamicChildren:D,dirs:z}=re;I|=ee.patchFlag&16;const P=ee.props||Kt,Q=re.props||Kt;let ae;fe&&Na(fe,!1),(ae=Q.onVnodeBeforeUpdate)&&Ur(ae,fe,re,ee),z&&co(re,ee,fe,"beforeUpdate"),fe&&Na(fe,!0);const de=ye&&re.type!=="foreignObject";if(D?V(ee.dynamicChildren,D,A,fe,ge,de,H):X||We(ee,re,A,null,fe,ge,de,H,!1),I>0){if(I&16)Z(A,re,P,Q,fe,ge,ye);else if(I&2&&P.class!==Q.class&&o(A,"class",null,Q.class,ye),I&4&&o(A,"style",P.style,Q.style,ye),I&8){const me=re.dynamicProps;for(let J=0;J<me.length;J++){const Y=me[J],he=P[Y],Le=Q[Y];(Le!==he||Y==="value")&&o(A,Y,he,Le,ye,ee.children,fe,ge,Ce)}}I&1&&ee.children!==re.children&&p(A,re.children)}else!X&&D==null&&Z(A,re,P,Q,fe,ge,ye);((ae=Q.onVnodeUpdated)||z)&&ir(()=>{ae&&Ur(ae,fe,re,ee),z&&co(re,ee,fe,"updated")},ge)},V=(ee,re,fe,ge,ye,H,X)=>{for(let A=0;A<re.length;A++){const I=ee[A],D=re[A],z=I.el&&(I.type===Tt||!po(I,D)||I.shapeFlag&70)?m(I.el):fe;C(I,D,z,null,ge,ye,H,X,!0)}},Z=(ee,re,fe,ge,ye,H,X)=>{if(fe!==ge){for(const A in ge){if(Ja(A))continue;const I=ge[A],D=fe[A];I!==D&&A!=="value"&&o(ee,A,D,I,X,re.children,ye,H,Ce)}if(fe!==Kt)for(const A in fe)!Ja(A)&&!(A in ge)&&o(ee,A,fe[A],null,X,re.children,ye,H,Ce);"value"in ge&&o(ee,"value",fe.value,ge.value)}},W=(ee,re,fe,ge,ye,H,X,A,I)=>{const D=re.el=ee?ee.el:l(""),z=re.anchor=ee?ee.anchor:l("");let{patchFlag:P,dynamicChildren:Q,slotScopeIds:ae}=re;ae&&(A=A?A.concat(ae):ae),ee==null?(r(D,fe,ge),r(z,fe,ge),B(re.children,fe,z,ye,H,X,A,I)):P>0&&P&64&&Q&&ee.dynamicChildren?(V(ee.dynamicChildren,Q,fe,ye,H,X,A),(re.key!=null||ye&&re===ye.subTree)&&mb(ee,re,!0)):We(ee,re,fe,z,ye,H,X,A,I)},ie=(ee,re,fe,ge,ye,H,X,A,I)=>{re.slotScopeIds=A,ee==null?re.shapeFlag&512?ye.ctx.activate(re,fe,ge,X,I):L(re,fe,ge,ye,H,X,I):ce(ee,re,I)},L=(ee,re,fe,ge,ye,H,X)=>{const A=ee.component=BT(ee,ge,ye);if(dd(ee)&&(A.ctx.renderer=qe),$T(A),A.asyncDep){if(ye&&ye.registerDep(A,pe),!ee.el){const I=A.subTree=at(yr);S(null,I,re,fe)}return}pe(A,ee,re,fe,ye,H,X)},ce=(ee,re,fe)=>{const ge=re.component=ee.component;if(UN(ee,re,fe))if(ge.asyncDep&&!ge.asyncResolved){Te(ge,re,fe);return}else ge.next=re,zN(ge.update),ge.update();else re.component=ee.component,re.el=ee.el,ge.vnode=re},pe=(ee,re,fe,ge,ye,H,X)=>{const A=()=>{if(ee.isMounted){let{next:z,bu:P,u:Q,parent:ae,vnode:de}=ee,me=z,J;Na(ee,!1),z?(z.el=de.el,Te(ee,z,X)):z=de,P&&vu(P),(J=z.props&&z.props.onVnodeBeforeUpdate)&&Ur(J,ae,z,de),Na(ee,!0);const Y=Ih(ee),he=ee.subTree;ee.subTree=Y,C(he,Y,m(he.el),_e(he),ee,ye,H),z.el=Y.el,me===null&&cb(ee,Y.el),Q&&ir(Q,ye),(J=z.props&&z.props.onVnodeUpdated)&&ir(()=>Ur(J,ae,z,de),ye)}else{let z;const{el:P,props:Q}=re,{bm:ae,m:de,parent:me}=ee,J=Tu(re);if(Na(ee,!1),ae&&vu(ae),!J&&(z=Q&&Q.onVnodeBeforeMount)&&Ur(z,me,re),Na(ee,!0),P&&gt){const Y=()=>{ee.subTree=Ih(ee),gt(P,ee.subTree,ee,ye,null)};J?re.type.__asyncLoader().then(()=>!ee.isUnmounted&&Y()):Y()}else{const Y=ee.subTree=Ih(ee);C(null,Y,fe,ge,ee,ye,H),re.el=Y.el}if(de&&ir(de,ye),!J&&(z=Q&&Q.onVnodeMounted)){const Y=re;ir(()=>Ur(z,me,Y),ye)}re.shapeFlag&256&&ee.a&&ir(ee.a,ye),ee.isMounted=!0,re=fe=ge=null}},I=ee.effect=new fd(A,()=>ob(ee.update),ee.scope),D=ee.update=I.run.bind(I);D.id=ee.uid,Na(ee,!0),D()},Te=(ee,re,fe)=>{re.component=ee;const ge=ee.vnode.props;ee.vnode=re,ee.next=null,dL(ee,re.props,ge,fe),gL(ee,re.children,fe),vl(),ab(void 0,ee.update),yl()},We=(ee,re,fe,ge,ye,H,X,A,I=!1)=>{const D=ee&&ee.children,z=ee?ee.shapeFlag:0,P=re.children,{patchFlag:Q,shapeFlag:ae}=re;if(Q>0){if(Q&128){bt(D,P,fe,ge,ye,H,X,A,I);return}else if(Q&256){nt(D,P,fe,ge,ye,H,X,A,I);return}}ae&8?(z&16&&Ce(D,ye,H),P!==D&&p(fe,P)):z&16?ae&16?bt(D,P,fe,ge,ye,H,X,A,I):Ce(D,ye,H,!0):(z&8&&p(fe,""),ae&16&&B(P,fe,ge,ye,H,X,A,I))},nt=(ee,re,fe,ge,ye,H,X,A,I)=>{ee=ee||pu,re=re||pu;const D=ee.length,z=re.length,P=Math.min(D,z);let Q;for(Q=0;Q<P;Q++){const ae=re[Q]=I?$s(re[Q]):oi(re[Q]);C(ee[Q],ae,fe,null,ye,H,X,A,I)}D>z?Ce(ee,ye,H,!0,!1,P):B(re,fe,ge,ye,H,X,A,I,P)},bt=(ee,re,fe,ge,ye,H,X,A,I)=>{let D=0;const z=re.length;let P=ee.length-1,Q=z-1;for(;D<=P&&D<=Q;){const ae=ee[D],de=re[D]=I?$s(re[D]):oi(re[D]);if(po(ae,de))C(ae,de,fe,null,ye,H,X,A,I);else break;D++}for(;D<=P&&D<=Q;){const ae=ee[P],de=re[Q]=I?$s(re[Q]):oi(re[Q]);if(po(ae,de))C(ae,de,fe,null,ye,H,X,A,I);else break;P--,Q--}if(D>P){if(D<=Q){const ae=Q+1,de=ae<z?re[ae].el:ge;for(;D<=Q;)C(null,re[D]=I?$s(re[D]):oi(re[D]),fe,de,ye,H,X,A,I),D++}}else if(D>Q)for(;D<=P;)pt(ee[D],ye,H,!0),D++;else{const ae=D,de=D,me=new Map;for(D=de;D<=Q;D++){const De=re[D]=I?$s(re[D]):oi(re[D]);De.key!=null&&me.set(De.key,D)}let J,Y=0;const he=Q-de+1;let Le=!1,it=0;const oe=new Array(he);for(D=0;D<he;D++)oe[D]=0;for(D=ae;D<=P;D++){const De=ee[D];if(Y>=he){pt(De,ye,H,!0);continue}let we;if(De.key!=null)we=me.get(De.key);else for(J=de;J<=Q;J++)if(oe[J-de]===0&&po(De,re[J])){we=J;break}we===void 0?pt(De,ye,H,!0):(oe[we-de]=D+1,we>=it?it=we:Le=!0,C(De,re[we],fe,null,ye,H,X,A,I),Y++)}const Fe=Le?bL(oe):pu;for(J=Fe.length-1,D=he-1;D>=0;D--){const De=de+D,we=re[De],Ue=De+1<z?re[De+1].el:ge;oe[D]===0?C(null,we,fe,Ue,ye,H,X,A,I):Le&&(J<0||D!==Fe[J]?Mt(we,fe,Ue,2):J--)}}},Mt=(ee,re,fe,ge,ye=null)=>{const{el:H,type:X,transition:A,children:I,shapeFlag:D}=ee;if(D&6){Mt(ee.component.subTree,re,fe,ge);return}if(D&128){ee.suspense.move(re,fe,ge);return}if(D&64){X.move(ee,re,fe,qe);return}if(X===Tt){r(H,re,fe);for(let P=0;P<I.length;P++)Mt(I[P],re,fe,ge);r(ee.anchor,re,fe);return}if(X===Za){O(ee,re,fe);return}if(ge!==2&&D&1&&A)if(ge===0)A.beforeEnter(H),r(H,re,fe),ir(()=>A.enter(H),ye);else{const{leave:P,delayLeave:Q,afterLeave:ae}=A,de=()=>r(H,re,fe),me=()=>{P(H,()=>{de(),ae&&ae()})};Q?Q(H,de,me):me()}else r(H,re,fe)},pt=(ee,re,fe,ge=!1,ye=!1)=>{const{type:H,props:X,ref:A,children:I,dynamicChildren:D,shapeFlag:z,patchFlag:P,dirs:Q}=ee;if(A!=null&&tp(A,null,fe,ee,!0),z&256){re.ctx.deactivate(ee);return}const ae=z&1&&Q,de=!Tu(ee);let me;if(de&&(me=X&&X.onVnodeBeforeUnmount)&&Ur(me,re,ee),z&6)Re(ee.component,fe,ge);else{if(z&128){ee.suspense.unmount(fe,ge);return}ae&&co(ee,null,re,"beforeUnmount"),z&64?ee.type.remove(ee,re,fe,ye,qe,ge):D&&(H!==Tt||P>0&&P&64)?Ce(D,re,fe,!1,!0):(H===Tt&&P&384||!ye&&z&16)&&Ce(I,re,fe),ge&&st(ee)}(de&&(me=X&&X.onVnodeUnmounted)||ae)&&ir(()=>{me&&Ur(me,re,ee),ae&&co(ee,null,re,"unmounted")},fe)},st=ee=>{const{type:re,el:fe,anchor:ge,transition:ye}=ee;if(re===Tt){Ye(fe,ge);return}if(re===Za){K(ee);return}const H=()=>{i(fe),ye&&!ye.persisted&&ye.afterLeave&&ye.afterLeave()};if(ee.shapeFlag&1&&ye&&!ye.persisted){const{leave:X,delayLeave:A}=ye,I=()=>X(fe,H);A?A(ee.el,H,I):I()}else H()},Ye=(ee,re)=>{let fe;for(;ee!==re;)fe=v(ee),i(ee),ee=fe;i(re)},Re=(ee,re,fe)=>{const{bum:ge,scope:ye,update:H,subTree:X,um:A}=ee;ge&&vu(ge),ye.stop(),H&&(H.active=!1,pt(X,ee,re,fe)),A&&ir(A,re),ir(()=>{ee.isUnmounted=!0},re),re&&re.pendingBranch&&!re.isUnmounted&&ee.asyncDep&&!ee.asyncResolved&&ee.suspenseId===re.pendingId&&(re.deps--,re.deps===0&&re.resolve())},Ce=(ee,re,fe,ge=!1,ye=!1,H=0)=>{for(let X=H;X<ee.length;X++)pt(ee[X],re,fe,ge,ye)},_e=ee=>ee.shapeFlag&6?_e(ee.component.subTree):ee.shapeFlag&128?ee.suspense.next():v(ee.anchor||ee.el),je=(ee,re,fe)=>{ee==null?re._vnode&&pt(re._vnode,null,null,!0):C(re._vnode||null,ee,re,null,null,null,fe),Zh(),re._vnode=ee},qe={p:C,um:pt,m:Mt,r:st,mt:L,mc:B,pc:We,pbc:V,n:_e,o:e};let Ve,gt;return t&&([Ve,gt]=t(qe)),{render:je,hydrate:Ve,createApp:vL(je,Ve)}}function Na({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function mb(e,t,n=!1){const r=e.children,i=t.children;if(et(r)&&et(i))for(let o=0;o<r.length;o++){const a=r[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=$s(i[o]),l.el=a.el),n||mb(a,l))}}function bL(e){const t=e.slice(),n=[0];let r,i,o,a,l;const f=e.length;for(r=0;r<f;r++){const h=e[r];if(h!==0){if(i=n[n.length-1],e[i]<h){t[r]=i,n.push(r);continue}for(o=0,a=n.length-1;o<a;)l=o+a>>1,e[n[l]]<h?o=l+1:a=l;h<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=t[a];return n}const _L=e=>e.__isTeleport,ac=e=>e&&(e.disabled||e.disabled===""),Wk=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,E0=(e,t)=>{const n=e&&e.to;return wt(n)?t?t(n):null:n},wL={__isTeleport:!0,process(e,t,n,r,i,o,a,l,f,h){const{mc:p,pc:m,pbc:v,o:{insert:b,querySelector:_,createText:k,createComment:C}}=h,E=ac(t.props);let{shapeFlag:S,children:F,dynamicChildren:O}=t;if(e==null){const K=t.el=k(""),j=t.anchor=k("");b(K,n,r),b(j,n,r);const U=t.target=E0(t.props,_),q=t.targetAnchor=k("");U&&(b(q,U),a=a||Wk(U));const B=(R,V)=>{S&16&&p(F,R,V,i,o,a,l,f)};E?B(n,j):U&&B(U,q)}else{t.el=e.el;const K=t.anchor=e.anchor,j=t.target=e.target,U=t.targetAnchor=e.targetAnchor,q=ac(e.props),B=q?n:j,R=q?K:U;if(a=a||Wk(j),O?(v(e.dynamicChildren,O,B,i,o,a,l),mb(e,t,!0)):f||m(e,t,B,R,i,o,a,l,!1),E)q||mh(t,n,K,h,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const V=t.target=E0(t.props,_);V&&mh(t,V,null,h,0)}else q&&mh(t,j,U,h,1)}},remove(e,t,n,r,{um:i,o:{remove:o}},a){const{shapeFlag:l,children:f,anchor:h,targetAnchor:p,target:m,props:v}=e;if(m&&o(p),(a||!ac(v))&&(o(h),l&16))for(let b=0;b<f.length;b++){const _=f[b];i(_,t,n,!0,!!_.dynamicChildren)}},move:mh,hydrate:kL};function mh(e,t,n,{o:{insert:r},m:i},o=2){o===0&&r(e.targetAnchor,t,n);const{el:a,anchor:l,shapeFlag:f,children:h,props:p}=e,m=o===2;if(m&&r(a,t,n),(!m||ac(p))&&f&16)for(let v=0;v<h.length;v++)i(h[v],t,n,2);m&&r(l,t,n)}function kL(e,t,n,r,i,o,{o:{nextSibling:a,parentNode:l,querySelector:f}},h){const p=t.target=E0(t.props,f);if(p){const m=p._lpa||p.firstChild;t.shapeFlag&16&&(ac(t.props)?(t.anchor=h(a(e),t,l(e),n,r,i,o),t.targetAnchor=m):(t.anchor=a(e),t.targetAnchor=h(m,t,p,n,r,i,o)),p._lpa=t.targetAnchor&&a(t.targetAnchor))}return t.anchor&&a(t.anchor)}const MT=wL,vb="components",xL="directives";function Ot(e,t){return yb(vb,e,!0,t)||e}const NT=Symbol();function Xs(e){return wt(e)?yb(vb,e,!1)||e:e||NT}function Tg(e){return yb(xL,e)}function yb(e,t,n=!0,r=!1){const i=mr||Un;if(i){const o=i.type;if(e===vb){const l=ip(o);if(l&&(l===t||l===_r(t)||l===ml(_r(t))))return o}const a=Uk(i[e]||o[e],t)||Uk(i.appContext[e],t);return!a&&r?o:a}}function Uk(e,t){return e&&(e[t]||e[_r(t)]||e[ml(_r(t))])}const Tt=Symbol(void 0),Eu=Symbol(void 0),yr=Symbol(void 0),Za=Symbol(void 0),lc=[];let _o=null;function xe(e=!1){lc.push(_o=e?null:[])}function LT(){lc.pop(),_o=lc[lc.length-1]||null}let Au=1;function A0(e){Au+=e}function PT(e){return e.dynamicChildren=Au>0?_o||pu:null,LT(),Au>0&&_o&&_o.push(e),e}function Ie(e,t,n,r,i,o){return PT(le(e,t,n,r,i,o,!0))}function Wt(e,t,n,r,i){return PT(at(e,t,n,r,i,!0))}function Zs(e){return e?e.__v_isVNode===!0:!1}function po(e,t){return e.type===t.type&&e.key===t.key}function CL(e){}const Eg="__vInternal",IT=({key:e})=>e!=null?e:null,Fh=({ref:e,ref_key:t,ref_for:n})=>e!=null?wt(e)||Bn(e)||mt(e)?{i:mr,r:e,k:t,f:!!n}:e:null;function le(e,t=null,n=null,r=0,i=null,o=e===Tt?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&IT(t),ref:t&&Fh(t),scopeId:wg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return l?(bb(f,n),o&128&&e.normalize(f)):n&&(f.shapeFlag|=wt(n)?8:16),Au>0&&!a&&_o&&(f.patchFlag>0||o&6)&&f.patchFlag!==32&&_o.push(f),f}const at=SL;function SL(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===NT)&&(e=yr),Zs(e)){const l=ts(e,t,!0);return n&&bb(l,n),l}if(IL(e)&&(e=e.__vccOpts),t){t=FT(t);let{class:l,style:f}=t;l&&!wt(l)&&(t.class=Vt(l)),yn(f)&&(eb(f)&&!et(f)&&(f=qt({},f)),t.style=Si(f))}const a=wt(e)?1:KN(e)?128:_L(e)?64:yn(e)?4:mt(e)?2:0;return le(e,t,n,r,i,a,o,!0)}function FT(e){return e?eb(e)||Eg in e?qt({},e):e:null}function ts(e,t,n=!1){const{props:r,ref:i,patchFlag:o,children:a}=e,l=t?fi(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&IT(l),ref:t&&t.ref?n&&i?et(i)?i.concat(Fh(t)):[i,Fh(t)]:Fh(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Tt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ts(e.ssContent),ssFallback:e.ssFallback&&ts(e.ssFallback),el:e.el,anchor:e.anchor}}function ds(e=" ",t=0){return at(Eu,null,e,t)}function TL(e,t){const n=at(Za,null,e);return n.staticCount=t,n}function Pt(e="",t=!1){return t?(xe(),Wt(yr,null,e)):at(yr,null,e)}function oi(e){return e==null||typeof e=="boolean"?at(yr):et(e)?at(Tt,null,e.slice()):typeof e=="object"?$s(e):at(Eu,null,String(e))}function $s(e){return e.el===null||e.memo?e:ts(e)}function bb(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(et(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),bb(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(Eg in t)?t._ctx=mr:i===3&&mr&&(mr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else mt(t)?(t={default:t,_ctx:mr},n=32):(t=String(t),r&64?(n=16,t=[ds(t)]):n=8);e.children=t,e.shapeFlag|=n}function fi(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Vt([t.class,r.class]));else if(i==="style")t.style=Si([t.style,r.style]);else if(pl(i)){const o=t[i],a=r[i];a&&o!==a&&!(et(o)&&o.includes(a))&&(t[i]=o?[].concat(o,a):a)}else i!==""&&(t[i]=r[i])}return t}function Ur(e,t,n,r=null){ai(e,t,7,[n,r])}function Dn(e,t,n,r){let i;const o=n&&n[r];if(et(e)||wt(e)){i=new Array(e.length);for(let a=0,l=e.length;a<l;a++)i[a]=t(e[a],a,void 0,o&&o[a])}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,o&&o[a])}else if(yn(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,o&&o[l]));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const h=a[l];i[l]=t(e[h],h,l,o&&o[l])}}else i=[];return n&&(n[r]=i),i}function _b(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(et(r))for(let i=0;i<r.length;i++)e[r[i].name]=r[i].fn;else r&&(e[r.name]=r.fn)}return e}function In(e,t,n={},r,i){if(mr.isCE||mr.parent&&Tu(mr.parent)&&mr.parent.isCE)return at("slot",t==="default"?null:{name:t},r&&r());let o=e[t];o&&o._c&&(o._d=!1),xe();const a=o&&RT(o(n)),l=Wt(Tt,{key:n.key||`_${t}`},a||(r?r():[]),a&&e._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function RT(e){return e.some(t=>Zs(t)?!(t.type===yr||t.type===Tt&&!RT(t.children)):!0)?e:null}function O0(e){const t={};for(const n in e)t[mu(n)]=e[n];return t}const D0=e=>e?zT(e)?Ag(e)||e.proxy:D0(e.parent):null,np=qt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>D0(e.parent),$root:e=>D0(e.root),$emit:e=>e.emit,$options:e=>wT(e),$forceUpdate:e=>()=>ob(e.update),$nextTick:e=>vo.bind(e.proxy),$watch:e=>eL.bind(e)}),M0={get({_:e},t){const{ctx:n,setupState:r,data:i,props:o,accessCache:a,type:l,appContext:f}=e;let h;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(r!==Kt&&Rt(r,t))return a[t]=1,r[t];if(i!==Kt&&Rt(i,t))return a[t]=2,i[t];if((h=e.propsOptions[0])&&Rt(h,t))return a[t]=3,o[t];if(n!==Kt&&Rt(n,t))return a[t]=4,n[t];C0&&(a[t]=0)}}const p=np[t];let m,v;if(p)return t==="$attrs"&&ui(e,"get",t),p(e);if((m=l.__cssModules)&&(m=m[t]))return m;if(n!==Kt&&Rt(n,t))return a[t]=4,n[t];if(v=f.config.globalProperties,Rt(v,t))return v[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return i!==Kt&&Rt(i,t)?(i[t]=n,!0):r!==Kt&&Rt(r,t)?(r[t]=n,!0):Rt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},a){let l;return!!n[a]||e!==Kt&&Rt(e,a)||t!==Kt&&Rt(t,a)||(l=o[0])&&Rt(l,a)||Rt(r,a)||Rt(np,a)||Rt(i.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Rt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},EL=qt({},M0,{get(e,t){if(t!==Symbol.unscopables)return M0.get(e,t,e)},has(e,t){return t[0]!=="_"&&!E4(t)}}),AL=ET();let OL=0;function BT(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||AL,o={uid:OL++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Jy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xT(r,i),emitsOptions:oT(r,i),emit:null,emitted:null,propsDefaults:Kt,inheritAttrs:r.inheritAttrs,ctx:Kt,data:Kt,props:Kt,attrs:Kt,slots:Kt,refs:Kt,setupState:Kt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=HN.bind(null,o),e.ce&&e.ce(o),o}let Un=null;const Eo=()=>Un||mr,Qs=e=>{Un=e,e.scope.on()},Ks=()=>{Un&&Un.scope.off(),Un=null};function zT(e){return e.vnode.shapeFlag&4}let Ou=!1;function $T(e,t=!1){Ou=t;const{props:n,children:r}=e.vnode,i=zT(e);cL(e,n,i,t),pL(e,r);const o=i?DL(e,t):void 0;return Ou=!1,o}function DL(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=ca(new Proxy(e.ctx,M0));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?VT(e):null;Qs(e),vl();const o=bo(r,e,0,[e.props,i]);if(yl(),Ks(),qy(o)){if(o.then(Ks,Ks),t)return o.then(a=>{N0(e,a,t)}).catch(a=>{_l(a,e,0)});e.asyncDep=o}else N0(e,o,t)}else jT(e,t)}function N0(e,t,n){mt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:yn(t)&&(e.setupState=rb(t)),jT(e,n)}let rp,L0;function HT(e){rp=e,L0=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,EL))}}const ML=()=>!rp;function jT(e,t,n){const r=e.type;if(!e.render){if(!t&&rp&&!r.render){const i=r.template;if(i){const{isCustomElement:o,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:f}=r,h=qt(qt({isCustomElement:o,delimiters:l},a),f);r.render=rp(i,h)}}e.render=r.render||Br,L0&&L0(e)}Qs(e),vl(),sL(e),yl(),Ks()}function NL(e){return new Proxy(e.attrs,{get(t,n){return ui(e,"get","$attrs"),t[n]}})}function VT(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=NL(e))},slots:e.slots,emit:e.emit,expose:t}}function Ag(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(rb(ca(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in np)return np[n](e)}}))}const LL=/(?:^|[-_])(\w)/g,PL=e=>e.replace(LL,t=>t.toUpperCase()).replace(/[-_]/g,"");function ip(e){return mt(e)&&e.displayName||e.name}function WT(e,t,n=!1){let r=ip(t);if(!r&&t.__file){const i=t.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&e&&e.parent){const i=o=>{for(const a in o)if(o[a]===t)return a};r=i(e.components||e.parent.type.components)||i(e.appContext.components)}return r?PL(r):n?"App":"Anonymous"}function IL(e){return mt(e)&&"__vccOpts"in e}const xn=(e,t)=>NN(e,t,Ou);function FL(){return null}function RL(){return null}function BL(e){}function zL(e,t){return null}function $L(){return UT().slots}function HL(){return UT().attrs}function UT(){const e=Eo();return e.setupContext||(e.setupContext=VT(e))}function jL(e,t){const n=et(e)?e.reduce((r,i)=>(r[i]={},r),{}):e;for(const r in t){const i=n[r];i?et(i)||mt(i)?n[r]={type:i,default:t[r]}:i.default=t[r]:i===null&&(n[r]={default:t[r]})}return n}function VL(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function WL(e){const t=Eo();let n=e();return Ks(),qy(n)&&(n=n.catch(r=>{throw Qs(t),r})),[n,()=>Qs(t)]}function Xn(e,t,n){const r=arguments.length;return r===2?yn(t)&&!et(t)?Zs(t)?at(e,null,[t]):at(e,t):at(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Zs(n)&&(n=[n]),at(e,t,n))}const KT=Symbol(""),UL=()=>{{const e=sc(KT);return e||Z2("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function KL(){}function qL(e,t,n,r){const i=n[r];if(i&&qT(i,e))return i;const o=t();return o.memo=e.slice(),n[r]=o}function qT(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(n[r]!==t[r])return!1;return Au>0&&_o&&_o.push(e),!0}const GT="3.2.33",GL={createComponentInstance:BT,setupComponent:$T,renderComponentRoot:Ih,setCurrentRenderingInstance:Rc,isVNode:Zs,normalizeVNode:oi},JL=GL,YL=null,XL=null,ZL="http://www.w3.org/2000/svg",ja=typeof document!="undefined"?document:null,Kk=ja&&ja.createElement("template"),QL={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?ja.createElementNS(ZL,e):ja.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>ja.createTextNode(e),createComment:e=>ja.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ja.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,i,o){const a=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{Kk.innerHTML=r?`<svg>${e}</svg>`:e;const l=Kk.content;if(r){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function eP(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function tP(e,t,n){const r=e.style,i=wt(n);if(n&&!i){for(const o in n)P0(r,o,n[o]);if(t&&!wt(t))for(const o in t)n[o]==null&&P0(r,o,"")}else{const o=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}const qk=/\s*!important$/;function P0(e,t,n){if(et(n))n.forEach(r=>P0(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=nP(e,t);qk.test(n)?e.setProperty(Ji(r),n.replace(qk,""),"important"):e[r]=n}}const Gk=["Webkit","Moz","ms"],wv={};function nP(e,t){const n=wv[t];if(n)return n;let r=_r(t);if(r!=="filter"&&r in e)return wv[t]=r;r=ml(r);for(let i=0;i<Gk.length;i++){const o=Gk[i]+r;if(o in e)return wv[t]=o}return t}const Jk="http://www.w3.org/1999/xlink";function rP(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Jk,t.slice(6,t.length)):e.setAttributeNS(Jk,t,n);else{const o=O4(t);n==null||o&&!D2(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function iP(e,t,n,r,i,o,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,i,o),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const f=n==null?"":n;(e.value!==f||e.tagName==="OPTION")&&(e.value=f),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=D2(n):n==null&&f==="string"?(n="",l=!0):f==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}const[JT,oP]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=()=>performance.now());const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let I0=0;const sP=Promise.resolve(),aP=()=>{I0=0},lP=()=>I0||(sP.then(aP),I0=JT());function Wo(e,t,n,r){e.addEventListener(t,n,r)}function uP(e,t,n,r){e.removeEventListener(t,n,r)}function fP(e,t,n,r,i=null){const o=e._vei||(e._vei={}),a=o[t];if(r&&a)a.value=r;else{const[l,f]=cP(t);if(r){const h=o[t]=dP(r,i);Wo(e,l,h,f)}else a&&(uP(e,l,a,f),o[t]=void 0)}}const Yk=/(?:Once|Passive|Capture)$/;function cP(e){let t;if(Yk.test(e)){t={};let n;for(;n=e.match(Yk);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[Ji(e.slice(2)),t]}function dP(e,t){const n=r=>{const i=r.timeStamp||JT();(oP||i>=n.attached-1)&&ai(hP(r,n.value),t,5,[r])};return n.value=e,n.attached=lP(),n}function hP(e,t){if(et(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const Xk=/^on[a-z]/,pP=(e,t,n,r,i=!1,o,a,l,f)=>{t==="class"?eP(e,r,i):t==="style"?tP(e,n,r):pl(t)?Uy(t)||fP(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):gP(e,t,r,i))?iP(e,t,r,o,a,l,f):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),rP(e,t,r,i))};function gP(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&Xk.test(t)&&mt(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Xk.test(t)&&wt(n)?!1:t in e}function YT(e,t){const n=pn(e);class r extends Og{constructor(o){super(n,o,t)}}return r.def=n,r}const mP=e=>YT(e,aE),vP=typeof HTMLElement!="undefined"?HTMLElement:class{};class Og extends vP{constructor(t,n={},r){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,vo(()=>{this._connected||(R0(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const t=r=>{const{props:i,styles:o}=r,a=!et(i),l=i?a?Object.keys(i):i:[];let f;if(a)for(const h in this._props){const p=i[h];(p===Number||p&&p.type===Number)&&(this._props[h]=Js(this._props[h]),(f||(f=Object.create(null)))[h]=!0)}this._numberProps=f;for(const h of Object.keys(this))h[0]!=="_"&&this._setProp(h,this[h],!0,!1);for(const h of l.map(_r))Object.defineProperty(this,h,{get(){return this._getProp(h)},set(p){this._setProp(h,p)}});this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(t):t(this._def)}_setAttr(t){let n=this.getAttribute(t);this._numberProps&&this._numberProps[t]&&(n=Js(n)),this._setProp(_r(t),n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,i=!0){n!==this._props[t]&&(this._props[t]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(Ji(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Ji(t),n+""):n||this.removeAttribute(Ji(t))))}_update(){R0(this._createVNode(),this.shadowRoot)}_createVNode(){const t=at(this._def,qt({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0,n.emit=(i,...o)=>{this.dispatchEvent(new CustomEvent(i,{detail:o}))};let r=this;for(;r=r&&(r.parentNode||r.host);)if(r instanceof Og){n.parent=r._instance;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function yP(e="$style"){{const t=Eo();if(!t)return Kt;const n=t.type.__cssModules;if(!n)return Kt;const r=n[e];return r||Kt}}function bP(e){const t=Eo();if(!t)return;const n=()=>F0(t.subTree,e(t.proxy));lT(n),to(()=>{const r=new MutationObserver(n);r.observe(t.subTree.el.parentNode,{childList:!0}),Sg(()=>r.disconnect())})}function F0(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{F0(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Zk(e.el,t);else if(e.type===Tt)e.children.forEach(n=>F0(n,t));else if(e.type===Za){let{el:n,anchor:r}=e;for(;n&&(Zk(n,t),n!==r);)n=n.nextSibling}}function Zk(e,t){if(e.nodeType===1){const n=e.style;for(const r in t)n.setProperty(`--${r}`,t[r])}}const Ns="transition",Rf="animation",zc=(e,{slots:t})=>Xn(pb,ZT(e),t);zc.displayName="Transition";const XT={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},_P=zc.props=qt({},pb.props,XT),La=(e,t=[])=>{et(e)?e.forEach(n=>n(...t)):e&&e(...t)},Qk=e=>e?et(e)?e.some(t=>t.length>1):e.length>1:!1;function ZT(e){const t={};for(const Z in e)Z in XT||(t[Z]=e[Z]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:f=o,appearActiveClass:h=a,appearToClass:p=l,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:v=`${n}-leave-active`,leaveToClass:b=`${n}-leave-to`}=e,_=wP(i),k=_&&_[0],C=_&&_[1],{onBeforeEnter:E,onEnter:S,onEnterCancelled:F,onLeave:O,onLeaveCancelled:K,onBeforeAppear:j=E,onAppear:U=S,onAppearCancelled:q=F}=t,B=(Z,W,ie)=>{Ba(Z,W?p:l),Ba(Z,W?h:a),ie&&ie()},R=(Z,W)=>{Ba(Z,b),Ba(Z,v),W&&W()},V=Z=>(W,ie)=>{const L=Z?U:S,ce=()=>B(W,Z,ie);La(L,[W,ce]),ex(()=>{Ba(W,Z?f:o),zo(W,Z?p:l),Qk(L)||tx(W,r,k,ce)})};return qt(t,{onBeforeEnter(Z){La(E,[Z]),zo(Z,o),zo(Z,a)},onBeforeAppear(Z){La(j,[Z]),zo(Z,f),zo(Z,h)},onEnter:V(!1),onAppear:V(!0),onLeave(Z,W){const ie=()=>R(Z,W);zo(Z,m),eE(),zo(Z,v),ex(()=>{Ba(Z,m),zo(Z,b),Qk(O)||tx(Z,r,C,ie)}),La(O,[Z,ie])},onEnterCancelled(Z){B(Z,!1),La(F,[Z])},onAppearCancelled(Z){B(Z,!0),La(q,[Z])},onLeaveCancelled(Z){R(Z),La(K,[Z])}})}function wP(e){if(e==null)return null;if(yn(e))return[kv(e.enter),kv(e.leave)];{const t=kv(e);return[t,t]}}function kv(e){return Js(e)}function zo(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Ba(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function ex(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let kP=0;function tx(e,t,n,r){const i=e._endId=++kP,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:a,timeout:l,propCount:f}=QT(e,t);if(!a)return r();const h=a+"end";let p=0;const m=()=>{e.removeEventListener(h,v),o()},v=b=>{b.target===e&&++p>=f&&m()};setTimeout(()=>{p<f&&m()},l+1),e.addEventListener(h,v)}function QT(e,t){const n=window.getComputedStyle(e),r=_=>(n[_]||"").split(", "),i=r(Ns+"Delay"),o=r(Ns+"Duration"),a=nx(i,o),l=r(Rf+"Delay"),f=r(Rf+"Duration"),h=nx(l,f);let p=null,m=0,v=0;t===Ns?a>0&&(p=Ns,m=a,v=o.length):t===Rf?h>0&&(p=Rf,m=h,v=f.length):(m=Math.max(a,h),p=m>0?a>h?Ns:Rf:null,v=p?p===Ns?o.length:f.length:0);const b=p===Ns&&/\b(transform|all)(,|$)/.test(n[Ns+"Property"]);return{type:p,timeout:m,propCount:v,hasTransform:b}}function nx(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>rx(n)+rx(e[r])))}function rx(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function eE(){return document.body.offsetHeight}const tE=new WeakMap,nE=new WeakMap,xP={name:"TransitionGroup",props:qt({},_P,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Eo(),r=hb();let i,o;return Cg(()=>{if(!i.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!AP(i[0].el,n.vnode.el,a))return;i.forEach(SP),i.forEach(TP);const l=i.filter(EP);eE(),l.forEach(f=>{const h=f.el,p=h.style;zo(h,a),p.transform=p.webkitTransform=p.transitionDuration="";const m=h._moveCb=v=>{v&&v.target!==h||(!v||/transform$/.test(v.propertyName))&&(h.removeEventListener("transitionend",m),h._moveCb=null,Ba(h,a))};h.addEventListener("transitionend",m)})}),()=>{const a=It(e),l=ZT(a);let f=a.tag||Tt;i=o,o=t.default?kg(t.default()):[];for(let h=0;h<o.length;h++){const p=o[h];p.key!=null&&il(p,Su(p,l,r,n))}if(i)for(let h=0;h<i.length;h++){const p=i[h];il(p,Su(p,l,r,n)),tE.set(p,p.el.getBoundingClientRect())}return at(f,null,o)}}},CP=xP;function SP(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function TP(e){nE.set(e,e.el.getBoundingClientRect())}function EP(e){const t=tE.get(e),n=nE.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const o=e.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${i}px)`,o.transitionDuration="0s",e}}function AP(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:o}=QT(r);return i.removeChild(r),o}const ea=e=>{const t=e.props["onUpdate:modelValue"];return et(t)?n=>vu(t,n):t};function OP(e){e.target.composing=!0}function ix(e){const t=e.target;t.composing&&(t.composing=!1,DP(t,"input"))}function DP(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}const qr={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=ea(i);const o=r||i.props&&i.props.type==="number";Wo(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;n?l=l.trim():o&&(l=Js(l)),e._assign(l)}),n&&Wo(e,"change",()=>{e.value=e.value.trim()}),t||(Wo(e,"compositionstart",OP),Wo(e,"compositionend",ix),Wo(e,"change",ix))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},o){if(e._assign=ea(o),e.composing||document.activeElement===e&&(n||r&&e.value.trim()===t||(i||e.type==="number")&&Js(e.value)===t))return;const a=t==null?"":t;e.value!==a&&(e.value=a)}},hd={deep:!0,created(e,t,n){e._assign=ea(n),Wo(e,"change",()=>{const r=e._modelValue,i=Du(e),o=e.checked,a=e._assign;if(et(r)){const l=dg(r,i),f=l!==-1;if(o&&!f)a(r.concat(i));else if(!o&&f){const h=[...r];h.splice(l,1),a(h)}}else if(gl(r)){const l=new Set(r);o?l.add(i):l.delete(i),a(l)}else a(rE(e,o))})},mounted:ox,beforeUpdate(e,t,n){e._assign=ea(n),ox(e,t,n)}};function ox(e,{value:t,oldValue:n},r){e._modelValue=t,et(t)?e.checked=dg(t,r.props.value)>-1:gl(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=Gs(t,rE(e,!0)))}const wb={created(e,{value:t},n){e.checked=Gs(t,n.props.value),e._assign=ea(n),Wo(e,"change",()=>{e._assign(Du(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=ea(r),t!==n&&(e.checked=Gs(t,r.props.value))}},kb={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=gl(t);Wo(e,"change",()=>{const o=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?Js(Du(a)):Du(a));e._assign(e.multiple?i?new Set(o):o:o[0])}),e._assign=ea(r)},mounted(e,{value:t}){sx(e,t)},beforeUpdate(e,t,n){e._assign=ea(n)},updated(e,{value:t}){sx(e,t)}};function sx(e,t){const n=e.multiple;if(!(n&&!et(t)&&!gl(t))){for(let r=0,i=e.options.length;r<i;r++){const o=e.options[r],a=Du(o);if(n)et(t)?o.selected=dg(t,a)>-1:o.selected=t.has(a);else if(Gs(Du(o),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Du(e){return"_value"in e?e._value:e.value}function rE(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const MP={created(e,t,n){vh(e,t,n,null,"created")},mounted(e,t,n){vh(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){vh(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){vh(e,t,n,r,"updated")}};function vh(e,t,n,r,i){let o;switch(e.tagName){case"SELECT":o=kb;break;case"TEXTAREA":o=qr;break;default:switch(n.props&&n.props.type){case"checkbox":o=hd;break;case"radio":o=wb;break;default:o=qr}}const a=o[i];a&&a(e,t,n,r)}function NP(){qr.getSSRProps=({value:e})=>({value:e}),wb.getSSRProps=({value:e},t)=>{if(t.props&&Gs(t.props.value,e))return{checked:!0}},hd.getSSRProps=({value:e},t)=>{if(et(e)){if(t.props&&dg(e,t.props.value)>-1)return{checked:!0}}else if(gl(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}}}const LP=["ctrl","shift","alt","meta"],PP={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>LP.some(n=>e[`${n}Key`]&&!t.includes(n))},Dt=(e,t)=>(n,...r)=>{for(let i=0;i<t.length;i++){const o=PP[t[i]];if(o&&o(n,t))return}return e(n,...r)},IP={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},xb=(e,t)=>n=>{if(!("key"in n))return;const r=Ji(n.key);if(t.some(i=>i===r||IP[i]===r))return e(n)},$c={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Bf(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Bf(e,!0),r.enter(e)):r.leave(e,()=>{Bf(e,!1)}):Bf(e,t))},beforeUnmount(e,{value:t}){Bf(e,t)}};function Bf(e,t){e.style.display=t?e._vod:"none"}function FP(){$c.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const iE=qt({patchProp:pP},QL);let uc,ax=!1;function oE(){return uc||(uc=AT(iE))}function sE(){return uc=ax?uc:OT(iE),ax=!0,uc}const R0=(...e)=>{oE().render(...e)},aE=(...e)=>{sE().hydrate(...e)},Cb=(...e)=>{const t=oE().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=lE(r);if(!i)return;const o=t._component;!mt(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t},RP=(...e)=>{const t=sE().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=lE(r);if(i)return n(i,!0,i instanceof SVGElement)},t};function lE(e){return wt(e)?document.querySelector(e):e}let lx=!1;const BP=()=>{lx||(lx=!0,NP(),FP())};var zP=Object.freeze(Object.defineProperty({__proto__:null,Transition:zc,TransitionGroup:CP,VueElement:Og,createApp:Cb,createSSRApp:RP,defineCustomElement:YT,defineSSRCustomElement:mP,hydrate:aE,initDirectivesForSSR:BP,render:R0,useCssModule:yP,useCssVars:bP,vModelCheckbox:hd,vModelDynamic:MP,vModelRadio:wb,vModelSelect:kb,vModelText:qr,vShow:$c,withKeys:xb,withModifiers:Dt,EffectScope:Jy,ReactiveEffect:fd,customRef:Y2,effect:Z4,effectScope:q4,getCurrentScope:G4,isProxy:eb,isReactive:Xa,isReadonly:Cu,isRef:Bn,isShallow:Qy,markRaw:ca,onScopeDispose:J4,proxyRefs:rb,reactive:bl,readonly:Zy,ref:St,shallowReactive:Yh,shallowReadonly:CN,shallowRef:G2,stop:Q4,toRaw:It,toRef:X2,toRefs:ON,triggerRef:TN,unref:Fr,camelize:_r,capitalize:ml,normalizeClass:Vt,normalizeProps:N4,normalizeStyle:Si,toDisplayString:Qe,toHandlerKey:mu,BaseTransition:pb,Comment:yr,Fragment:Tt,KeepAlive:iL,Static:Za,Suspense:GN,Teleport:MT,Text:Eu,callWithAsyncErrorHandling:ai,callWithErrorHandling:bo,cloneVNode:ts,compatUtils:XL,computed:xn,createBlock:Wt,createCommentVNode:Pt,createElementBlock:Ie,createElementVNode:le,createHydrationRenderer:OT,createPropsRestProxy:VL,createRenderer:AT,createSlots:_b,createStaticVNode:TL,createTextVNode:ds,createVNode:at,defineAsyncComponent:nL,defineComponent:pn,defineEmits:RL,defineExpose:BL,defineProps:FL,get devtools(){return nu},getCurrentInstance:Eo,getTransitionRawChildren:kg,guardReactiveProps:FT,h:Xn,handleError:_l,initCustomFormatter:KL,inject:sc,isMemoSame:qT,isRuntimeOnly:ML,isVNode:Zs,mergeDefaults:jL,mergeProps:fi,nextTick:vo,onActivated:cT,onBeforeMount:pT,onBeforeUnmount:cs,onBeforeUpdate:gT,onDeactivated:dT,onErrorCaptured:bT,onMounted:to,onRenderTracked:yT,onRenderTriggered:vT,onServerPrefetch:mT,onUnmounted:Sg,onUpdated:Cg,openBlock:xe,popScopeId:ub,provide:Qh,pushScopeId:lb,queuePostFlushCb:sb,registerRuntimeCompiler:HT,renderList:Dn,renderSlot:In,resolveComponent:Ot,resolveDirective:Tg,resolveDynamicComponent:Xs,resolveFilter:YL,resolveTransitionHooks:Su,setBlockTracking:A0,setDevtoolsHook:iT,setTransitionHooks:il,ssrContextKey:KT,ssrUtils:JL,toHandlers:O0,transformVNodeArgs:CL,useAttrs:HL,useSSRContext:UL,useSlots:$L,useTransitionState:hb,version:GT,warn:Z2,watch:On,watchEffect:aT,watchPostEffect:lT,watchSyncEffect:QN,withAsyncContext:WL,withCtx:fn,withDefaults:zL,withDirectives:Rn,withMemo:qL,withScopeId:fb},Symbol.toStringTag,{value:"Module"}));function Sb(e){throw e}function uE(e){}function vn(e,t,n,r){const i=e,o=new SyntaxError(String(i));return o.code=e,o.loc=t,o}const Hc=Symbol(""),fc=Symbol(""),Tb=Symbol(""),op=Symbol(""),fE=Symbol(""),ol=Symbol(""),cE=Symbol(""),dE=Symbol(""),Eb=Symbol(""),Ab=Symbol(""),pd=Symbol(""),Ob=Symbol(""),hE=Symbol(""),Db=Symbol(""),sp=Symbol(""),Mb=Symbol(""),Nb=Symbol(""),Lb=Symbol(""),Pb=Symbol(""),pE=Symbol(""),gE=Symbol(""),Dg=Symbol(""),ap=Symbol(""),Ib=Symbol(""),Fb=Symbol(""),jc=Symbol(""),gd=Symbol(""),Rb=Symbol(""),B0=Symbol(""),$P=Symbol(""),z0=Symbol(""),lp=Symbol(""),HP=Symbol(""),jP=Symbol(""),Bb=Symbol(""),VP=Symbol(""),WP=Symbol(""),zb=Symbol(""),mE=Symbol(""),ta={[Hc]:"Fragment",[fc]:"Teleport",[Tb]:"Suspense",[op]:"KeepAlive",[fE]:"BaseTransition",[ol]:"openBlock",[cE]:"createBlock",[dE]:"createElementBlock",[Eb]:"createVNode",[Ab]:"createElementVNode",[pd]:"createCommentVNode",[Ob]:"createTextVNode",[hE]:"createStaticVNode",[Db]:"resolveComponent",[sp]:"resolveDynamicComponent",[Mb]:"resolveDirective",[Nb]:"resolveFilter",[Lb]:"withDirectives",[Pb]:"renderList",[pE]:"renderSlot",[gE]:"createSlots",[Dg]:"toDisplayString",[ap]:"mergeProps",[Ib]:"normalizeClass",[Fb]:"normalizeStyle",[jc]:"normalizeProps",[gd]:"guardReactiveProps",[Rb]:"toHandlers",[B0]:"camelize",[$P]:"capitalize",[z0]:"toHandlerKey",[lp]:"setBlockTracking",[HP]:"pushScopeId",[jP]:"popScopeId",[Bb]:"withCtx",[VP]:"unref",[WP]:"isRef",[zb]:"withMemo",[mE]:"isMemoSame"};function UP(e){Object.getOwnPropertySymbols(e).forEach(t=>{ta[t]=e[t]})}const di={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function KP(e,t=di){return{type:0,children:e,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function Vc(e,t,n,r,i,o,a,l=!1,f=!1,h=!1,p=di){return e&&(l?(e.helper(ol),e.helper(Lu(e.inSSR,h))):e.helper(Nu(e.inSSR,h)),a&&e.helper(Lb)),{type:13,tag:t,props:n,children:r,patchFlag:i,dynamicProps:o,directives:a,isBlock:l,disableTracking:f,isComponent:h,loc:p}}function md(e,t=di){return{type:17,loc:t,elements:e}}function ki(e,t=di){return{type:15,loc:t,properties:e}}function Nn(e,t){return{type:16,loc:di,key:wt(e)?Et(e,!0):e,value:t}}function Et(e,t=!1,n=di,r=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:r}}function wo(e,t=di){return{type:8,loc:t,children:e}}function Fn(e,t=[],n=di){return{type:14,loc:n,callee:e,arguments:t}}function Mu(e,t=void 0,n=!1,r=!1,i=di){return{type:18,params:e,returns:t,newline:n,isSlot:r,loc:i}}function $0(e,t,n,r=!0){return{type:19,test:e,consequent:t,alternate:n,newline:r,loc:di}}function qP(e,t,n=!1){return{type:20,index:e,value:t,isVNode:n,loc:di}}function GP(e){return{type:21,body:e,loc:di}}const Kr=e=>e.type===4&&e.isStatic,iu=(e,t)=>e===t||e===Ji(t);function vE(e){if(iu(e,"Teleport"))return fc;if(iu(e,"Suspense"))return Tb;if(iu(e,"KeepAlive"))return op;if(iu(e,"BaseTransition"))return fE}const JP=/^\d|[^\$\w]/,$b=e=>!JP.test(e),YP=/[A-Za-z_$\xA0-\uFFFF]/,XP=/[\.\?\w$\xA0-\uFFFF]/,ZP=/\s+[.[]\s*|\s*[.[]\s+/g,QP=e=>{e=e.trim().replace(ZP,a=>a.trim());let t=0,n=[],r=0,i=0,o=null;for(let a=0;a<e.length;a++){const l=e.charAt(a);switch(t){case 0:if(l==="[")n.push(t),t=1,r++;else if(l==="(")n.push(t),t=2,i++;else if(!(a===0?YP:XP).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(n.push(t),t=3,o=l):l==="["?r++:l==="]"&&(--r||(t=n.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")n.push(t),t=3,o=l;else if(l==="(")i++;else if(l===")"){if(a===e.length-1)return!1;--i||(t=n.pop())}break;case 3:l===o&&(t=n.pop(),o=null);break}}return!r&&!i},yE=QP;function bE(e,t,n){const i={source:e.source.slice(t,t+n),start:up(e.start,e.source,t),end:e.end};return n!=null&&(i.end=up(e.start,e.source,t+n)),i}function up(e,t,n=t.length){return fp(qt({},e),t,n)}function fp(e,t,n=t.length){let r=0,i=-1;for(let o=0;o<n;o++)t.charCodeAt(o)===10&&(r++,i=o);return e.offset+=n,e.line+=r,e.column=i===-1?e.column+n:n-i,e}function wi(e,t,n=!1){for(let r=0;r<e.props.length;r++){const i=e.props[r];if(i.type===7&&(n||i.exp)&&(wt(t)?i.name===t:t.test(i.name)))return i}}function Mg(e,t,n=!1,r=!1){for(let i=0;i<e.props.length;i++){const o=e.props[i];if(o.type===6){if(n)continue;if(o.name===t&&(o.value||r))return o}else if(o.name==="bind"&&(o.exp||r)&&Ka(o.arg,t))return o}}function Ka(e,t){return!!(e&&Kr(e)&&e.content===t)}function e8(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function xv(e){return e.type===5||e.type===2}function t8(e){return e.type===7&&e.name==="slot"}function cp(e){return e.type===1&&e.tagType===3}function dp(e){return e.type===1&&e.tagType===2}function Nu(e,t){return e||t?Eb:Ab}function Lu(e,t){return e||t?cE:dE}const n8=new Set([jc,gd]);function _E(e,t=[]){if(e&&!wt(e)&&e.type===14){const n=e.callee;if(!wt(n)&&n8.has(n))return _E(e.arguments[0],t.concat(e))}return[e,t]}function hp(e,t,n){let r,i=e.type===13?e.props:e.arguments[2],o=[],a;if(i&&!wt(i)&&i.type===14){const l=_E(i);i=l[0],o=l[1],a=o[o.length-1]}if(i==null||wt(i))r=ki([t]);else if(i.type===14){const l=i.arguments[0];!wt(l)&&l.type===15?l.properties.unshift(t):i.callee===Rb?r=Fn(n.helper(ap),[ki([t]),i]):i.arguments.unshift(ki([t])),!r&&(r=i)}else if(i.type===15){let l=!1;if(t.key.type===4){const f=t.key.content;l=i.properties.some(h=>h.key.type===4&&h.key.content===f)}l||i.properties.unshift(t),r=i}else r=Fn(n.helper(ap),[ki([t]),i]),a&&a.callee===gd&&(a=o[o.length-2]);e.type===13?a?a.arguments[0]=r:e.props=r:a?a.arguments[0]=r:e.arguments[2]=r}function Wc(e,t){return`_${t}_${e.replace(/[^\w]/g,(n,r)=>n==="-"?"_":e.charCodeAt(r).toString())}`}function r8(e){return e.type===14&&e.callee===zb?e.arguments[1].returns:e}function Hb(e,{helper:t,removeHelper:n,inSSR:r}){e.isBlock||(e.isBlock=!0,n(Nu(r,e.isComponent)),t(ol),t(Lu(r,e.isComponent)))}function ux(e,t){const n=t.options?t.options.compatConfig:t.compatConfig,r=n&&n[e];return e==="MODE"?r||3:r}function Qa(e,t){const n=ux("MODE",t),r=ux(e,t);return n===3?r===!0:r!==!1}function Uc(e,t,n,...r){return Qa(e,t)}const i8=/&(gt|lt|amp|apos|quot);/g,o8={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},fx={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:Ph,isPreTag:Ph,isCustomElement:Ph,decodeEntities:e=>e.replace(i8,(t,n)=>o8[n]),onError:Sb,onWarn:uE,comments:!1};function s8(e,t={}){const n=a8(e,t),r=li(n);return KP(jb(n,0,[]),Ai(n,r))}function a8(e,t){const n=qt({},fx);let r;for(r in t)n[r]=t[r]===void 0?fx[r]:t[r];return{options:n,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:n.onWarn}}function jb(e,t,n){const r=Ng(n),i=r?r.ns:0,o=[];for(;!m8(e,t,n);){const l=e.source;let f;if(t===0||t===1){if(!e.inVPre&&vr(l,e.options.delimiters[0]))f=p8(e,t);else if(t===0&&l[0]==="<")if(l.length===1)Zt(e,5,1);else if(l[1]==="!")vr(l,"<!--")?f=u8(e):vr(l,"<!DOCTYPE")?f=zf(e):vr(l,"<![CDATA[")?i!==0?f=l8(e,n):(Zt(e,1),f=zf(e)):(Zt(e,11),f=zf(e));else if(l[1]==="/")if(l.length===2)Zt(e,5,2);else if(l[2]===">"){Zt(e,14,2),Kn(e,3);continue}else if(/[a-z]/i.test(l[2])){Zt(e,23),H0(e,1,r);continue}else Zt(e,12,2),f=zf(e);else/[a-z]/i.test(l[1])?(f=f8(e,n),Qa("COMPILER_NATIVE_TEMPLATE",e)&&f&&f.tag==="template"&&!f.props.some(h=>h.type===7&&wE(h.name))&&(f=f.children)):l[1]==="?"?(Zt(e,21,1),f=zf(e)):Zt(e,12,1)}if(f||(f=g8(e,t)),et(f))for(let h=0;h<f.length;h++)cx(o,f[h]);else cx(o,f)}let a=!1;if(t!==2&&t!==1){const l=e.options.whitespace!=="preserve";for(let f=0;f<o.length;f++){const h=o[f];if(!e.inPre&&h.type===2)if(/[^\t\r\n\f ]/.test(h.content))l&&(h.content=h.content.replace(/[\t\r\n\f ]+/g," "));else{const p=o[f-1],m=o[f+1];!p||!m||l&&(p.type===3||m.type===3||p.type===1&&m.type===1&&/[\r\n]/.test(h.content))?(a=!0,o[f]=null):h.content=" "}else h.type===3&&!e.options.comments&&(a=!0,o[f]=null)}if(e.inPre&&r&&e.options.isPreTag(r.tag)){const f=o[0];f&&f.type===2&&(f.content=f.content.replace(/^\r?\n/,""))}}return a?o.filter(Boolean):o}function cx(e,t){if(t.type===2){const n=Ng(e);if(n&&n.type===2&&n.loc.end.offset===t.loc.start.offset){n.content+=t.content,n.loc.end=t.loc.end,n.loc.source+=t.loc.source;return}}e.push(t)}function l8(e,t){Kn(e,9);const n=jb(e,3,t);return e.source.length===0?Zt(e,6):Kn(e,3),n}function u8(e){const t=li(e);let n;const r=/--(\!)?>/.exec(e.source);if(!r)n=e.source.slice(4),Kn(e,e.source.length),Zt(e,7);else{r.index<=3&&Zt(e,0),r[1]&&Zt(e,10),n=e.source.slice(4,r.index);const i=e.source.slice(0,r.index);let o=1,a=0;for(;(a=i.indexOf("<!--",o))!==-1;)Kn(e,a-o+1),a+4<i.length&&Zt(e,16),o=a+1;Kn(e,r.index+r[0].length-o+1)}return{type:3,content:n,loc:Ai(e,t)}}function zf(e){const t=li(e),n=e.source[1]==="?"?1:2;let r;const i=e.source.indexOf(">");return i===-1?(r=e.source.slice(n),Kn(e,e.source.length)):(r=e.source.slice(n,i),Kn(e,i+1)),{type:3,content:r,loc:Ai(e,t)}}function f8(e,t){const n=e.inPre,r=e.inVPre,i=Ng(t),o=H0(e,0,i),a=e.inPre&&!n,l=e.inVPre&&!r;if(o.isSelfClosing||e.options.isVoidTag(o.tag))return a&&(e.inPre=!1),l&&(e.inVPre=!1),o;t.push(o);const f=e.options.getTextMode(o,i),h=jb(e,f,t);t.pop();{const p=o.props.find(m=>m.type===6&&m.name==="inline-template");if(p&&Uc("COMPILER_INLINE_TEMPLATE",e,p.loc)){const m=Ai(e,o.loc.end);p.value={type:2,content:m.source,loc:m}}}if(o.children=h,j0(e.source,o.tag))H0(e,1,i);else if(Zt(e,24,0,o.loc.start),e.source.length===0&&o.tag.toLowerCase()==="script"){const p=h[0];p&&vr(p.loc.source,"<!--")&&Zt(e,8)}return o.loc=Ai(e,o.loc.start),a&&(e.inPre=!1),l&&(e.inVPre=!1),o}const wE=Zr("if,else,else-if,for,slot");function H0(e,t,n){const r=li(e),i=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),o=i[1],a=e.options.getNamespace(o,n);Kn(e,i[0].length),Kc(e);const l=li(e),f=e.source;e.options.isPreTag(o)&&(e.inPre=!0);let h=dx(e,t);t===0&&!e.inVPre&&h.some(v=>v.type===7&&v.name==="pre")&&(e.inVPre=!0,qt(e,l),e.source=f,h=dx(e,t).filter(v=>v.name!=="v-pre"));let p=!1;if(e.source.length===0?Zt(e,9):(p=vr(e.source,"/>"),t===1&&p&&Zt(e,4),Kn(e,p?2:1)),t===1)return;let m=0;return e.inVPre||(o==="slot"?m=2:o==="template"?h.some(v=>v.type===7&&wE(v.name))&&(m=3):c8(o,h,e)&&(m=1)),{type:1,ns:a,tag:o,tagType:m,props:h,isSelfClosing:p,children:[],loc:Ai(e,r),codegenNode:void 0}}function c8(e,t,n){const r=n.options;if(r.isCustomElement(e))return!1;if(e==="component"||/^[A-Z]/.test(e)||vE(e)||r.isBuiltInComponent&&r.isBuiltInComponent(e)||r.isNativeTag&&!r.isNativeTag(e))return!0;for(let i=0;i<t.length;i++){const o=t[i];if(o.type===6){if(o.name==="is"&&o.value){if(o.value.content.startsWith("vue:"))return!0;if(Uc("COMPILER_IS_ON_ELEMENT",n,o.loc))return!0}}else{if(o.name==="is")return!0;if(o.name==="bind"&&Ka(o.arg,"is")&&!0&&Uc("COMPILER_IS_ON_ELEMENT",n,o.loc))return!0}}}function dx(e,t){const n=[],r=new Set;for(;e.source.length>0&&!vr(e.source,">")&&!vr(e.source,"/>");){if(vr(e.source,"/")){Zt(e,22),Kn(e,1),Kc(e);continue}t===1&&Zt(e,3);const i=d8(e,r);i.type===6&&i.value&&i.name==="class"&&(i.value.content=i.value.content.replace(/\s+/g," ").trim()),t===0&&n.push(i),/^[^\t\r\n\f />]/.test(e.source)&&Zt(e,15),Kc(e)}return n}function d8(e,t){const n=li(e),i=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(i)&&Zt(e,2),t.add(i),i[0]==="="&&Zt(e,19);{const l=/["'<]/g;let f;for(;f=l.exec(i);)Zt(e,17,f.index)}Kn(e,i.length);let o;/^[\t\r\n\f ]*=/.test(e.source)&&(Kc(e),Kn(e,1),Kc(e),o=h8(e),o||Zt(e,13));const a=Ai(e,n);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(i)){const l=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(i);let f=vr(i,"."),h=l[1]||(f||vr(i,":")?"bind":vr(i,"@")?"on":"slot"),p;if(l[2]){const v=h==="slot",b=i.lastIndexOf(l[2]),_=Ai(e,hx(e,n,b),hx(e,n,b+l[2].length+(v&&l[3]||"").length));let k=l[2],C=!0;k.startsWith("[")?(C=!1,k.endsWith("]")?k=k.slice(1,k.length-1):(Zt(e,27),k=k.slice(1))):v&&(k+=l[3]||""),p={type:4,content:k,isStatic:C,constType:C?3:0,loc:_}}if(o&&o.isQuoted){const v=o.loc;v.start.offset++,v.start.column++,v.end=up(v.start,o.content),v.source=v.source.slice(1,-1)}const m=l[3]?l[3].slice(1).split("."):[];return f&&m.push("prop"),h==="bind"&&p&&m.includes("sync")&&Uc("COMPILER_V_BIND_SYNC",e,a,p.loc.source)&&(h="model",m.splice(m.indexOf("sync"),1)),{type:7,name:h,exp:o&&{type:4,content:o.content,isStatic:!1,constType:0,loc:o.loc},arg:p,modifiers:m,loc:a}}return!e.inVPre&&vr(i,"v-")&&Zt(e,26),{type:6,name:i,value:o&&{type:2,content:o.content,loc:o.loc},loc:a}}function h8(e){const t=li(e);let n;const r=e.source[0],i=r==='"'||r==="'";if(i){Kn(e,1);const o=e.source.indexOf(r);o===-1?n=cc(e,e.source.length,4):(n=cc(e,o,4),Kn(e,1))}else{const o=/^[^\t\r\n\f >]+/.exec(e.source);if(!o)return;const a=/["'<=`]/g;let l;for(;l=a.exec(o[0]);)Zt(e,18,l.index);n=cc(e,o[0].length,4)}return{content:n,isQuoted:i,loc:Ai(e,t)}}function p8(e,t){const[n,r]=e.options.delimiters,i=e.source.indexOf(r,n.length);if(i===-1){Zt(e,25);return}const o=li(e);Kn(e,n.length);const a=li(e),l=li(e),f=i-n.length,h=e.source.slice(0,f),p=cc(e,f,t),m=p.trim(),v=p.indexOf(m);v>0&&fp(a,h,v);const b=f-(p.length-m.length-v);return fp(l,h,b),Kn(e,r.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:m,loc:Ai(e,a,l)},loc:Ai(e,o)}}function g8(e,t){const n=t===3?["]]>"]:["<",e.options.delimiters[0]];let r=e.source.length;for(let a=0;a<n.length;a++){const l=e.source.indexOf(n[a],1);l!==-1&&r>l&&(r=l)}const i=li(e),o=cc(e,r,t);return{type:2,content:o,loc:Ai(e,i)}}function cc(e,t,n){const r=e.source.slice(0,t);return Kn(e,t),n===2||n===3||!r.includes("&")?r:e.options.decodeEntities(r,n===4)}function li(e){const{column:t,line:n,offset:r}=e;return{column:t,line:n,offset:r}}function Ai(e,t,n){return n=n||li(e),{start:t,end:n,source:e.originalSource.slice(t.offset,n.offset)}}function Ng(e){return e[e.length-1]}function vr(e,t){return e.startsWith(t)}function Kn(e,t){const{source:n}=e;fp(e,n,t),e.source=n.slice(t)}function Kc(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&Kn(e,t[0].length)}function hx(e,t,n){return up(t,e.originalSource.slice(t.offset,n),n)}function Zt(e,t,n,r=li(e)){n&&(r.offset+=n,r.column+=n),e.options.onError(vn(t,{start:r,end:r,source:""}))}function m8(e,t,n){const r=e.source;switch(t){case 0:if(vr(r,"</")){for(let i=n.length-1;i>=0;--i)if(j0(r,n[i].tag))return!0}break;case 1:case 2:{const i=Ng(n);if(i&&j0(r,i.tag))return!0;break}case 3:if(vr(r,"]]>"))return!0;break}return!r}function j0(e,t){return vr(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function v8(e,t){Rh(e,t,kE(e,e.children[0]))}function kE(e,t){const{children:n}=e;return n.length===1&&t.type===1&&!dp(t)}function Rh(e,t,n=!1){const{children:r}=e,i=r.length;let o=0;for(let a=0;a<r.length;a++){const l=r[a];if(l.type===1&&l.tagType===0){const f=n?0:xi(l,t);if(f>0){if(f>=2){l.codegenNode.patchFlag=-1+"",l.codegenNode=t.hoist(l.codegenNode),o++;continue}}else{const h=l.codegenNode;if(h.type===13){const p=TE(h);if((!p||p===512||p===1)&&CE(l,t)>=2){const m=SE(l);m&&(h.props=t.hoist(m))}h.dynamicProps&&(h.dynamicProps=t.hoist(h.dynamicProps))}}}else l.type===12&&xi(l.content,t)>=2&&(l.codegenNode=t.hoist(l.codegenNode),o++);if(l.type===1){const f=l.tagType===1;f&&t.scopes.vSlot++,Rh(l,t),f&&t.scopes.vSlot--}else if(l.type===11)Rh(l,t,l.children.length===1);else if(l.type===9)for(let f=0;f<l.branches.length;f++)Rh(l.branches[f],t,l.branches[f].children.length===1)}o&&t.transformHoist&&t.transformHoist(r,t,e),o&&o===i&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&et(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(md(e.codegenNode.children)))}function xi(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const r=n.get(e);if(r!==void 0)return r;const i=e.codegenNode;if(i.type!==13||i.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject")return 0;if(TE(i))return n.set(e,0),0;{let l=3;const f=CE(e,t);if(f===0)return n.set(e,0),0;f<l&&(l=f);for(let h=0;h<e.children.length;h++){const p=xi(e.children[h],t);if(p===0)return n.set(e,0),0;p<l&&(l=p)}if(l>1)for(let h=0;h<e.props.length;h++){const p=e.props[h];if(p.type===7&&p.name==="bind"&&p.exp){const m=xi(p.exp,t);if(m===0)return n.set(e,0),0;m<l&&(l=m)}}return i.isBlock&&(t.removeHelper(ol),t.removeHelper(Lu(t.inSSR,i.isComponent)),i.isBlock=!1,t.helper(Nu(t.inSSR,i.isComponent))),n.set(e,l),l}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return xi(e.content,t);case 4:return e.constType;case 8:let a=3;for(let l=0;l<e.children.length;l++){const f=e.children[l];if(wt(f)||qu(f))continue;const h=xi(f,t);if(h===0)return 0;h<a&&(a=h)}return a;default:return 0}}const y8=new Set([Ib,Fb,jc,gd]);function xE(e,t){if(e.type===14&&!wt(e.callee)&&y8.has(e.callee)){const n=e.arguments[0];if(n.type===4)return xi(n,t);if(n.type===14)return xE(n,t)}return 0}function CE(e,t){let n=3;const r=SE(e);if(r&&r.type===15){const{properties:i}=r;for(let o=0;o<i.length;o++){const{key:a,value:l}=i[o],f=xi(a,t);if(f===0)return f;f<n&&(n=f);let h;if(l.type===4?h=xi(l,t):l.type===14?h=xE(l,t):h=0,h===0)return h;h<n&&(n=h)}}return n}function SE(e){const t=e.codegenNode;if(t.type===13)return t.props}function TE(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function b8(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:r=!1,cacheHandlers:i=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:f=Br,isCustomElement:h=Br,expressionPlugins:p=[],scopeId:m=null,slotted:v=!0,ssr:b=!1,inSSR:_=!1,ssrCssVars:k="",bindingMetadata:C=Kt,inline:E=!1,isTS:S=!1,onError:F=Sb,onWarn:O=uE,compatConfig:K}){const j=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),U={selfName:j&&ml(_r(j[1])),prefixIdentifiers:n,hoistStatic:r,cacheHandlers:i,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:f,isCustomElement:h,expressionPlugins:p,scopeId:m,slotted:v,ssr:b,inSSR:_,ssrCssVars:k,bindingMetadata:C,inline:E,isTS:S,onError:F,onWarn:O,compatConfig:K,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(q){const B=U.helpers.get(q)||0;return U.helpers.set(q,B+1),q},removeHelper(q){const B=U.helpers.get(q);if(B){const R=B-1;R?U.helpers.set(q,R):U.helpers.delete(q)}},helperString(q){return`_${ta[U.helper(q)]}`},replaceNode(q){U.parent.children[U.childIndex]=U.currentNode=q},removeNode(q){const B=U.parent.children,R=q?B.indexOf(q):U.currentNode?U.childIndex:-1;!q||q===U.currentNode?(U.currentNode=null,U.onNodeRemoved()):U.childIndex>R&&(U.childIndex--,U.onNodeRemoved()),U.parent.children.splice(R,1)},onNodeRemoved:()=>{},addIdentifiers(q){},removeIdentifiers(q){},hoist(q){wt(q)&&(q=Et(q)),U.hoists.push(q);const B=Et(`_hoisted_${U.hoists.length}`,!1,q.loc,2);return B.hoisted=q,B},cache(q,B=!1){return qP(U.cached++,q,B)}};return U.filters=new Set,U}function _8(e,t){const n=b8(e,t);Lg(e,n),t.hoistStatic&&v8(e,n),t.ssr||w8(e,n),e.helpers=[...n.helpers.keys()],e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.filters=[...n.filters]}function w8(e,t){const{helper:n}=t,{children:r}=e;if(r.length===1){const i=r[0];if(kE(e,i)&&i.codegenNode){const o=i.codegenNode;o.type===13&&Hb(o,t),e.codegenNode=o}else e.codegenNode=i}else if(r.length>1){let i=64;e.codegenNode=Vc(t,n(Hc),void 0,e.children,i+"",void 0,void 0,!0,void 0,!1)}}function k8(e,t){let n=0;const r=()=>{n--};for(;n<e.children.length;n++){const i=e.children[n];wt(i)||(t.parent=e,t.childIndex=n,t.onNodeRemoved=r,Lg(i,t))}}function Lg(e,t){t.currentNode=e;const{nodeTransforms:n}=t,r=[];for(let o=0;o<n.length;o++){const a=n[o](e,t);if(a&&(et(a)?r.push(...a):r.push(a)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(pd);break;case 5:t.ssr||t.helper(Dg);break;case 9:for(let o=0;o<e.branches.length;o++)Lg(e.branches[o],t);break;case 10:case 11:case 1:case 0:k8(e,t);break}t.currentNode=e;let i=r.length;for(;i--;)r[i]()}function EE(e,t){const n=wt(e)?r=>r===e:r=>e.test(r);return(r,i)=>{if(r.type===1){const{props:o}=r;if(r.tagType===3&&o.some(t8))return;const a=[];for(let l=0;l<o.length;l++){const f=o[l];if(f.type===7&&n(f.name)){o.splice(l,1),l--;const h=t(r,f,i);h&&a.push(h)}}return a}}}const Pg="/*#__PURE__*/";function x8(e,{mode:t="function",prefixIdentifiers:n=t==="module",sourceMap:r=!1,filename:i="template.vue.html",scopeId:o=null,optimizeImports:a=!1,runtimeGlobalName:l="Vue",runtimeModuleName:f="vue",ssrRuntimeModuleName:h="vue/server-renderer",ssr:p=!1,isTS:m=!1,inSSR:v=!1}){const b={mode:t,prefixIdentifiers:n,sourceMap:r,filename:i,scopeId:o,optimizeImports:a,runtimeGlobalName:l,runtimeModuleName:f,ssrRuntimeModuleName:h,ssr:p,isTS:m,inSSR:v,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(k){return`_${ta[k]}`},push(k,C){b.code+=k},indent(){_(++b.indentLevel)},deindent(k=!1){k?--b.indentLevel:_(--b.indentLevel)},newline(){_(b.indentLevel)}};function _(k){b.push(`
`+"  ".repeat(k))}return b}function C8(e,t={}){const n=x8(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:r,push:i,prefixIdentifiers:o,indent:a,deindent:l,newline:f,scopeId:h,ssr:p}=n,m=e.helpers.length>0,v=!o&&r!=="module";S8(e,n);const _=p?"ssrRender":"render",C=(p?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${_}(${C}) {`),a(),v&&(i("with (_ctx) {"),a(),m&&(i(`const { ${e.helpers.map(E=>`${ta[E]}: _${ta[E]}`).join(", ")} } = _Vue`),i(`
`),f())),e.components.length&&(Cv(e.components,"component",n),(e.directives.length||e.temps>0)&&f()),e.directives.length&&(Cv(e.directives,"directive",n),e.temps>0&&f()),e.filters&&e.filters.length&&(f(),Cv(e.filters,"filter",n),f()),e.temps>0){i("let ");for(let E=0;E<e.temps;E++)i(`${E>0?", ":""}_temp${E}`)}return(e.components.length||e.directives.length||e.temps)&&(i(`
`),f()),p||i("return "),e.codegenNode?br(e.codegenNode,n):i("null"),v&&(l(),i("}")),l(),i("}"),{ast:e,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function S8(e,t){const{ssr:n,prefixIdentifiers:r,push:i,newline:o,runtimeModuleName:a,runtimeGlobalName:l,ssrRuntimeModuleName:f}=t,h=l,p=m=>`${ta[m]}: _${ta[m]}`;if(e.helpers.length>0&&(i(`const _Vue = ${h}
`),e.hoists.length)){const m=[Eb,Ab,pd,Ob,hE].filter(v=>e.helpers.includes(v)).map(p).join(", ");i(`const { ${m} } = _Vue
`)}T8(e.hoists,t),o(),i("return ")}function Cv(e,t,{helper:n,push:r,newline:i,isTS:o}){const a=n(t==="filter"?Nb:t==="component"?Db:Mb);for(let l=0;l<e.length;l++){let f=e[l];const h=f.endsWith("__self");h&&(f=f.slice(0,-6)),r(`const ${Wc(f,t)} = ${a}(${JSON.stringify(f)}${h?", true":""})${o?"!":""}`),l<e.length-1&&i()}}function T8(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:r,helper:i,scopeId:o,mode:a}=t;r();for(let l=0;l<e.length;l++){const f=e[l];f&&(n(`const _hoisted_${l+1} = `),br(f,t),r())}t.pure=!1}function Vb(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),vd(e,t,n),n&&t.deindent(),t.push("]")}function vd(e,t,n=!1,r=!0){const{push:i,newline:o}=t;for(let a=0;a<e.length;a++){const l=e[a];wt(l)?i(l):et(l)?Vb(l,t):br(l,t),a<e.length-1&&(n?(r&&i(","),o()):r&&i(", "))}}function br(e,t){if(wt(e)){t.push(e);return}if(qu(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:br(e.codegenNode,t);break;case 2:E8(e,t);break;case 4:AE(e,t);break;case 5:A8(e,t);break;case 12:br(e.codegenNode,t);break;case 8:OE(e,t);break;case 3:D8(e,t);break;case 13:M8(e,t);break;case 14:L8(e,t);break;case 15:P8(e,t);break;case 17:I8(e,t);break;case 18:F8(e,t);break;case 19:R8(e,t);break;case 20:B8(e,t);break;case 21:vd(e.body,t,!0,!1);break}}function E8(e,t){t.push(JSON.stringify(e.content),e)}function AE(e,t){const{content:n,isStatic:r}=e;t.push(r?JSON.stringify(n):n,e)}function A8(e,t){const{push:n,helper:r,pure:i}=t;i&&n(Pg),n(`${r(Dg)}(`),br(e.content,t),n(")")}function OE(e,t){for(let n=0;n<e.children.length;n++){const r=e.children[n];wt(r)?t.push(r):br(r,t)}}function O8(e,t){const{push:n}=t;if(e.type===8)n("["),OE(e,t),n("]");else if(e.isStatic){const r=$b(e.content)?e.content:JSON.stringify(e.content);n(r,e)}else n(`[${e.content}]`,e)}function D8(e,t){const{push:n,helper:r,pure:i}=t;i&&n(Pg),n(`${r(pd)}(${JSON.stringify(e.content)})`,e)}function M8(e,t){const{push:n,helper:r,pure:i}=t,{tag:o,props:a,children:l,patchFlag:f,dynamicProps:h,directives:p,isBlock:m,disableTracking:v,isComponent:b}=e;p&&n(r(Lb)+"("),m&&n(`(${r(ol)}(${v?"true":""}), `),i&&n(Pg);const _=m?Lu(t.inSSR,b):Nu(t.inSSR,b);n(r(_)+"(",e),vd(N8([o,a,l,f,h]),t),n(")"),m&&n(")"),p&&(n(", "),br(p,t),n(")"))}function N8(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(n=>n||"null")}function L8(e,t){const{push:n,helper:r,pure:i}=t,o=wt(e.callee)?e.callee:r(e.callee);i&&n(Pg),n(o+"(",e),vd(e.arguments,t),n(")")}function P8(e,t){const{push:n,indent:r,deindent:i,newline:o}=t,{properties:a}=e;if(!a.length){n("{}",e);return}const l=a.length>1||!1;n(l?"{":"{ "),l&&r();for(let f=0;f<a.length;f++){const{key:h,value:p}=a[f];O8(h,t),n(": "),br(p,t),f<a.length-1&&(n(","),o())}l&&i(),n(l?"}":" }")}function I8(e,t){Vb(e.elements,t)}function F8(e,t){const{push:n,indent:r,deindent:i}=t,{params:o,returns:a,body:l,newline:f,isSlot:h}=e;h&&n(`_${ta[Bb]}(`),n("(",e),et(o)?vd(o,t):o&&br(o,t),n(") => "),(f||l)&&(n("{"),r()),a?(f&&n("return "),et(a)?Vb(a,t):br(a,t)):l&&br(l,t),(f||l)&&(i(),n("}")),h&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}function R8(e,t){const{test:n,consequent:r,alternate:i,newline:o}=e,{push:a,indent:l,deindent:f,newline:h}=t;if(n.type===4){const m=!$b(n.content);m&&a("("),AE(n,t),m&&a(")")}else a("("),br(n,t),a(")");o&&l(),t.indentLevel++,o||a(" "),a("? "),br(r,t),t.indentLevel--,o&&h(),o||a(" "),a(": ");const p=i.type===19;p||t.indentLevel++,br(i,t),p||t.indentLevel--,o&&f(!0)}function B8(e,t){const{push:n,helper:r,indent:i,deindent:o,newline:a}=t;n(`_cache[${e.index}] || (`),e.isVNode&&(i(),n(`${r(lp)}(-1),`),a()),n(`_cache[${e.index}] = `),br(e.value,t),e.isVNode&&(n(","),a(),n(`${r(lp)}(1),`),a(),n(`_cache[${e.index}]`),o()),n(")")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const z8=EE(/^(if|else|else-if)$/,(e,t,n)=>$8(e,t,n,(r,i,o)=>{const a=n.parent.children;let l=a.indexOf(r),f=0;for(;l-->=0;){const h=a[l];h&&h.type===9&&(f+=h.branches.length)}return()=>{if(o)r.codegenNode=gx(i,f,n);else{const h=H8(r.codegenNode);h.alternate=gx(i,f+r.branches.length-1,n)}}}));function $8(e,t,n,r){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const i=t.exp?t.exp.loc:e.loc;n.onError(vn(28,t.loc)),t.exp=Et("true",!1,i)}if(t.name==="if"){const i=px(e,t),o={type:9,loc:e.loc,branches:[i]};if(n.replaceNode(o),r)return r(o,i,!0)}else{const i=n.parent.children;let o=i.indexOf(e);for(;o-->=-1;){const a=i[o];if(a&&a.type===2&&!a.content.trim().length){n.removeNode(a);continue}if(a&&a.type===9){t.name==="else-if"&&a.branches[a.branches.length-1].condition===void 0&&n.onError(vn(30,e.loc)),n.removeNode();const l=px(e,t);a.branches.push(l);const f=r&&r(a,l,!1);Lg(l,n),f&&f(),n.currentNode=null}else n.onError(vn(30,e.loc));break}}}function px(e,t){return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:e.tagType===3&&!wi(e,"for")?e.children:[e],userKey:Mg(e,"key")}}function gx(e,t,n){return e.condition?$0(e.condition,mx(e,t,n),Fn(n.helper(pd),['""',"true"])):mx(e,t,n)}function mx(e,t,n){const{helper:r}=n,i=Nn("key",Et(`${t}`,!1,di,2)),{children:o}=e,a=o[0];if(o.length!==1||a.type!==1)if(o.length===1&&a.type===11){const f=a.codegenNode;return hp(f,i,n),f}else{let f=64;return Vc(n,r(Hc),ki([i]),o,f+"",void 0,void 0,!0,!1,!1,e.loc)}else{const f=a.codegenNode,h=r8(f);return h.type===13&&Hb(h,n),hp(h,i,n),f}}function H8(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const j8=EE("for",(e,t,n)=>{const{helper:r,removeHelper:i}=n;return V8(e,t,n,o=>{const a=Fn(r(Pb),[o.source]),l=cp(e),f=wi(e,"memo"),h=Mg(e,"key"),p=h&&(h.type===6?Et(h.value.content,!0):h.exp),m=h?Nn("key",p):null,v=o.source.type===4&&o.source.constType>0,b=v?64:h?128:256;return o.codegenNode=Vc(n,r(Hc),void 0,a,b+"",void 0,void 0,!0,!v,!1,e.loc),()=>{let _;const{children:k}=o,C=k.length!==1||k[0].type!==1,E=dp(e)?e:l&&e.children.length===1&&dp(e.children[0])?e.children[0]:null;if(E?(_=E.codegenNode,l&&m&&hp(_,m,n)):C?_=Vc(n,r(Hc),m?ki([m]):void 0,e.children,64+"",void 0,void 0,!0,void 0,!1):(_=k[0].codegenNode,l&&m&&hp(_,m,n),_.isBlock!==!v&&(_.isBlock?(i(ol),i(Lu(n.inSSR,_.isComponent))):i(Nu(n.inSSR,_.isComponent))),_.isBlock=!v,_.isBlock?(r(ol),r(Lu(n.inSSR,_.isComponent))):r(Nu(n.inSSR,_.isComponent))),f){const S=Mu(V0(o.parseResult,[Et("_cached")]));S.body=GP([wo(["const _memo = (",f.exp,")"]),wo(["if (_cached",...p?[" && _cached.key === ",p]:[],` && ${n.helperString(mE)}(_cached, _memo)) return _cached`]),wo(["const _item = ",_]),Et("_item.memo = _memo"),Et("return _item")]),a.arguments.push(S,Et("_cache"),Et(String(n.cached++)))}else a.arguments.push(Mu(V0(o.parseResult),_,!0))}})});function V8(e,t,n,r){if(!t.exp){n.onError(vn(31,t.loc));return}const i=DE(t.exp);if(!i){n.onError(vn(32,t.loc));return}const{addIdentifiers:o,removeIdentifiers:a,scopes:l}=n,{source:f,value:h,key:p,index:m}=i,v={type:11,loc:t.loc,source:f,valueAlias:h,keyAlias:p,objectIndexAlias:m,parseResult:i,children:cp(e)?e.children:[e]};n.replaceNode(v),l.vFor++;const b=r&&r(v);return()=>{l.vFor--,b&&b()}}const W8=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,vx=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,U8=/^\(|\)$/g;function DE(e,t){const n=e.loc,r=e.content,i=r.match(W8);if(!i)return;const[,o,a]=i,l={source:yh(n,a.trim(),r.indexOf(a,o.length)),value:void 0,key:void 0,index:void 0};let f=o.trim().replace(U8,"").trim();const h=o.indexOf(f),p=f.match(vx);if(p){f=f.replace(vx,"").trim();const m=p[1].trim();let v;if(m&&(v=r.indexOf(m,h+f.length),l.key=yh(n,m,v)),p[2]){const b=p[2].trim();b&&(l.index=yh(n,b,r.indexOf(b,l.key?v+m.length:h+f.length)))}}return f&&(l.value=yh(n,f,h)),l}function yh(e,t,n){return Et(t,!1,bE(e,n,t.length))}function V0({value:e,key:t,index:n},r=[]){return K8([e,t,n,...r])}function K8(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((n,r)=>n||Et("_".repeat(r+1),!1))}const yx=Et("undefined",!1),q8=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const n=wi(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},G8=(e,t,n)=>Mu(e,t,!1,!0,t.length?t[0].loc:n);function J8(e,t,n=G8){t.helper(Bb);const{children:r,loc:i}=e,o=[],a=[];let l=t.scopes.vSlot>0||t.scopes.vFor>0;const f=wi(e,"slot",!0);if(f){const{arg:k,exp:C}=f;k&&!Kr(k)&&(l=!0),o.push(Nn(k||Et("default",!0),n(C,r,i)))}let h=!1,p=!1;const m=[],v=new Set;for(let k=0;k<r.length;k++){const C=r[k];let E;if(!cp(C)||!(E=wi(C,"slot",!0))){C.type!==3&&m.push(C);continue}if(f){t.onError(vn(37,E.loc));break}h=!0;const{children:S,loc:F}=C,{arg:O=Et("default",!0),exp:K,loc:j}=E;let U;Kr(O)?U=O?O.content:"default":l=!0;const q=n(K,S,F);let B,R,V;if(B=wi(C,"if"))l=!0,a.push($0(B.exp,bh(O,q),yx));else if(R=wi(C,/^else(-if)?$/,!0)){let Z=k,W;for(;Z--&&(W=r[Z],W.type===3););if(W&&cp(W)&&wi(W,"if")){r.splice(k,1),k--;let ie=a[a.length-1];for(;ie.alternate.type===19;)ie=ie.alternate;ie.alternate=R.exp?$0(R.exp,bh(O,q),yx):bh(O,q)}else t.onError(vn(30,R.loc))}else if(V=wi(C,"for")){l=!0;const Z=V.parseResult||DE(V.exp);Z?a.push(Fn(t.helper(Pb),[Z.source,Mu(V0(Z),bh(O,q),!0)])):t.onError(vn(32,V.loc))}else{if(U){if(v.has(U)){t.onError(vn(38,j));continue}v.add(U),U==="default"&&(p=!0)}o.push(Nn(O,q))}}if(!f){const k=(C,E)=>{const S=n(C,E,i);return t.compatConfig&&(S.isNonScopedSlot=!0),Nn("default",S)};h?m.length&&m.some(C=>ME(C))&&(p?t.onError(vn(39,m[0].loc)):o.push(k(void 0,m))):o.push(k(void 0,r))}const b=l?2:Bh(e.children)?3:1;let _=ki(o.concat(Nn("_",Et(b+"",!1))),i);return a.length&&(_=Fn(t.helper(gE),[_,md(a)])),{slots:_,hasDynamicSlots:l}}function bh(e,t){return ki([Nn("name",e),Nn("fn",t)])}function Bh(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(n.tagType===2||Bh(n.children))return!0;break;case 9:if(Bh(n.branches))return!0;break;case 10:case 11:if(Bh(n.children))return!0;break}}return!1}function ME(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():ME(e.content)}const NE=new WeakMap,Y8=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:r,props:i}=e,o=e.tagType===1;let a=o?X8(e,t):`"${r}"`;const l=yn(a)&&a.callee===sp;let f,h,p,m=0,v,b,_,k=l||a===fc||a===Tb||!o&&(r==="svg"||r==="foreignObject");if(i.length>0){const C=LE(e,t);f=C.props,m=C.patchFlag,b=C.dynamicPropNames;const E=C.directives;_=E&&E.length?md(E.map(S=>Q8(S,t))):void 0,C.shouldUseBlock&&(k=!0)}if(e.children.length>0)if(a===op&&(k=!0,m|=1024),o&&a!==fc&&a!==op){const{slots:E,hasDynamicSlots:S}=J8(e,t);h=E,S&&(m|=1024)}else if(e.children.length===1&&a!==fc){const E=e.children[0],S=E.type,F=S===5||S===8;F&&xi(E,t)===0&&(m|=1),F||S===2?h=E:h=e.children}else h=e.children;m!==0&&(p=String(m),b&&b.length&&(v=eI(b))),e.codegenNode=Vc(t,a,f,h,p,v,_,!!k,!1,o,e.loc)};function X8(e,t,n=!1){let{tag:r}=e;const i=W0(r),o=Mg(e,"is");if(o)if(i||Qa("COMPILER_IS_ON_ELEMENT",t)){const f=o.type===6?o.value&&Et(o.value.content,!0):o.exp;if(f)return Fn(t.helper(sp),[f])}else o.type===6&&o.value.content.startsWith("vue:")&&(r=o.value.content.slice(4));const a=!i&&wi(e,"is");if(a&&a.exp)return Fn(t.helper(sp),[a.exp]);const l=vE(r)||t.isBuiltInComponent(r);return l?(n||t.helper(l),l):(t.helper(Db),t.components.add(r),Wc(r,"component"))}function LE(e,t,n=e.props,r=!1){const{tag:i,loc:o,children:a}=e,l=e.tagType===1;let f=[];const h=[],p=[],m=a.length>0;let v=!1,b=0,_=!1,k=!1,C=!1,E=!1,S=!1,F=!1;const O=[],K=({key:U,value:q})=>{if(Kr(U)){const B=U.content,R=pl(B);if(!l&&R&&B.toLowerCase()!=="onclick"&&B!=="onUpdate:modelValue"&&!Ja(B)&&(E=!0),R&&Ja(B)&&(F=!0),q.type===20||(q.type===4||q.type===8)&&xi(q,t)>0)return;B==="ref"?_=!0:B==="class"?k=!0:B==="style"?C=!0:B!=="key"&&!O.includes(B)&&O.push(B),l&&(B==="class"||B==="style")&&!O.includes(B)&&O.push(B)}else S=!0};for(let U=0;U<n.length;U++){const q=n[U];if(q.type===6){const{loc:B,name:R,value:V}=q;let Z=!0;if(R==="ref"&&(_=!0,t.scopes.vFor>0&&f.push(Nn(Et("ref_for",!0),Et("true")))),R==="is"&&(W0(i)||V&&V.content.startsWith("vue:")||Qa("COMPILER_IS_ON_ELEMENT",t)))continue;f.push(Nn(Et(R,!0,bE(B,0,R.length)),Et(V?V.content:"",Z,V?V.loc:B)))}else{const{name:B,arg:R,exp:V,loc:Z}=q,W=B==="bind",ie=B==="on";if(B==="slot"){l||t.onError(vn(40,Z));continue}if(B==="once"||B==="memo"||B==="is"||W&&Ka(R,"is")&&(W0(i)||Qa("COMPILER_IS_ON_ELEMENT",t))||ie&&r)continue;if((W&&Ka(R,"key")||ie&&m&&Ka(R,"vue:before-update"))&&(v=!0),W&&Ka(R,"ref")&&t.scopes.vFor>0&&f.push(Nn(Et("ref_for",!0),Et("true"))),!R&&(W||ie)){if(S=!0,V)if(f.length&&(h.push(ki(Sv(f),o)),f=[]),W){if(Qa("COMPILER_V_BIND_OBJECT_ORDER",t)){h.unshift(V);continue}h.push(V)}else h.push({type:14,loc:Z,callee:t.helper(Rb),arguments:[V]});else t.onError(vn(W?34:35,Z));continue}const L=t.directiveTransforms[B];if(L){const{props:ce,needRuntime:pe}=L(q,e,t);!r&&ce.forEach(K),f.push(...ce),pe&&(p.push(q),qu(pe)&&NE.set(q,pe))}else V4(B)||(p.push(q),m&&(v=!0))}}let j;if(h.length?(f.length&&h.push(ki(Sv(f),o)),h.length>1?j=Fn(t.helper(ap),h,o):j=h[0]):f.length&&(j=ki(Sv(f),o)),S?b|=16:(k&&!l&&(b|=2),C&&!l&&(b|=4),O.length&&(b|=8),E&&(b|=32)),!v&&(b===0||b===32)&&(_||F||p.length>0)&&(b|=512),!t.inSSR&&j)switch(j.type){case 15:let U=-1,q=-1,B=!1;for(let Z=0;Z<j.properties.length;Z++){const W=j.properties[Z].key;Kr(W)?W.content==="class"?U=Z:W.content==="style"&&(q=Z):W.isHandlerKey||(B=!0)}const R=j.properties[U],V=j.properties[q];B?j=Fn(t.helper(jc),[j]):(R&&!Kr(R.value)&&(R.value=Fn(t.helper(Ib),[R.value])),V&&!Kr(V.value)&&(C||V.value.type===17)&&(V.value=Fn(t.helper(Fb),[V.value])));break;case 14:break;default:j=Fn(t.helper(jc),[Fn(t.helper(gd),[j])]);break}return{props:j,directives:p,patchFlag:b,dynamicPropNames:O,shouldUseBlock:v}}function Sv(e){const t=new Map,n=[];for(let r=0;r<e.length;r++){const i=e[r];if(i.key.type===8||!i.key.isStatic){n.push(i);continue}const o=i.key.content,a=t.get(o);a?(o==="style"||o==="class"||pl(o))&&Z8(a,i):(t.set(o,i),n.push(i))}return n}function Z8(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=md([e.value,t.value],e.loc)}function Q8(e,t){const n=[],r=NE.get(e);r?n.push(t.helperString(r)):(t.helper(Mb),t.directives.add(e.name),n.push(Wc(e.name,"directive")));const{loc:i}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const o=Et("true",!1,i);n.push(ki(e.modifiers.map(a=>Nn(a,o)),i))}return md(n,e.loc)}function eI(e){let t="[";for(let n=0,r=e.length;n<r;n++)t+=JSON.stringify(e[n]),n<r-1&&(t+=", ");return t+"]"}function W0(e){return e==="component"||e==="Component"}const tI=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},nI=/-(\w)/g,bx=tI(e=>e.replace(nI,(t,n)=>n?n.toUpperCase():"")),rI=(e,t)=>{if(dp(e)){const{children:n,loc:r}=e,{slotName:i,slotProps:o}=iI(e,t),a=[t.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let l=2;o&&(a[2]=o,l=3),n.length&&(a[3]=Mu([],n,!1,!1,r),l=4),t.scopeId&&!t.slotted&&(l=5),a.splice(l),e.codegenNode=Fn(t.helper(pE),a,r)}};function iI(e,t){let n='"default"',r;const i=[];for(let o=0;o<e.props.length;o++){const a=e.props[o];a.type===6?a.value&&(a.name==="name"?n=JSON.stringify(a.value.content):(a.name=bx(a.name),i.push(a))):a.name==="bind"&&Ka(a.arg,"name")?a.exp&&(n=a.exp):(a.name==="bind"&&a.arg&&Kr(a.arg)&&(a.arg.content=bx(a.arg.content)),i.push(a))}if(i.length>0){const{props:o,directives:a}=LE(e,t,i);r=o,a.length&&t.onError(vn(36,a[0].loc))}return{slotName:n,slotProps:r}}const oI=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,PE=(e,t,n,r)=>{const{loc:i,modifiers:o,arg:a}=e;!e.exp&&!o.length&&n.onError(vn(35,i));let l;if(a.type===4)if(a.isStatic){let m=a.content;m.startsWith("vue:")&&(m=`vnode-${m.slice(4)}`),l=Et(mu(_r(m)),!0,a.loc)}else l=wo([`${n.helperString(z0)}(`,a,")"]);else l=a,l.children.unshift(`${n.helperString(z0)}(`),l.children.push(")");let f=e.exp;f&&!f.content.trim()&&(f=void 0);let h=n.cacheHandlers&&!f&&!n.inVOnce;if(f){const m=yE(f.content),v=!(m||oI.test(f.content)),b=f.content.includes(";");(v||h&&m)&&(f=wo([`${v?"$event":"(...args)"} => ${b?"{":"("}`,f,b?"}":")"]))}let p={props:[Nn(l,f||Et("() => {}",!1,i))]};return r&&(p=r(p)),h&&(p.props[0].value=n.cache(p.props[0].value)),p.props.forEach(m=>m.key.isHandlerKey=!0),p},sI=(e,t,n)=>{const{exp:r,modifiers:i,loc:o}=e,a=e.arg;return a.type!==4?(a.children.unshift("("),a.children.push(') || ""')):a.isStatic||(a.content=`${a.content} || ""`),i.includes("camel")&&(a.type===4?a.isStatic?a.content=_r(a.content):a.content=`${n.helperString(B0)}(${a.content})`:(a.children.unshift(`${n.helperString(B0)}(`),a.children.push(")"))),n.inSSR||(i.includes("prop")&&_x(a,"."),i.includes("attr")&&_x(a,"^")),!r||r.type===4&&!r.content.trim()?(n.onError(vn(34,o)),{props:[Nn(a,Et("",!0,o))]}):{props:[Nn(a,r)]}},_x=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},aI=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const n=e.children;let r,i=!1;for(let o=0;o<n.length;o++){const a=n[o];if(xv(a)){i=!0;for(let l=o+1;l<n.length;l++){const f=n[l];if(xv(f))r||(r=n[o]={type:8,loc:a.loc,children:[a]}),r.children.push(" + ",f),n.splice(l,1),l--;else{r=void 0;break}}}}if(!(!i||n.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(o=>o.type===7&&!t.directiveTransforms[o.name])&&e.tag!=="template")))for(let o=0;o<n.length;o++){const a=n[o];if(xv(a)||a.type===8){const l=[];(a.type!==2||a.content!==" ")&&l.push(a),!t.ssr&&xi(a,t)===0&&l.push(1+""),n[o]={type:12,content:a,loc:a.loc,codegenNode:Fn(t.helper(Ob),l)}}}}},wx=new WeakSet,lI=(e,t)=>{if(e.type===1&&wi(e,"once",!0))return wx.has(e)||t.inVOnce?void 0:(wx.add(e),t.inVOnce=!0,t.helper(lp),()=>{t.inVOnce=!1;const n=t.currentNode;n.codegenNode&&(n.codegenNode=t.cache(n.codegenNode,!0))})},IE=(e,t,n)=>{const{exp:r,arg:i}=e;if(!r)return n.onError(vn(41,e.loc)),Tv();const o=r.loc.source,a=r.type===4?r.content:o;n.bindingMetadata[o];const l=!1;if(!a.trim()||!yE(a)&&!l)return n.onError(vn(42,r.loc)),Tv();const f=i||Et("modelValue",!0),h=i?Kr(i)?`onUpdate:${i.content}`:wo(['"onUpdate:" + ',i]):"onUpdate:modelValue";let p;const m=n.isTS?"($event: any)":"$event";p=wo([`${m} => ((`,r,") = $event)"]);const v=[Nn(f,e.exp),Nn(h,p)];if(e.modifiers.length&&t.tagType===1){const b=e.modifiers.map(k=>($b(k)?k:JSON.stringify(k))+": true").join(", "),_=i?Kr(i)?`${i.content}Modifiers`:wo([i,' + "Modifiers"']):"modelModifiers";v.push(Nn(_,Et(`{ ${b} }`,!1,e.loc,2)))}return Tv(v)};function Tv(e=[]){return{props:e}}const uI=/[\w).+\-_$\]]/,fI=(e,t)=>{!Qa("COMPILER_FILTER",t)||(e.type===5&&pp(e.content,t),e.type===1&&e.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&pp(n.exp,t)}))};function pp(e,t){if(e.type===4)kx(e,t);else for(let n=0;n<e.children.length;n++){const r=e.children[n];typeof r=="object"&&(r.type===4?kx(r,t):r.type===8?pp(e,t):r.type===5&&pp(r.content,t))}}function kx(e,t){const n=e.content;let r=!1,i=!1,o=!1,a=!1,l=0,f=0,h=0,p=0,m,v,b,_,k=[];for(b=0;b<n.length;b++)if(v=m,m=n.charCodeAt(b),r)m===39&&v!==92&&(r=!1);else if(i)m===34&&v!==92&&(i=!1);else if(o)m===96&&v!==92&&(o=!1);else if(a)m===47&&v!==92&&(a=!1);else if(m===124&&n.charCodeAt(b+1)!==124&&n.charCodeAt(b-1)!==124&&!l&&!f&&!h)_===void 0?(p=b+1,_=n.slice(0,b).trim()):C();else{switch(m){case 34:i=!0;break;case 39:r=!0;break;case 96:o=!0;break;case 40:h++;break;case 41:h--;break;case 91:f++;break;case 93:f--;break;case 123:l++;break;case 125:l--;break}if(m===47){let E=b-1,S;for(;E>=0&&(S=n.charAt(E),S===" ");E--);(!S||!uI.test(S))&&(a=!0)}}_===void 0?_=n.slice(0,b).trim():p!==0&&C();function C(){k.push(n.slice(p,b).trim()),p=b+1}if(k.length){for(b=0;b<k.length;b++)_=cI(_,k[b],t);e.content=_}}function cI(e,t,n){n.helper(Nb);const r=t.indexOf("(");if(r<0)return n.filters.add(t),`${Wc(t,"filter")}(${e})`;{const i=t.slice(0,r),o=t.slice(r+1);return n.filters.add(i),`${Wc(i,"filter")}(${e}${o!==")"?","+o:o}`}}const xx=new WeakSet,dI=(e,t)=>{if(e.type===1){const n=wi(e,"memo");return!n||xx.has(e)?void 0:(xx.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&r.type===13&&(e.tagType!==1&&Hb(r,t),e.codegenNode=Fn(t.helper(zb),[n.exp,Mu(void 0,r),"_cache",String(t.cached++)]))})}};function hI(e){return[[lI,z8,dI,j8,fI,rI,Y8,q8,aI],{on:PE,bind:sI,model:IE}]}function pI(e,t={}){const n=t.onError||Sb,r=t.mode==="module";t.prefixIdentifiers===!0?n(vn(46)):r&&n(vn(47));const i=!1;t.cacheHandlers&&n(vn(48)),t.scopeId&&!r&&n(vn(49));const o=wt(e)?s8(e,t):e,[a,l]=hI();return _8(o,qt({},t,{prefixIdentifiers:i,nodeTransforms:[...a,...t.nodeTransforms||[]],directiveTransforms:qt({},l,t.directiveTransforms||{})})),C8(o,qt({},t,{prefixIdentifiers:i}))}const gI=()=>({props:[]}),FE=Symbol(""),RE=Symbol(""),BE=Symbol(""),zE=Symbol(""),U0=Symbol(""),$E=Symbol(""),HE=Symbol(""),jE=Symbol(""),VE=Symbol(""),WE=Symbol("");UP({[FE]:"vModelRadio",[RE]:"vModelCheckbox",[BE]:"vModelText",[zE]:"vModelSelect",[U0]:"vModelDynamic",[$E]:"withModifiers",[HE]:"withKeys",[jE]:"vShow",[VE]:"Transition",[WE]:"TransitionGroup"});let Zl;function mI(e,t=!1){return Zl||(Zl=document.createElement("div")),t?(Zl.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,Zl.children[0].getAttribute("foo")):(Zl.innerHTML=e,Zl.textContent)}const vI=Zr("style,iframe,script,noscript",!0),yI={isVoidTag:B4,isNativeTag:e=>F4(e)||R4(e),isPreTag:e=>e==="pre",decodeEntities:mI,isBuiltInComponent:e=>{if(iu(e,"Transition"))return VE;if(iu(e,"TransitionGroup"))return WE},getNamespace(e,t){let n=t?t.ns:0;if(t&&n===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(n=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(n=0);else t&&n===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(n=0);if(n===0){if(e==="svg")return 1;if(e==="math")return 2}return n},getTextMode({tag:e,ns:t}){if(t===0){if(e==="textarea"||e==="title")return 1;if(vI(e))return 2}return 0}},bI=e=>{e.type===1&&e.props.forEach((t,n)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[n]={type:7,name:"bind",arg:Et("style",!0,t.loc),exp:_I(t.value.content,t.loc),modifiers:[],loc:t.loc})})},_I=(e,t)=>{const n=M2(e);return Et(JSON.stringify(n),!1,t,3)};function Jo(e,t){return vn(e,t)}const wI=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(Jo(50,i)),t.children.length&&(n.onError(Jo(51,i)),t.children.length=0),{props:[Nn(Et("innerHTML",!0,i),r||Et("",!0))]}},kI=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(Jo(52,i)),t.children.length&&(n.onError(Jo(53,i)),t.children.length=0),{props:[Nn(Et("textContent",!0),r?Fn(n.helperString(Dg),[r],i):Et("",!0))]}},xI=(e,t,n)=>{const r=IE(e,t,n);if(!r.props.length||t.tagType===1)return r;e.arg&&n.onError(Jo(55,e.arg.loc));const{tag:i}=t,o=n.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||o){let a=BE,l=!1;if(i==="input"||o){const f=Mg(t,"type");if(f){if(f.type===7)a=U0;else if(f.value)switch(f.value.content){case"radio":a=FE;break;case"checkbox":a=RE;break;case"file":l=!0,n.onError(Jo(56,e.loc));break}}else e8(t)&&(a=U0)}else i==="select"&&(a=zE);l||(r.needRuntime=n.helper(a))}else n.onError(Jo(54,e.loc));return r.props=r.props.filter(a=>!(a.key.type===4&&a.key.content==="modelValue")),r},CI=Zr("passive,once,capture"),SI=Zr("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),TI=Zr("left,right"),UE=Zr("onkeyup,onkeydown,onkeypress",!0),EI=(e,t,n,r)=>{const i=[],o=[],a=[];for(let l=0;l<t.length;l++){const f=t[l];f==="native"&&Uc("COMPILER_V_ON_NATIVE",n)||CI(f)?a.push(f):TI(f)?Kr(e)?UE(e.content)?i.push(f):o.push(f):(i.push(f),o.push(f)):SI(f)?o.push(f):i.push(f)}return{keyModifiers:i,nonKeyModifiers:o,eventOptionModifiers:a}},Cx=(e,t)=>Kr(e)&&e.content.toLowerCase()==="onclick"?Et(t,!0):e.type!==4?wo(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,AI=(e,t,n)=>PE(e,t,n,r=>{const{modifiers:i}=e;if(!i.length)return r;let{key:o,value:a}=r.props[0];const{keyModifiers:l,nonKeyModifiers:f,eventOptionModifiers:h}=EI(o,i,n,e.loc);if(f.includes("right")&&(o=Cx(o,"onContextmenu")),f.includes("middle")&&(o=Cx(o,"onMouseup")),f.length&&(a=Fn(n.helper($E),[a,JSON.stringify(f)])),l.length&&(!Kr(o)||UE(o.content))&&(a=Fn(n.helper(HE),[a,JSON.stringify(l)])),h.length){const p=h.map(ml).join("");o=Kr(o)?Et(`${o.content}${p}`,!0):wo(["(",o,`) + "${p}"`])}return{props:[Nn(o,a)]}}),OI=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(Jo(58,i)),{props:[],needRuntime:n.helper(jE)}},DI=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&(t.onError(Jo(60,e.loc)),t.removeNode())},MI=[bI],NI={cloak:gI,html:wI,text:kI,model:xI,on:AI,show:OI};function LI(e,t={}){return pI(e,qt({},yI,t,{nodeTransforms:[DI,...MI,...t.nodeTransforms||[]],directiveTransforms:qt({},NI,t.directiveTransforms||{}),transformHoist:null}))}const Sx=Object.create(null);function PI(e,t){if(!wt(e))if(e.nodeType)e=e.innerHTML;else return Br;const n=e,r=Sx[n];if(r)return r;if(e[0]==="#"){const a=document.querySelector(e);e=a?a.innerHTML:""}const{code:i}=LI(e,qt({hoistStatic:!0,onError:void 0,onWarn:Br},t)),o=new Function("Vue",i)(zP);return o._rc=!0,Sx[n]=o}HT(PI);function II(e){return e=e||Object.create(null),{on:function(n,r){(e[n]||(e[n]=[])).push(r)},off:function(n,r){e[n]&&e[n].splice(e[n].indexOf(r)>>>0,1)},emit:function(n,r){(e[n]||[]).slice().map(function(i){i(r)}),(e["*"]||[]).slice().map(function(i){i(n,r)})}}}function hs(e){return e.split("-")[0]}function bu(e){return e.split("-")[1]}function yd(e){return["top","bottom"].includes(hs(e))?"x":"y"}function Wb(e){return e==="y"?"height":"width"}function Tx(e){let{reference:t,floating:n,placement:r}=e;const i=t.x+t.width/2-n.width/2,o=t.y+t.height/2-n.height/2;let a;switch(hs(r)){case"top":a={x:i,y:t.y-n.height};break;case"bottom":a={x:i,y:t.y+t.height};break;case"right":a={x:t.x+t.width,y:o};break;case"left":a={x:t.x-n.width,y:o};break;default:a={x:t.x,y:t.y}}const l=yd(r),f=Wb(l);switch(bu(r)){case"start":a[l]=a[l]-(t[f]/2-n[f]/2);break;case"end":a[l]=a[l]+(t[f]/2-n[f]/2);break}return a}const FI=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n;let l=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:h}=Tx(Xt(ve({},l),{placement:r})),p=r,m={};for(let v=0;v<o.length;v++){const{name:b,fn:_}=o[v],{x:k,y:C,data:E,reset:S}=await _({x:f,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:l,platform:a,elements:{reference:e,floating:t}});if(f=k!=null?k:f,h=C!=null?C:h,m=Xt(ve({},m),{[b]:E!=null?E:{}}),S){typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(l=S.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:f,y:h}=Tx(Xt(ve({},l),{placement:p}))),v=-1;continue}}return{x:f,y:h,placement:p,strategy:i,middlewareData:m}};function RI(e){return ve({top:0,right:0,bottom:0,left:0},e)}function KE(e){return typeof e!="number"?RI(e):{top:e,right:e,bottom:e,left:e}}function K0(e){return Xt(ve({},e),{top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height})}async function Ig(e,t){t===void 0&&(t={});const{x:n,y:r,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:f="clippingParents",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:m=!1,padding:v=0}=t,b=KE(v),k=a[m?p==="floating"?"reference":"floating":p],C=await i.getClippingClientRect({element:await i.isElement(k)?k:k.contextElement||await i.getDocumentElement({element:a.floating}),boundary:f,rootBoundary:h}),E=K0(await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:p==="floating"?Xt(ve({},o.floating),{x:n,y:r}):o.reference,offsetParent:await i.getOffsetParent({element:a.floating}),strategy:l}));return{top:C.top-E.top+b.top,bottom:E.bottom-C.bottom+b.bottom,left:C.left-E.left+b.left,right:E.right-C.right+b.right}}const BI=Math.min,za=Math.max;function q0(e,t,n){return za(e,BI(t,n))}const zI=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e!=null?e:{},{x:i,y:o,placement:a,rects:l,platform:f}=t;if(n==null)return{};const h=KE(r),p={x:i,y:o},m=hs(a),v=yd(m),b=Wb(v),_=await f.getDimensions({element:n}),k=v==="y"?"top":"left",C=v==="y"?"bottom":"right",E=l.reference[b]+l.reference[v]-p[v]-l.floating[b],S=p[v]-l.reference[v],F=await f.getOffsetParent({element:n}),O=F?v==="y"?F.clientHeight||0:F.clientWidth||0:0,K=E/2-S/2,j=h[k],U=O-_[b]-h[C],q=O/2-_[b]/2+K,B=q0(j,q,U);return{data:{[v]:B,centerOffset:q-B}}}}),$I={left:"right",right:"left",bottom:"top",top:"bottom"};function gp(e){return e.replace(/left|right|bottom|top/g,t=>$I[t])}function qE(e,t){const n=bu(e)==="start",r=yd(e),i=Wb(r);let o=r==="x"?n?"right":"left":n?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=gp(o)),{main:o,cross:gp(o)}}const HI={start:"end",end:"start"};function G0(e){return e.replace(/start|end/g,t=>HI[t])}const jI=["top","right","bottom","left"],VI=jI.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);function WI(e,t,n){return(e?[...n.filter(i=>bu(i)===e),...n.filter(i=>bu(i)!==e)]:n.filter(i=>hs(i)===i)).filter(i=>e?bu(i)===e||(t?G0(i)!==i:!1):!0)}const UI=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,i,o,a,l;const{x:f,y:h,rects:p,middlewareData:m,placement:v}=t,Z=e,{alignment:b=null,allowedPlacements:_=VI,autoAlignment:k=!0}=Z,C=Xl(Z,["alignment","allowedPlacements","autoAlignment"]);if((n=m.autoPlacement)!=null&&n.skip)return{};const E=WI(b,k,_),S=await Ig(t,C),F=(r=(i=m.autoPlacement)==null?void 0:i.index)!=null?r:0,O=E[F],{main:K,cross:j}=qE(O,p);if(v!==O)return{x:f,y:h,reset:{placement:E[0]}};const U=[S[hs(O)],S[K],S[j]],q=[...(o=(a=m.autoPlacement)==null?void 0:a.overflows)!=null?o:[],{placement:O,overflows:U}],B=E[F+1];if(B)return{data:{index:F+1,overflows:q},reset:{placement:B}};const R=q.slice().sort((W,ie)=>W.overflows[0]-ie.overflows[0]),V=(l=R.find(W=>{let{overflows:ie}=W;return ie.every(L=>L<=0)}))==null?void 0:l.placement;return{data:{skip:!0},reset:{placement:V!=null?V:R[0].placement}}}}};function KI(e){const t=gp(e);return[G0(e),t,G0(t)]}const qI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:l}=t;if((n=o.flip)!=null&&n.skip)return{};const q=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",flipAlignment:v=!0}=q,b=Xl(q,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment"]),_=hs(i),C=p||(_===l||!v?[gp(l)]:KI(l)),E=[l,...C],S=await Ig(t,b),F=[];let O=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&F.push(S[_]),h){const{main:B,cross:R}=qE(i,a);F.push(S[B],S[R])}if(O=[...O,{placement:i,overflows:F}],!F.every(B=>B<=0)){var K,j;const B=((K=(j=o.flip)==null?void 0:j.index)!=null?K:0)+1,R=E[B];if(R)return{data:{index:B,overflows:O},reset:{placement:R}};let V="bottom";switch(m){case"bestFit":{var U;const Z=(U=O.slice().sort((W,ie)=>W.overflows.filter(L=>L>0).reduce((L,ce)=>L+ce,0)-ie.overflows.filter(L=>L>0).reduce((L,ce)=>L+ce,0))[0])==null?void 0:U.placement;Z&&(V=Z);break}case"initialPlacement":V=l;break}return{data:{skip:!0},reset:{placement:V}}}return{}}}};function GI(e){let{placement:t,rects:n,value:r}=e;const i=hs(t),o=["left","top"].includes(i)?-1:1,a=typeof r=="function"?r(Xt(ve({},n),{placement:t})):r,{mainAxis:l,crossAxis:f}=typeof a=="number"?{mainAxis:a,crossAxis:0}:ve({mainAxis:0,crossAxis:0},a);return yd(i)==="x"?{x:f,y:l*o}:{x:l*o,y:f}}const JI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(t){const{x:n,y:r,placement:i,rects:o}=t,a=GI({placement:i,rects:o,value:e});return{x:n+a.x,y:r+a.y,data:a}}}};function YI(e){return e==="x"?"y":"x"}const XI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,C=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:E=>{let{x:S,y:F}=E;return{x:S,y:F}}}}=C,f=Xl(C,["mainAxis","crossAxis","limiter"]),h={x:n,y:r},p=await Ig(t,f),m=yd(hs(i)),v=YI(m);let b=h[m],_=h[v];if(o){const E=m==="y"?"top":"left",S=m==="y"?"bottom":"right",F=b+p[E],O=b-p[S];b=q0(F,b,O)}if(a){const E=v==="y"?"top":"left",S=v==="y"?"bottom":"right",F=_+p[E],O=_-p[S];_=q0(F,_,O)}const k=l.fn(Xt(ve({},t),{[m]:b,[v]:_}));return Xt(ve({},k),{data:{x:k.x-n,y:k.y-r}})}}},ZI=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n;const{placement:r,rects:i,middlewareData:o}=t,S=e,{apply:a}=S,l=Xl(S,["apply"]);if((n=o.size)!=null&&n.skip)return{};const f=await Ig(t,l),h=hs(r),p=bu(r)==="end";let m,v;h==="top"||h==="bottom"?(m=h,v=p?"left":"right"):(v=h,m=p?"top":"bottom");const b=za(f.left,0),_=za(f.right,0),k=za(f.top,0),C=za(f.bottom,0),E={height:i.floating.height-(["left","right"].includes(r)?2*(k!==0||C!==0?k+C:za(f.top,f.bottom)):f[m]),width:i.floating.width-(["top","bottom"].includes(r)?2*(b!==0||_!==0?b+_:za(f.left,f.right)):f[v])};return a==null||a(ve(ve({},E),i)),{data:{skip:!0},reset:{rects:!0}}}}};function Ub(e){return(e==null?void 0:e.toString())==="[object Window]"}function da(e){if(e==null)return window;if(!Ub(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function Fg(e){return da(e).getComputedStyle(e)}function ns(e){return Ub(e)?"":e?(e.nodeName||"").toLowerCase():""}function rs(e){return e instanceof da(e).HTMLElement}function mp(e){return e instanceof da(e).Element}function QI(e){return e instanceof da(e).Node}function GE(e){const t=da(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Rg(e){const{overflow:t,overflowX:n,overflowY:r}=Fg(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function eF(e){return["table","td","th"].includes(ns(e))}function JE(e){const t=navigator.userAgent.toLowerCase().includes("firefox"),n=Fg(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&(n.filter?n.filter!=="none":!1)}const Ex=Math.min,dc=Math.max,vp=Math.round;function Pu(e,t){t===void 0&&(t=!1);const n=e.getBoundingClientRect();let r=1,i=1;return t&&rs(e)&&(r=e.offsetWidth>0&&vp(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&vp(n.height)/e.offsetHeight||1),{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function ha(e){return((QI(e)?e.ownerDocument:e.document)||window.document).documentElement}function Bg(e){return Ub(e)?{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}:{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function YE(e){return Pu(ha(e)).left+Bg(e).scrollLeft}function tF(e){const t=Pu(e);return vp(t.width)!==e.offsetWidth||vp(t.height)!==e.offsetHeight}function nF(e,t,n){const r=rs(t),i=ha(t),o=Pu(e,r&&tF(t));let a={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if(r||!r&&n!=="fixed")if((ns(t)!=="body"||Rg(i))&&(a=Bg(t)),rs(t)){const f=Pu(t,!0);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else i&&(l.x=YE(i));return{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function zg(e){return ns(e)==="html"?e:e.assignedSlot||e.parentNode||(GE(e)?e.host:null)||ha(e)}function Ax(e){return!rs(e)||getComputedStyle(e).position==="fixed"?null:e.offsetParent}function rF(e){let t=zg(e);for(;rs(t)&&!["html","body"].includes(ns(t));){if(JE(t))return t;t=t.parentNode}return null}function J0(e){const t=da(e);let n=Ax(e);for(;n&&eF(n)&&getComputedStyle(n).position==="static";)n=Ax(n);return n&&(ns(n)==="html"||ns(n)==="body"&&getComputedStyle(n).position==="static"&&!JE(n))?t:n||rF(e)||t}function Ox(e){return{width:e.offsetWidth,height:e.offsetHeight}}function iF(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=rs(n),o=ha(n);if(n===o)return t;let a={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if((i||!i&&r!=="fixed")&&((ns(n)!=="body"||Rg(o))&&(a=Bg(n)),rs(n))){const f=Pu(n,!0);l.x=f.x+n.clientLeft,l.y=f.y+n.clientTop}return Xt(ve({},t),{x:t.x-a.scrollLeft+l.x,y:t.y-a.scrollTop+l.y})}function oF(e){const t=da(e),n=ha(e),r=t.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,l=0;return r&&(i=r.width,o=r.height,Math.abs(t.innerWidth/r.scale-r.width)<.01&&(a=r.offsetLeft,l=r.offsetTop)),{width:i,height:o,x:a,y:l}}function sF(e){var t;const n=ha(e),r=Bg(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=dc(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=dc(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let l=-r.scrollLeft+YE(e);const f=-r.scrollTop;return Fg(i||n).direction==="rtl"&&(l+=dc(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:l,y:f}}function XE(e){return["html","body","#document"].includes(ns(e))?e.ownerDocument.body:rs(e)&&Rg(e)?e:XE(zg(e))}function yp(e,t){var n;t===void 0&&(t=[]);const r=XE(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=da(r),a=i?[o].concat(o.visualViewport||[],Rg(r)?r:[]):r,l=t.concat(a);return i?l:l.concat(yp(zg(a)))}function aF(e,t){const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&GE(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function lF(e){const t=Pu(e),n=t.top+e.clientTop,r=t.left+e.clientLeft;return{top:n,left:r,x:r,y:n,right:r+e.clientWidth,bottom:n+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function Dx(e,t){return t==="viewport"?K0(oF(e)):mp(t)?lF(t):K0(sF(ha(e)))}function uF(e){const t=yp(zg(e)),r=["absolute","fixed"].includes(Fg(e).position)&&rs(e)?J0(e):e;return mp(r)?t.filter(i=>mp(i)&&aF(i,r)&&ns(i)!=="body"):[]}function fF(e){let{element:t,boundary:n,rootBoundary:r}=e;const o=[...n==="clippingParents"?uF(t):[].concat(n),r],a=o[0],l=o.reduce((f,h)=>{const p=Dx(t,h);return f.top=dc(p.top,f.top),f.right=Ex(p.right,f.right),f.bottom=Ex(p.bottom,f.bottom),f.left=dc(p.left,f.left),f},Dx(t,a));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}const cF={getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:nF(t,J0(n),r),floating:Xt(ve({},Ox(n)),{x:0,y:0})}},convertOffsetParentRelativeRectToViewportRelativeRect:e=>iF(e),getOffsetParent:e=>{let{element:t}=e;return J0(t)},isElement:e=>mp(e),getDocumentElement:e=>{let{element:t}=e;return ha(t)},getClippingClientRect:e=>fF(e),getDimensions:e=>{let{element:t}=e;return Ox(t)},getClientRects:e=>{let{element:t}=e;return t.getClientRects()}},dF=(e,t,n)=>FI(e,t,ve({platform:cF},n));var hF=Object.defineProperty,pF=Object.defineProperties,gF=Object.getOwnPropertyDescriptors,Mx=Object.getOwnPropertySymbols,mF=Object.prototype.hasOwnProperty,vF=Object.prototype.propertyIsEnumerable,Nx=(e,t,n)=>t in e?hF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,go=(e,t)=>{for(var n in t||(t={}))mF.call(t,n)&&Nx(e,n,t[n]);if(Mx)for(var n of Mx(t))vF.call(t,n)&&Nx(e,n,t[n]);return e},bd=(e,t)=>pF(e,gF(t));function ZE(e,t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(typeof t[n]=="object"&&e[n]?ZE(e[n],t[n]):e[n]=t[n])}const Yo={disabled:!1,distance:5,skidding:0,container:"body",boundary:void 0,instantMove:!1,disposeTimeout:5e3,popperTriggers:[],strategy:"absolute",preventOverflow:!0,flip:!0,shift:!0,overflowPadding:0,arrowPadding:0,arrowOverflow:!0,themes:{tooltip:{placement:"top",triggers:["hover","focus","touch"],hideTriggers:e=>[...e,"click"],delay:{show:200,hide:0},handleResize:!1,html:!1,loadingContent:"..."},dropdown:{placement:"bottom",triggers:["click"],delay:0,handleResize:!0,autoHide:!0},menu:{$extend:"dropdown",triggers:["hover","focus"],popperTriggers:["hover","focus"],delay:{show:0,hide:400}}}};function Iu(e,t){let n=Yo.themes[e]||{},r;do r=n[t],typeof r=="undefined"?n.$extend?n=Yo.themes[n.$extend]||{}:(n=null,r=Yo[t]):n=null;while(n);return r}function yF(e){const t=[e];let n=Yo.themes[e]||{};do n.$extend&&!n.$resetCss?(t.push(n.$extend),n=Yo.themes[n.$extend]||{}):n=null;while(n);return t.map(r=>`v-popper--theme-${r}`)}function Lx(e){const t=[e];let n=Yo.themes[e]||{};do n.$extend?(t.push(n.$extend),n=Yo.themes[n.$extend]||{}):n=null;while(n);return t}let sl=!1;if(typeof window!="undefined"){sl=!1;try{const e=Object.defineProperty({},"passive",{get(){sl=!0}});window.addEventListener("test",null,e)}catch{}}let QE=!1;typeof window!="undefined"&&typeof navigator!="undefined"&&(QE=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);const eA=["auto","top","bottom","left","right"].reduce((e,t)=>e.concat([t,`${t}-start`,`${t}-end`]),[]),Px={hover:"mouseenter",focus:"focus",click:"click",touch:"touchstart"},Ix={hover:"mouseleave",focus:"blur",click:"click",touch:"touchend"};function Fx(e,t){const n=e.indexOf(t);n!==-1&&e.splice(n,1)}function Ev(){return new Promise(e=>requestAnimationFrame(()=>{requestAnimationFrame(e)}))}const Ki=[];let Pa=null;const Rx={};function Bx(e){let t=Rx[e];return t||(t=Rx[e]=[]),t}let Y0=function(){};typeof window!="undefined"&&(Y0=window.Element);function jt(e){return function(t){return Iu(t.theme,e)}}const Av="__floating-vue__popper";var tA=()=>pn({name:"VPopper",provide(){return{[Av]:{parentPopper:this}}},inject:{[Av]:{default:null}},props:{theme:{type:String,required:!0},targetNodes:{type:Function,required:!0},referenceNode:{type:Function,required:!0},popperNode:{type:Function,required:!0},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:jt("disabled")},positioningDisabled:{type:Boolean,default:jt("positioningDisabled")},placement:{type:String,default:jt("placement"),validator:e=>eA.includes(e)},delay:{type:[String,Number,Object],default:jt("delay")},distance:{type:[Number,String],default:jt("distance")},skidding:{type:[Number,String],default:jt("skidding")},triggers:{type:Array,default:jt("triggers")},showTriggers:{type:[Array,Function],default:jt("showTriggers")},hideTriggers:{type:[Array,Function],default:jt("hideTriggers")},popperTriggers:{type:Array,default:jt("popperTriggers")},popperShowTriggers:{type:[Array,Function],default:jt("popperShowTriggers")},popperHideTriggers:{type:[Array,Function],default:jt("popperHideTriggers")},container:{type:[String,Object,Y0,Boolean],default:jt("container")},boundary:{type:[String,Y0],default:jt("boundary")},strategy:{type:String,validator:e=>["absolute","fixed"].includes(e),default:jt("strategy")},autoHide:{type:[Boolean,Function],default:jt("autoHide")},handleResize:{type:Boolean,default:jt("handleResize")},instantMove:{type:Boolean,default:jt("instantMove")},eagerMount:{type:Boolean,default:jt("eagerMount")},popperClass:{type:[String,Array,Object],default:jt("popperClass")},computeTransformOrigin:{type:Boolean,default:jt("computeTransformOrigin")},autoMinSize:{type:Boolean,default:jt("autoMinSize")},autoSize:{type:[Boolean,String],default:jt("autoSize")},autoMaxSize:{type:Boolean,default:jt("autoMaxSize")},autoBoundaryMaxSize:{type:Boolean,default:jt("autoBoundaryMaxSize")},preventOverflow:{type:Boolean,default:jt("preventOverflow")},overflowPadding:{type:[Number,String],default:jt("overflowPadding")},arrowPadding:{type:[Number,String],default:jt("arrowPadding")},arrowOverflow:{type:Boolean,default:jt("arrowOverflow")},flip:{type:Boolean,default:jt("flip")},shift:{type:Boolean,default:jt("shift")},shiftCrossAxis:{type:Boolean,default:jt("shiftCrossAxis")}},emits:["show","hide","update:shown","apply-show","apply-hide","close-group","close-directive","auto-hide","resize","dispose"],data(){return{isShown:!1,isMounted:!1,skipTransition:!1,classes:{showFrom:!1,showTo:!1,hideFrom:!1,hideTo:!0},result:{x:0,y:0,placement:"",strategy:this.strategy,arrow:{x:0,y:0,centerOffset:0},transformOrigin:null},shownChildren:new Set,lastAutoHide:!0}},computed:{popperId(){return this.ariaId!=null?this.ariaId:this.randomId},shouldMountContent(){return this.eagerMount||this.isMounted},slotData(){return{popperId:this.popperId,isShown:this.isShown,shouldMountContent:this.shouldMountContent,skipTransition:this.skipTransition,autoHide:typeof this.autoHide=="function"?this.lastAutoHide:this.autoHide,show:this.show,hide:this.hide,handleResize:this.handleResize,onResize:this.onResize,classes:bd(go({},this.classes),{popperClass:this.popperClass}),result:this.positioningDisabled?null:this.result,attrs:this.$attrs}},parentPopper(){var e;return(e=this[Av])==null?void 0:e.parentPopper},hasPopperShowTriggerHover(){var e,t;return((e=this.popperTriggers)==null?void 0:e.includes("hover"))||((t=this.popperShowTriggers)==null?void 0:t.includes("hover"))}},watch:go(go({shown:"$_autoShowHide",disabled(e){e?this.dispose():this.init()},async container(){this.isShown&&(this.$_ensureTeleport(),await this.$_computePosition())}},["triggers","positioningDisabled"].reduce((e,t)=>(e[t]="$_refreshListeners",e),{})),["placement","distance","skidding","boundary","strategy","overflowPadding","arrowPadding","preventOverflow","shift","shiftCrossAxis","flip"].reduce((e,t)=>(e[t]="$_computePosition",e),{})),created(){this.$_isDisposed=!0,this.randomId=`popper_${[Math.random(),Date.now()].map(e=>e.toString(36).substring(2,10)).join("_")}`,this.autoMinSize&&console.warn('[floating-vue] `autoMinSize` option is deprecated. Use `autoSize="min"` instead.'),this.autoMaxSize&&console.warn("[floating-vue] `autoMaxSize` option is deprecated. Use `autoBoundaryMaxSize` instead.")},mounted(){this.init(),this.$_detachPopperNode()},activated(){this.$_autoShowHide()},deactivated(){this.hide()},beforeUnmount(){this.dispose()},methods:{show({event:e=null,skipDelay:t=!1,force:n=!1}={}){var r,i;((r=this.parentPopper)==null?void 0:r.lockedChild)&&this.parentPopper.lockedChild!==this||(this.$_pendingHide=!1,(n||!this.disabled)&&(((i=this.parentPopper)==null?void 0:i.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_scheduleShow(e,t),this.$emit("show"),this.$_showFrameLocked=!0,requestAnimationFrame(()=>{this.$_showFrameLocked=!1})),this.$emit("update:shown",!0))},hide({event:e=null,skipDelay:t=!1}={}){var n;if(!this.$_hideInProgress){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}if(this.hasPopperShowTriggerHover&&this.$_isAimingPopper()){this.parentPopper&&(this.parentPopper.lockedChild=this,clearTimeout(this.parentPopper.lockedChildTimer),this.parentPopper.lockedChildTimer=setTimeout(()=>{this.parentPopper.lockedChild===this&&(this.parentPopper.lockedChild.hide({skipDelay:t}),this.parentPopper.lockedChild=null)},1e3));return}((n=this.parentPopper)==null?void 0:n.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_pendingHide=!1,this.$_scheduleHide(e,t),this.$emit("hide"),this.$emit("update:shown",!1)}},init(){!this.$_isDisposed||(this.$_isDisposed=!1,this.isMounted=!1,this.$_events=[],this.$_preventShow=!1,this.$_referenceNode=this.referenceNode(),this.$_targetNodes=this.targetNodes().filter(e=>e.nodeType===e.ELEMENT_NODE),this.$_popperNode=this.popperNode(),this.$_innerNode=this.$_popperNode.querySelector(".v-popper__inner"),this.$_arrowNode=this.$_popperNode.querySelector(".v-popper__arrow-container"),this.$_swapTargetAttrs("title","data-original-title"),this.$_detachPopperNode(),this.triggers.length&&this.$_addEventListeners(),this.shown&&this.show())},dispose(){this.$_isDisposed||(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.$_detachPopperNode(),this.isMounted=!1,this.isShown=!1,this.$_updateParentShownChildren(!1),this.$_swapTargetAttrs("data-original-title","title"),this.$emit("dispose"))},async onResize(){this.isShown&&(await this.$_computePosition(),this.$emit("resize"))},async $_computePosition(){var e;if(this.$_isDisposed||this.positioningDisabled)return;const t={strategy:this.strategy,middleware:[]};(this.distance||this.skidding)&&t.middleware.push(JI({mainAxis:this.distance,crossAxis:this.skidding}));const n=this.placement.startsWith("auto");if(n?t.middleware.push(UI({alignment:(e=this.placement.split("-")[1])!=null?e:""})):t.placement=this.placement,this.preventOverflow&&(this.shift&&t.middleware.push(XI({padding:this.overflowPadding,boundary:this.boundary,crossAxis:this.shiftCrossAxis})),!n&&this.flip&&t.middleware.push(qI({padding:this.overflowPadding,boundary:this.boundary}))),t.middleware.push(zI({element:this.$_arrowNode,padding:this.arrowPadding})),this.arrowOverflow&&t.middleware.push({name:"arrowOverflow",fn:({placement:i,rects:o,middlewareData:a})=>{let l;const{centerOffset:f}=a.arrow;return i.startsWith("top")||i.startsWith("bottom")?l=Math.abs(f)>o.reference.width/2:l=Math.abs(f)>o.reference.height/2,{data:{overflow:l}}}}),this.autoMinSize||this.autoSize){const i=this.autoSize?this.autoSize:this.autoMinSize?"min":null;t.middleware.push({name:"autoSize",fn:({rects:o,placement:a,middlewareData:l})=>{var f;if((f=l.autoSize)!=null&&f.skip)return{};let h,p;return a.startsWith("top")||a.startsWith("bottom")?h=o.reference.width:p=o.reference.height,this.$_innerNode.style[i==="min"?"minWidth":i==="max"?"maxWidth":"width"]=h!=null?`${h}px`:null,this.$_innerNode.style[i==="min"?"minHeight":i==="max"?"maxHeight":"height"]=p!=null?`${p}px`:null,{data:{skip:!0},reset:{rects:!0}}}})}(this.autoMaxSize||this.autoBoundaryMaxSize)&&(this.$_innerNode.style.maxWidth=null,this.$_innerNode.style.maxHeight=null,t.middleware.push(ZI({boundary:this.boundary,padding:this.overflowPadding,apply:({width:i,height:o})=>{this.$_innerNode.style.maxWidth=i!=null?`${i}px`:null,this.$_innerNode.style.maxHeight=o!=null?`${o}px`:null}})));const r=await dF(this.$_referenceNode,this.$_popperNode,t);Object.assign(this.result,{x:r.x,y:r.y,placement:r.placement,strategy:r.strategy,arrow:go(go({},r.middlewareData.arrow),r.middlewareData.arrowOverflow)})},$_scheduleShow(e=null,t=!1){if(this.$_updateParentShownChildren(!0),this.$_hideInProgress=!1,clearTimeout(this.$_scheduleTimer),Pa&&this.instantMove&&Pa.instantMove&&Pa!==this.parentPopper){Pa.$_applyHide(!0),this.$_applyShow(!0);return}t?this.$_applyShow():this.$_scheduleTimer=setTimeout(this.$_applyShow.bind(this),this.$_computeDelay("show"))},$_scheduleHide(e=null,t=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}this.$_updateParentShownChildren(!1),this.$_hideInProgress=!0,clearTimeout(this.$_scheduleTimer),this.isShown&&(Pa=this),t?this.$_applyHide():this.$_scheduleTimer=setTimeout(this.$_applyHide.bind(this),this.$_computeDelay("hide"))},$_computeDelay(e){const t=this.delay;return parseInt(t&&t[e]||t||0)},async $_applyShow(e=!1){clearTimeout(this.$_disposeTimer),clearTimeout(this.$_scheduleTimer),this.skipTransition=e,!this.isShown&&(this.$_ensureTeleport(),await Ev(),await this.$_computePosition(),await this.$_applyShowEffect(),this.positioningDisabled||this.$_registerEventListeners([...yp(this.$_referenceNode),...yp(this.$_popperNode)],"scroll",()=>{this.$_computePosition()}))},async $_applyShowEffect(){if(this.$_hideInProgress)return;if(this.computeTransformOrigin){const t=this.$_referenceNode.getBoundingClientRect(),n=this.$_popperNode.querySelector(".v-popper__wrapper"),r=n.parentNode.getBoundingClientRect(),i=t.x+t.width/2-(r.left+n.offsetLeft),o=t.y+t.height/2-(r.top+n.offsetTop);this.result.transformOrigin=`${i}px ${o}px`}this.isShown=!0,this.$_applyAttrsToTarget({"aria-describedby":this.popperId,"data-popper-shown":""});const e=this.showGroup;if(e){let t;for(let n=0;n<Ki.length;n++)t=Ki[n],t.showGroup!==e&&(t.hide(),t.$emit("close-group"))}Ki.push(this),document.body.classList.add("v-popper--some-open");for(const t of Lx(this.theme))Bx(t).push(this),document.body.classList.add(`v-popper--some-open--${t}`);this.$emit("apply-show"),this.classes.showFrom=!0,this.classes.showTo=!1,this.classes.hideFrom=!1,this.classes.hideTo=!1,await Ev(),this.classes.showFrom=!1,this.classes.showTo=!0,this.$_popperNode.focus()},async $_applyHide(e=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0,this.$_hideInProgress=!1;return}if(clearTimeout(this.$_scheduleTimer),!this.isShown)return;this.skipTransition=e,Fx(Ki,this),Ki.length===0&&document.body.classList.remove("v-popper--some-open");for(const n of Lx(this.theme)){const r=Bx(n);Fx(r,this),r.length===0&&document.body.classList.remove(`v-popper--some-open--${n}`)}Pa===this&&(Pa=null),this.isShown=!1,this.$_applyAttrsToTarget({"aria-describedby":void 0,"data-popper-shown":void 0}),clearTimeout(this.$_disposeTimer);const t=Iu(this.theme,"disposeTimeout");t!==null&&(this.$_disposeTimer=setTimeout(()=>{this.$_popperNode&&(this.$_detachPopperNode(),this.isMounted=!1)},t)),this.$_removeEventListeners("scroll"),this.$emit("apply-hide"),this.classes.showFrom=!1,this.classes.showTo=!1,this.classes.hideFrom=!0,this.classes.hideTo=!1,await Ev(),this.classes.hideFrom=!1,this.classes.hideTo=!0},$_autoShowHide(){this.shown?this.show():this.hide()},$_ensureTeleport(){if(this.$_isDisposed)return;let e=this.container;if(typeof e=="string"?e=window.document.querySelector(e):e===!1&&(e=this.$_targetNodes[0].parentNode),!e)throw new Error("No container for popover: "+this.container);e.appendChild(this.$_popperNode),this.isMounted=!0},$_addEventListeners(){const e=n=>{this.isShown&&!this.$_hideInProgress||(n.usedByTooltip=!0,!this.$_preventShow&&this.show({event:n}))};this.$_registerTriggerListeners(this.$_targetNodes,Px,this.triggers,this.showTriggers,e),this.$_registerTriggerListeners([this.$_popperNode],Px,this.popperTriggers,this.popperShowTriggers,e);const t=n=>{n.usedByTooltip||this.hide({event:n})};this.$_registerTriggerListeners(this.$_targetNodes,Ix,this.triggers,this.hideTriggers,t),this.$_registerTriggerListeners([this.$_popperNode],Ix,this.popperTriggers,this.popperHideTriggers,t)},$_registerEventListeners(e,t,n){this.$_events.push({targetNodes:e,eventType:t,handler:n}),e.forEach(r=>r.addEventListener(t,n,sl?{passive:!0}:void 0))},$_registerTriggerListeners(e,t,n,r,i){let o=n;r!=null&&(o=typeof r=="function"?r(o):r),o.forEach(a=>{const l=t[a];l&&this.$_registerEventListeners(e,l,i)})},$_removeEventListeners(e){const t=[];this.$_events.forEach(n=>{const{targetNodes:r,eventType:i,handler:o}=n;!e||e===i?r.forEach(a=>a.removeEventListener(i,o)):t.push(n)}),this.$_events=t},$_refreshListeners(){this.$_isDisposed||(this.$_removeEventListeners(),this.$_addEventListeners())},$_handleGlobalClose(e,t=!1){this.$_showFrameLocked||(this.hide({event:e}),e.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),t&&(this.$_preventShow=!0,setTimeout(()=>{this.$_preventShow=!1},300)))},$_detachPopperNode(){this.$_popperNode.parentNode&&this.$_popperNode.parentNode.removeChild(this.$_popperNode)},$_swapTargetAttrs(e,t){for(const n of this.$_targetNodes){const r=n.getAttribute(e);r&&(n.removeAttribute(e),n.setAttribute(t,r))}},$_applyAttrsToTarget(e){for(const t of this.$_targetNodes)for(const n in e){const r=e[n];r==null?t.removeAttribute(n):t.setAttribute(n,r)}},$_updateParentShownChildren(e){let t=this.parentPopper;for(;t;)e?t.shownChildren.add(this.randomId):(t.shownChildren.delete(this.randomId),t.$_pendingHide&&t.hide()),t=t.parentPopper},$_isAimingPopper(){const e=this.$_referenceNode.getBoundingClientRect();if(hc>=e.left&&hc<=e.right&&pc>=e.top&&pc<=e.bottom){const t=this.$_popperNode.getBoundingClientRect(),n=hc-Fs,r=pc-Rs,o=t.left+t.width/2-Fs+(t.top+t.height/2)-Rs+t.width+t.height,a=Fs+n*o,l=Rs+r*o;return _h(Fs,Rs,a,l,t.left,t.top,t.left,t.bottom)||_h(Fs,Rs,a,l,t.left,t.top,t.right,t.top)||_h(Fs,Rs,a,l,t.right,t.top,t.right,t.bottom)||_h(Fs,Rs,a,l,t.left,t.bottom,t.right,t.bottom)}return!1}},render(){return this.$slots.default(this.slotData)}});typeof document!="undefined"&&typeof window!="undefined"&&(QE?(document.addEventListener("touchstart",zx,sl?{passive:!0,capture:!0}:!0),document.addEventListener("touchend",_F,sl?{passive:!0,capture:!0}:!0)):(window.addEventListener("mousedown",zx,!0),window.addEventListener("click",bF,!0)),window.addEventListener("resize",xF));function zx(e){for(let t=0;t<Ki.length;t++){const n=Ki[t];try{const r=n.popperNode();n.$_mouseDownContains=r.contains(e.target)}catch{}}}function bF(e){nA(e)}function _F(e){nA(e,!0)}function nA(e,t=!1){const n={};for(let r=Ki.length-1;r>=0;r--){const i=Ki[r];try{const o=i.$_containsGlobalTarget=wF(i,e);i.$_pendingHide=!1,requestAnimationFrame(()=>{if(i.$_pendingHide=!1,!n[i.randomId]&&$x(i,o,e)){if(i.$_handleGlobalClose(e,t),!e.closeAllPopover&&e.closePopover&&o){let l=i.parentPopper;for(;l;)n[l.randomId]=!0,l=l.parentPopper;return}let a=i.parentPopper;for(;a&&$x(a,a.$_containsGlobalTarget,e);){a.$_handleGlobalClose(e,t);a=a.parentPopper}}})}catch{}}}function wF(e,t){const n=e.popperNode();return e.$_mouseDownContains||n.contains(t.target)}function $x(e,t,n){return n.closeAllPopover||n.closePopover&&t||kF(e,n)&&!t}function kF(e,t){if(typeof e.autoHide=="function"){const n=e.autoHide(t);return e.lastAutoHide=n,n}return e.autoHide}function xF(e){for(let t=0;t<Ki.length;t++)Ki[t].$_computePosition(e)}let Fs=0,Rs=0,hc=0,pc=0;typeof window!="undefined"&&window.addEventListener("mousemove",e=>{Fs=hc,Rs=pc,hc=e.clientX,pc=e.clientY},sl?{passive:!0}:void 0);function _h(e,t,n,r,i,o,a,l){const f=((a-i)*(t-o)-(l-o)*(e-i))/((l-o)*(n-e)-(a-i)*(r-t)),h=((n-e)*(t-o)-(r-t)*(e-i))/((l-o)*(n-e)-(a-i)*(r-t));return f>=0&&f<=1&&h>=0&&h<=1}function CF(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}var i=e.indexOf("Edge/");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):-1}let zh;function X0(){X0.init||(X0.init=!0,zh=CF()!==-1)}var $g={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){X0(),vo(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",zh&&this.$el.appendChild(e),e.data="about:blank",zh||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!zh&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const SF=fb("data-v-b329ee4c");lb("data-v-b329ee4c");const TF={class:"resize-observer",tabindex:"-1"};ub();const EF=SF((e,t,n,r,i,o)=>(xe(),Wt("div",TF)));$g.render=EF;$g.__scopeId="data-v-b329ee4c";$g.__file="src/components/ResizeObserver.vue";var rA=(e="theme")=>({computed:{themeClass(){return yF(this[e])}}}),Kb=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};const AF=pn({name:"VPopperContent",components:{ResizeObserver:$g},mixins:[rA()],props:{popperId:String,theme:String,shown:Boolean,mounted:Boolean,skipTransition:Boolean,autoHide:Boolean,handleResize:Boolean,classes:Object,result:Object},emits:["hide","resize"],methods:{toPx(e){return e!=null&&!isNaN(e)?`${e}px`:null}}}),OF=["id","aria-hidden","tabindex","data-popper-placement"],DF={ref:"inner",class:"v-popper__inner"},MF=le("div",{class:"v-popper__arrow-outer"},null,-1),NF=le("div",{class:"v-popper__arrow-inner"},null,-1),LF=[MF,NF];function PF(e,t,n,r,i,o){const a=Ot("ResizeObserver");return xe(),Ie("div",{id:e.popperId,ref:"popover",class:Vt(["v-popper__popper",[e.themeClass,e.classes.popperClass,{"v-popper__popper--shown":e.shown,"v-popper__popper--hidden":!e.shown,"v-popper__popper--show-from":e.classes.showFrom,"v-popper__popper--show-to":e.classes.showTo,"v-popper__popper--hide-from":e.classes.hideFrom,"v-popper__popper--hide-to":e.classes.hideTo,"v-popper__popper--skip-transition":e.skipTransition,"v-popper__popper--arrow-overflow":e.result&&e.result.arrow.overflow,"v-popper__popper--no-positioning":!e.result}]]),style:Si(e.result?{position:e.result.strategy,transform:`translate3d(${Math.round(e.result.x)}px,${Math.round(e.result.y)}px,0)`}:void 0),"aria-hidden":e.shown?"false":"true",tabindex:e.autoHide?0:void 0,"data-popper-placement":e.result?e.result.placement:void 0,onKeyup:t[2]||(t[2]=xb(l=>e.autoHide&&e.$emit("hide"),["esc"]))},[le("div",{class:"v-popper__backdrop",onClick:t[0]||(t[0]=l=>e.autoHide&&e.$emit("hide"))}),le("div",{class:"v-popper__wrapper",style:Si(e.result?{transformOrigin:e.result.transformOrigin}:void 0)},[le("div",DF,[e.mounted?(xe(),Ie(Tt,{key:0},[le("div",null,[In(e.$slots,"default")]),e.handleResize?(xe(),Wt(a,{key:0,onNotify:t[1]||(t[1]=l=>e.$emit("resize",l))})):Pt("",!0)],64)):Pt("",!0)],512),le("div",{ref:"arrow",class:"v-popper__arrow-container",style:Si(e.result?{left:e.toPx(e.result.arrow.x),top:e.toPx(e.result.arrow.y)}:void 0)},LF,4)],4)],46,OF)}var iA=Kb(AF,[["render",PF]]),oA={methods:{show(...e){return this.$refs.popper.show(...e)},hide(...e){return this.$refs.popper.hide(...e)},dispose(...e){return this.$refs.popper.dispose(...e)},onResize(...e){return this.$refs.popper.onResize(...e)}}};const IF=pn({name:"VPopperWrapper",components:{Popper:tA(),PopperContent:iA},mixins:[oA,rA("finalTheme")],inheritAttrs:!1,props:{theme:{type:String,default:null}},computed:{finalTheme(){var e;return(e=this.theme)!=null?e:this.$options.vPopperTheme},popperAttrs(){const e=go({},this.$attrs);return delete e.class,delete e.style,e}},methods:{getTargetNodes(){return Array.from(this.$refs.reference.children).filter(e=>e!==this.$refs.popperContent.$el)}}});function FF(e,t,n,r,i,o){const a=Ot("PopperContent"),l=Ot("Popper");return xe(),Wt(l,fi({ref:"popper"},e.popperAttrs,{theme:e.finalTheme,"target-nodes":e.getTargetNodes,"reference-node":()=>e.$refs.reference,"popper-node":()=>e.$refs.popperContent.$el}),{default:fn(({popperId:f,isShown:h,shouldMountContent:p,skipTransition:m,autoHide:v,show:b,hide:_,handleResize:k,onResize:C,classes:E,result:S,attrs:F})=>[le("div",fi({ref:"reference",class:"v-popper"},F,{class:[e.$attrs.class,e.themeClass,{"v-popper--shown":h}],style:e.$attrs.style}),[In(e.$slots,"default",{shown:h,show:b,hide:_}),at(a,{ref:"popperContent","popper-id":f,theme:e.finalTheme,shown:h,mounted:p,"skip-transition":m,"auto-hide":v,"handle-resize":k,classes:E,result:S,onHide:_,onResize:C},{default:fn(()=>[In(e.$slots,"popper",{shown:h,hide:_})]),_:2},1032,["popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])],16)]),_:3},16,["theme","target-nodes","reference-node","popper-node"])}var qb=Kb(IF,[["render",FF]]);const Hx=pn(bd(go({},qb),{name:"VDropdown",vPopperTheme:"dropdown"})),jx=pn(bd(go({},qb),{name:"VMenu",vPopperTheme:"menu"})),Vx=pn(bd(go({},qb),{name:"VTooltip",vPopperTheme:"tooltip"})),RF=pn({name:"VTooltipDirective",components:{Popper:tA(),PopperContent:iA},mixins:[oA],inheritAttrs:!1,props:{theme:{type:String,default:"tooltip"},html:{type:Boolean,default:e=>Iu(e.theme,"html")},content:{type:[String,Number,Function],default:null},loadingContent:{type:String,default:e=>Iu(e.theme,"loadingContent")}},data(){return{asyncContent:null}},computed:{isContentAsync(){return typeof this.content=="function"},loading(){return this.isContentAsync&&this.asyncContent==null},finalContent(){return this.isContentAsync?this.loading?this.loadingContent:this.asyncContent:this.content}},watch:{content:{handler(){this.fetchContent(!0)},immediate:!0},async finalContent(){await this.$nextTick(),this.$refs.popper.onResize()}},created(){this.$_fetchId=0},methods:{fetchContent(e){if(typeof this.content=="function"&&this.$_isShown&&(e||!this.$_loading&&this.asyncContent==null)){this.asyncContent=null,this.$_loading=!0;const t=++this.$_fetchId,n=this.content(this);n.then?n.then(r=>this.onResult(t,r)):this.onResult(t,n)}},onResult(e,t){e===this.$_fetchId&&(this.$_loading=!1,this.asyncContent=t)},onShow(){this.$_isShown=!0,this.fetchContent()},onHide(){this.$_isShown=!1}}}),BF=["innerHTML"],zF=["textContent"];function $F(e,t,n,r,i,o){const a=Ot("PopperContent"),l=Ot("Popper");return xe(),Wt(l,fi({ref:"popper"},e.$attrs,{theme:e.theme,"popper-node":()=>e.$refs.popperContent.$el,onApplyShow:e.onShow,onApplyHide:e.onHide}),{default:fn(({popperId:f,isShown:h,shouldMountContent:p,skipTransition:m,autoHide:v,hide:b,handleResize:_,onResize:k,classes:C,result:E})=>[at(a,{ref:"popperContent",class:Vt({"v-popper--tooltip-loading":e.loading}),"popper-id":f,theme:e.theme,shown:h,mounted:p,"skip-transition":m,"auto-hide":v,"handle-resize":_,classes:C,result:E,onHide:b,onResize:k},{default:fn(()=>[e.html?(xe(),Ie("div",{key:0,innerHTML:e.finalContent},null,8,BF)):(xe(),Ie("div",{key:1,textContent:Qe(e.finalContent)},null,8,zF))]),_:2},1032,["class","popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:1},16,["theme","popper-node","onApplyShow","onApplyHide"])}var HF=Kb(RF,[["render",$F]]);const sA="v-popper--has-tooltip";function jF(e,t){let n=e.placement;if(!n&&t)for(const r of eA)t[r]&&(n=r);return n||(n=Iu(e.theme||"tooltip","placement")),n}function aA(e,t,n){let r;const i=typeof t;return i==="string"?r={content:t}:t&&i==="object"?r=t:r={content:!1},r.placement=jF(r,n),r.targetNodes=()=>[e],r.referenceNode=()=>e,r}let Ov,qc,VF=0;function WF(){if(Ov)return;qc=St([]),Ov=Cb({name:"VTooltipDirectiveApp",setup(){return{directives:qc}},render(){return this.directives.map(t=>Xn(HF,bd(go({},t.options),{shown:t.shown||t.options.shown,key:t.id})))},devtools:{hide:!0}});const e=document.createElement("div");document.body.appendChild(e),Ov.mount(e)}function UF(e,t,n){WF();const r=St(aA(e,t,n)),i=St(!1),o={id:VF++,options:r,shown:i};return qc.value.push(o),e.classList&&e.classList.add(sA),e.$_popper={options:r,item:o,show(){i.value=!0},hide(){i.value=!1}}}function lA(e){if(e.$_popper){const t=qc.value.indexOf(e.$_popper.item);t!==-1&&qc.value.splice(t,1),delete e.$_popper,delete e.$_popperOldShown,delete e.$_popperMountTarget}e.classList&&e.classList.remove(sA)}function Wx(e,{value:t,modifiers:n}){const r=aA(e,t,n);if(!r.content||Iu(r.theme||"tooltip","disabled"))lA(e);else{let i;e.$_popper?(i=e.$_popper,i.options.value=r):i=UF(e,t,n),typeof t.shown!="undefined"&&t.shown!==e.$_popperOldShown&&(e.$_popperOldShown=t.shown,t.shown?i.show():i.hide())}}var KF={beforeMount:Wx,updated:Wx,beforeUnmount(e){lA(e)}};function Ux(e){e.addEventListener("click",uA),e.addEventListener("touchstart",fA,sl?{passive:!0}:!1)}function Kx(e){e.removeEventListener("click",uA),e.removeEventListener("touchstart",fA),e.removeEventListener("touchend",cA),e.removeEventListener("touchcancel",dA)}function uA(e){const t=e.currentTarget;e.closePopover=!t.$_vclosepopover_touch,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}function fA(e){if(e.changedTouches.length===1){const t=e.currentTarget;t.$_vclosepopover_touch=!0;const n=e.changedTouches[0];t.$_vclosepopover_touchPoint=n,t.addEventListener("touchend",cA),t.addEventListener("touchcancel",dA)}}function cA(e){const t=e.currentTarget;if(t.$_vclosepopover_touch=!1,e.changedTouches.length===1){const n=e.changedTouches[0],r=t.$_vclosepopover_touchPoint;e.closePopover=Math.abs(n.screenY-r.screenY)<20&&Math.abs(n.screenX-r.screenX)<20,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}}function dA(e){const t=e.currentTarget;t.$_vclosepopover_touch=!1}var qF={beforeMount(e,{value:t,modifiers:n}){e.$_closePopoverModifiers=n,(typeof t=="undefined"||t)&&Ux(e)},updated(e,{value:t,oldValue:n,modifiers:r}){e.$_closePopoverModifiers=r,t!==n&&(typeof t=="undefined"||t?Ux(e):Kx(e))},beforeUnmount(e){Kx(e)}};function GF(e,t={}){e.$_vTooltipInstalled||(e.$_vTooltipInstalled=!0,ZE(Yo,t),e.directive("tooltip",KF),e.directive("close-popper",qF),e.component("v-tooltip",Vx),e.component("VTooltip",Vx),e.component("v-dropdown",Hx),e.component("VDropdown",Hx),e.component("v-menu",jx),e.component("VMenu",jx))}const JF={version:"2.0.0-beta.16",install:GF,options:Yo};function Gb(e){return(Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function qx(e,t,n,r,i,o,a){try{var l=e[o](a),f=l.value}catch(h){return void n(h)}l.done?t(f):Promise.resolve(f).then(r,i)}function YF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gx(Object(n),!0).forEach(function(r){_u(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function el(e){return function(t){if(Array.isArray(t))return Dv(t)}(e)||function(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}(e)||function(t,n){if(!!t){if(typeof t=="string")return Dv(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dv(t,n)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Dv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var XF=function(e){return function(t,n){return el(t.querySelectorAll(n)||[])}(e,'button:not([disabled]), select:not([disabled]), a[href]:not([disabled]), area[href]:not([disabled]), [contentEditable=""]:not([disabled]), [contentEditable="true"]:not([disabled]), [contentEditable="TRUE"]:not([disabled]), textarea:not([disabled]), iframe:not([disabled]), input:not([disabled]), summary:not([disabled]), [tabindex]:not([tabindex="-1"])')},Jx=function(e){return e==document.activeElement},ZF=function(){function e(){(function(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),this.root=null,this.elements=[],this.onKeyDown=this.onKeyDown.bind(this),this.enable=this.enable.bind(this),this.disable=this.disable.bind(this),this.firstElement=this.firstElement.bind(this),this.lastElement=this.lastElement.bind(this)}var t,n;return t=e,(n=[{key:"lastElement",value:function(){return this.elements[this.elements.length-1]||null}},{key:"firstElement",value:function(){return this.elements[0]||null}},{key:"onKeyDown",value:function(r){if(function(i){return i.key==="Tab"||i.keyCode===9}(r)){if(!r.shiftKey)return!document.activeElement||Jx(this.lastElement())?(this.firstElement().focus(),void r.preventDefault()):void 0;Jx(this.firstElement())&&(this.lastElement().focus(),r.preventDefault())}}},{key:"enabled",value:function(){return!!this.root}},{key:"enable",value:function(r){r&&(this.root=r,this.elements=XF(this.root),this.root.addEventListener("keydown",this.onKeyDown))}},{key:"disable",value:function(){this.root.removeEventListener("keydown",this.onKeyDown),this.root=null}}])&&YF(t.prototype,n),e}(),Yx=function(e){var t=e.targetTouches?e.targetTouches[0]:e;return{x:t.clientX,y:t.clientY}},wh=function(e,t,n){return typeof e!="number"&&(e=Math.min(t,n)||t),typeof n!="number"&&(n=Math.max(t,e)),Math.min(Math.max(t,e),n)},Xx=function(e){return e&&Number(e.replace(/px$/,""))||0},bp={down:{pc:"mousedown",m:"touchstart"},move:{pc:"mousemove",m:"touchmove"},up:{pc:"mouseup",m:"touchend"}},kh=function(e,t,n){t&&t.addEventListener(bp[e].pc,n),t&&t.addEventListener(bp[e].m,n,{passive:!1})},xh=function(e,t,n){t&&t.removeEventListener(bp[e].pc,n),t&&t.removeEventListener(bp[e].m,n)},Jb=!1;if(typeof window!="undefined"){var Zx={get passive(){Jb=!0}};window.addEventListener("testPassive",null,Zx),window.removeEventListener("testPassive",null,Zx)}var gc,mc,hA=typeof window!="undefined"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),Ws=[],_p=!1,$h=0,Qx=-1,QF=function(e,t){var n=!1;return function(r){for(var i=[];r;){if(i.push(r),r.classList.contains("vfm"))return i;r=r.parentElement}return i}(e).forEach(function(r){(function(i){if(!i||i.nodeType!==Node.ELEMENT_NODE)return!1;var o=window.getComputedStyle(i);return["auto","scroll"].includes(o.overflowY)&&i.scrollHeight>i.clientHeight})(r)&&function(i,o){return!(i.scrollTop===0&&o<0||i.scrollTop+i.clientHeight+o>=i.scrollHeight&&o>0)}(r,t)&&(n=!0)}),n},pA=function(e){return Ws.some(function(){return QF(e,-$h)})},Z0=function(e){var t=e||window.event;return!!pA(t.target)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)},eR=function(e,t){if(e){if(!Ws.some(function(r){return r.targetElement===e})){var n={targetElement:e,options:t||{}};Ws=[].concat(el(Ws),[n]),hA?(e.ontouchstart=function(r){r.targetTouches.length===1&&(Qx=r.targetTouches[0].clientY)},e.ontouchmove=function(r){r.targetTouches.length===1&&function(i,o){$h=i.targetTouches[0].clientY-Qx,!pA(i.target)&&(o&&o.scrollTop===0&&$h>0||function(a){return!!a&&a.scrollHeight-a.scrollTop<=a.clientHeight}(o)&&$h<0?Z0(i):i.stopPropagation())}(r,e)},_p||(document.addEventListener("touchmove",Z0,Jb?{passive:!1}:void 0),_p=!0)):function(r){if(mc===void 0){var i=!!r&&r.reserveScrollBarGap===!0,o=window.innerWidth-document.documentElement.clientWidth;if(i&&o>0){var a=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);mc=document.body.style.paddingRight,document.body.style.paddingRight="".concat(a+o,"px")}}gc===void 0&&(gc=document.body.style.overflow,document.body.style.overflow="hidden")}(t)}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")},Mv=function(e){e?(Ws=Ws.filter(function(t){return t.targetElement!==e}),hA?(e.ontouchstart=null,e.ontouchmove=null,_p&&Ws.length===0&&(document.removeEventListener("touchmove",Z0,Jb?{passive:!1}:void 0),_p=!1)):Ws.length||(mc!==void 0&&(document.body.style.paddingRight=mc,mc=void 0),gc!==void 0&&(document.body.style.overflow=gc,gc=void 0))):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.")},Ch=function(){},eC="enter",tC="entering",Sh="leave",nC="leavng",tR={t:"ns-resize",tr:"nesw-resize",r:"ew-resize",br:"nwse-resize",b:"ns-resize",bl:"nesw-resize",l:"ew-resize",tl:"nwse-resize"},Hh={props:{name:{type:String,default:null},modelValue:{type:Boolean,default:!1},ssr:{type:Boolean,default:!0},classes:{type:[String,Object,Array],default:""},overlayClass:{type:[String,Object,Array],default:""},contentClass:{type:[String,Object,Array],default:""},styles:{type:[Object,Array],default:function(){return{}}},overlayStyle:{type:[Object,Array],default:function(){return{}}},contentStyle:{type:[Object,Array],default:function(){return{}}},lockScroll:{type:Boolean,default:!0},hideOverlay:{type:Boolean,default:!1},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!1},preventClick:{type:Boolean,default:!1},attach:{type:null,default:!1,validator:function(e){var t=Gb(e);return t==="boolean"||t==="string"||e.nodeType===Node.ELEMENT_NODE}},transition:{type:[String,Object],default:"vfm"},overlayTransition:{type:[String,Object],default:"vfm"},keepOverlay:{type:Boolean,default:!1},zIndexAuto:{type:Boolean,default:!0},zIndexBase:{type:[String,Number],default:1e3},zIndex:{type:[Boolean,String,Number],default:!1},focusRetain:{type:Boolean,default:!0},focusTrap:{type:Boolean,default:!1},fitParent:{type:Boolean,default:!0},drag:{type:Boolean,default:!1},dragSelector:{type:String,default:""},keepChangedStyle:{type:Boolean,default:!1},resize:{type:Boolean,default:!1},resizeDirections:{type:Array,default:function(){return["t","tr","r","br","b","bl","l","tl"]},validator:function(e){return["t","tr","r","br","b","bl","l","tl"].filter(function(t){return e.indexOf(t)!==-1}).length===e.length}},minWidth:{type:Number,default:0},minHeight:{type:Number,default:0},maxWidth:{type:Number,default:1/0},maxHeight:{type:Number,default:1/0}},emits:["update:modelValue","click-outside","before-open","opened","before-close","closed","_before-open","_opened","_closed","drag:start","drag:move","drag:end","resize:start","resize:move","resize:end"],setup:function(e,t){var n=t.emit,r=Symbol("vfm"),i=St(null),o=St(null),a=St(null),l=St(null),f=St(null),h=St(null),p=St(null),m=new ZF,v=St(!1),b=bl({modal:!1,overlay:!1,resize:!1}),_=St(null),k=St(null),C=St(!1),E=St({}),S=St({}),F=St(null),O=St(null),K=Ch,j=Ch,U=xn(function(){return typeof e.overlayTransition=="string"?{name:e.overlayTransition}:Wr({},e.overlayTransition)}),q=xn(function(){return typeof e.transition=="string"?{name:e.transition}:Wr({},e.transition)}),B=xn(function(){return(e.hideOverlay||_.value===Sh)&&k.value===Sh}),R=xn(function(){return e.zIndex===!1?!!e.zIndexAuto&&+e.zIndexBase+2*(p.value||0):e.zIndex}),V=xn(function(){return Wr({},R.value!==!1&&{zIndex:R.value})}),Z=xn(function(){var Ce=[S.value];return Array.isArray(e.contentStyle)?Ce.push.apply(Ce,el(e.contentStyle)):Ce.push(e.contentStyle),Ce});function W(){return{uid:r,props:e,emit:n,vfmContainer:o,vfmContent:a,vfmResize:l,vfmOverlayTransition:f,vfmTransition:h,getAttachElement:pe,modalStackIndex:p,visibility:b,handleLockScroll:ce,$focusTrap:m,toggle:bt,params:E}}function ie(){if(e.modelValue){if(n("_before-open",Te({type:"_before-open"})),We("before-open",!1))return void j("show");var Ce=pe();if(Ce||e.attach===!1){if(e.attach!==!1){if(!i.value)return v.value=!0,void vo(function(){ie()});Ce.appendChild(i.value)}var _e=e.api.openedModals.findIndex(function(je){return je.uid===r});_e!==-1&&e.api.openedModals.splice(_e,1),e.api.openedModals.push(W()),p.value=e.api.openedModals.length-1,ce(),e.api.openedModals.filter(function(je){return je.uid!==r}).forEach(function(je,qe){je.getAttachElement()===Ce&&(je.modalStackIndex.value=qe,!je.props.keepOverlay&&(je.visibility.overlay=!1))}),v.value=!0,b.overlay=!0,b.modal=!0}else Ce!==!1&&console.warn("Unable to locate target ".concat(e.attach))}}function L(){var Ce=e.api.openedModals.findIndex(function(je){return je.uid===r});if(Ce!==-1&&e.api.openedModals.splice(Ce,1),e.api.openedModals.length>0){var _e=e.api.openedModals[e.api.openedModals.length-1];_e.props.focusTrap&&_e.$focusTrap.firstElement().focus(),(_e.props.focusRetain||_e.props.focusTrap)&&_e.vfmContainer.value.focus(),!_e.props.hideOverlay&&(_e.visibility.overlay=!0)}e.drag&&st(),e.resize&&Re(),F.value=null,b.overlay=!1,b.modal=!1}function ce(){e.modelValue&&vo(function(){e.lockScroll?eR(o.value,{reserveScrollBarGap:!0}):Mv(o.value)})}function pe(){return e.attach!==!1&&(typeof e.attach=="string"?!!window&&window.document.querySelector(e.attach):e.attach)}function Te(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Wr({ref:W()},Ce)}function We(Ce,_e){var je=!1,qe=Te({type:Ce,stop:function(){je=!0}});return n(Ce,qe),!!je&&(C.value=!0,vo(function(){n("update:modelValue",_e)}),!0)}function nt(Ce,_e,je){F.value="".concat(_e,":").concat(je),n(F.value,Ce)}function bt(Ce,_e){var je=arguments;return new Promise(function(qe,Ve){K=function(ee){qe(ee),K=Ch},j=function(ee){Ve(ee),j=Ch};var gt=typeof Ce=="boolean"?Ce:!e.modelValue;gt&&je.length===2&&(E.value=_e),n("update:modelValue",gt)})}function Mt(Ce){Ce.stopPropagation();var _e,je="resize",qe="drag",Ve=Ce.target.getAttribute("direction");if(Ve)_e=je;else{if(!function(Q,ae,de){return de===""||el(ae.querySelectorAll(de)).includes(Q.target)}(Ce,a.value,e.dragSelector))return;_e=qe}nt(Ce,_e,"start");var gt,ee,re,fe,ge=Yx(Ce),ye=o.value.getBoundingClientRect(),H=a.value.getBoundingClientRect(),X=window.getComputedStyle(a.value).position==="absolute",A=Xx(S.value.top),I=Xx(S.value.left),D=function(){if(e.fitParent){var Q={absolute:function(){return{minTop:0,minLeft:0,maxTop:ye.height-H.height,maxLeft:ye.width-H.width}},relative:function(){return{minTop:A+ye.top-H.top,minLeft:I+ye.left-H.left,maxTop:A+ye.bottom-H.bottom,maxLeft:I+ye.right-H.right}}};return X?Q.absolute():Q.relative()}return{}}(),z=_e===je&&(gt=document.body,ee="cursor",re=tR[Ve],fe=gt.style[ee],gt.style[ee]=re,function(){gt.style[ee]=fe}),P=function(Q){Q.stopPropagation(),nt(Q,_e,"move");var ae,de,me=Yx(Q),J={x:me.x-ge.x,y:me.y-ge.y};_e===je&&(J=function(he,Le,it,oe,Fe){var De=function(ct){var Bt,zt=Le[ct.axis];zt=e.fitParent?wh(ct.min,zt,ct.max):zt;var nn=wh(ct.minEdge,ct.getEdge(zt),ct.maxEdge);return zt=ct.getOffsetAxis(nn,Fe),_u(Bt={},ct.edgeName,nn),_u(Bt,ct.axis,zt),Bt},we=function(ct,Bt,zt,nn){var on,Sn=oe[Bt],Tn=it[ct]-oe[ct],Or=(on=Bt).charAt(0).toUpperCase()+on.slice(1);return{axis:zt,edgeName:Bt,min:nn?Tn:-Sn,max:nn?Sn:Tn,minEdge:e["min".concat(Or)],maxEdge:e["max".concat(Or)],getEdge:function(Qr){return oe[Bt]-Qr*(nn?1:-1)},getOffsetAxis:function(Qr,wn){var _a=oe[Bt]-Qr;return wn?nn?_a:0:(nn?1:-1)*_a/2}}},Ue={t:["top","height","y",!0],b:["bottom","height","y",!1],l:["left","width","x",!0],r:["right","width","x",!1]},Yt={x:0,y:0};return he.split("").forEach(function(ct){var Bt=we.apply(void 0,el(Ue[ct]));Yt=Wr(Wr({},Yt),De(Bt))}),Yt}(Ve,J,ye,H,X)),X?(ae=H.top-ye.top+J.y,de=H.left-ye.left+J.x):(ae=A+J.y,de=I+J.x),_e===qe&&e.fitParent&&(ae=wh(D.minTop,ae,D.maxTop),de=wh(D.minLeft,de,D.maxLeft));var Y=Wr(Wr(Wr({position:"relative",top:ae+"px",left:de+"px",margin:"unset",touchAction:"none"},X&&{position:"absolute",transform:"unset",width:H.width+"px",height:H.height+"px"}),J.width&&{width:J.width+"px"}),J.height&&{height:J.height+"px"});S.value=Wr(Wr({},S.value),Y)};kh("move",document,P),kh("up",document,function Q(ae){ae.stopPropagation(),_e===je&&z&&z(),setTimeout(function(){nt(ae,_e,"end")}),xh("move",document,P),xh("up",document,Q)})}function pt(){kh("down",a.value,Mt),S.value.touchAction="none"}function st(){xh("down",a.value,Mt)}function Ye(){b.resize=!0,vo(function(){kh("down",l.value,Mt)})}function Re(){xh("down",l.value,Mt),b.resize=!1}return On(function(){return e.modelValue},function(Ce){if(C.value)C.value=!1;else if(ie(),!Ce){if(We("before-close",!0))return void j("hide");L()}}),On(function(){return e.lockScroll},ce),On(function(){return e.hideOverlay},function(Ce){e.modelValue&&!Ce&&(b.overlay=!0)}),On(function(){return e.attach},ie),On(B,function(Ce){Ce&&(v.value=!1,o.value.style.display="none")},{flush:"post"}),On(function(){return e.drag},function(Ce){v.value&&(Ce?pt():st())}),On(function(){return e.resize},function(Ce){v.value&&(Ce?Ye():Re())}),On(function(){return e.keepChangedStyle},function(Ce){Ce||(S.value={})}),e.api.modals.push(W()),to(function(){ie()}),cs(function(){var Ce;L(),e.lockScroll&&o.value&&Mv(o.value),i==null||(Ce=i.value)===null||Ce===void 0||Ce.remove();var _e=e.api.modals.findIndex(function(je){return je.uid===r});e.api.modals.splice(_e,1)}),{root:i,vfmContainer:o,vfmContent:a,vfmResize:l,vfmOverlayTransition:f,vfmTransition:h,computedOverlayTransition:U,computedTransition:q,visible:v,visibility:b,params:E,calculateZIndex:R,bindStyle:V,bindContentStyle:Z,beforeOverlayEnter:function(){_.value=tC},afterOverlayEnter:function(){_.value=eC},beforeOverlayLeave:function(){_.value=nC},afterOverlayLeave:function(){_.value=Sh},beforeModalEnter:function(){k.value=tC},afterModalEnter:function(){k.value=eC,(e.focusRetain||e.focusTrap)&&o.value.focus(),e.focusTrap&&m.enable(o.value),e.drag&&pt(),e.resize&&Ye(),n("_opened"),n("opened",Te({type:"opened"})),K("show")},beforeModalLeave:function(){k.value=nC,m.enabled()&&m.disable()},afterModalLeave:function(){k.value=Sh,p.value=null,e.lockScroll&&Mv(o.value),e.keepChangedStyle||(S.value={});var Ce=!1,_e=Te({type:"closed",stop:function(){Ce=!0}});n("_closed"),n("closed",_e),K("hide"),Ce||(E.value={})},onMousedown:function(Ce){O.value=Ce==null?void 0:Ce.target},onMouseupContainer:function(){O.value===o.value&&F.value!=="resize:move"&&(n("click-outside",Te({type:"click-outside"})),e.clickToClose&&n("update:modelValue",!1))},onEsc:function(){v.value&&e.escToClose&&n("update:modelValue",!1)}}}},Nv=fb("data-v-2836fdb5");lb("data-v-2836fdb5");var nR={key:0,ref:"vfmResize",class:"vfm__resize vfm--absolute vfm--inset vfm--prevent-none vfm--select-none vfm--touch-none"};ub();var rR=Nv(function(e,t,n,r,i,o){return n.ssr||r.visible?Rn((xe(),Wt("div",{key:0,ref:"root",style:r.bindStyle,class:["vfm vfm--inset",[n.attach===!1?"vfm--fixed":"vfm--absolute",{"vfm--prevent-none":n.preventClick}]],onKeydown:t[4]||(t[4]=xb(function(){return r.onEsc&&r.onEsc.apply(r,arguments)},["esc"]))},[at(zc,fi(r.computedOverlayTransition,{onBeforeEnter:r.beforeOverlayEnter,onAfterEnter:r.afterOverlayEnter,onBeforeLeave:r.beforeOverlayLeave,onAfterLeave:r.afterOverlayLeave}),{default:Nv(function(){return[!n.hideOverlay&&r.visibility.overlay?(xe(),Wt("div",{key:0,class:["vfm__overlay vfm--overlay vfm--absolute vfm--inset",n.overlayClass],style:n.overlayStyle},null,6)):Pt("v-if",!0)]}),_:1},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"]),at(zc,fi(r.computedTransition,{onBeforeEnter:r.beforeModalEnter,onAfterEnter:r.afterModalEnter,onBeforeLeave:r.beforeModalLeave,onAfterLeave:r.afterModalLeave}),{default:Nv(function(){return[Rn(at("div",{ref:"vfmContainer",class:["vfm__container vfm--absolute vfm--inset vfm--outline-none",n.classes],style:n.styles,"aria-expanded":r.visibility.modal.toString(),role:"dialog","aria-modal":"true",tabindex:"-1",onMouseup:t[2]||(t[2]=Dt(function(){return r.onMouseupContainer&&r.onMouseupContainer.apply(r,arguments)},["self"])),onMousedown:t[3]||(t[3]=Dt(function(){return r.onMousedown&&r.onMousedown.apply(r,arguments)},["self"]))},[at("div",{ref:"vfmContent",class:["vfm__content",[n.contentClass,{"vfm--prevent-auto":n.preventClick}]],style:r.bindContentStyle,onMousedown:t[1]||(t[1]=function(a){return r.onMousedown(null)})},[In(e.$slots,"default",{params:r.params,close:function(){return e.$emit("update:modelValue",!1)}}),r.visibility.resize&&r.visibility.modal?(xe(),Wt("div",nR,[(xe(!0),Wt(Tt,null,Dn(n.resizeDirections,function(a){return xe(),Wt("div",{key:a,direction:a,class:["vfm--resize-".concat(a),"vfm--absolute vfm--prevent-auto"]},null,10,["direction"])}),128))],512)):Pt("v-if",!0)],38)],46,["aria-expanded"]),[[$c,r.visibility.modal]])]}),_:3},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],38)),[[$c,!n.ssr||r.visible]]):Pt("v-if",!0)});(function(e,t){t===void 0&&(t={});var n=t.insertAt;if(e&&typeof document!="undefined"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}})(`
.vfm--fixed[data-v-2836fdb5] {
  position: fixed;
}
.vfm--absolute[data-v-2836fdb5] {
  position: absolute;
}
.vfm--inset[data-v-2836fdb5] {
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.vfm--overlay[data-v-2836fdb5] {
  background-color: rgba(0, 0, 0, 0.5);
}
.vfm--prevent-none[data-v-2836fdb5] {
  pointer-events: none;
}
.vfm--prevent-auto[data-v-2836fdb5] {
  pointer-events: auto;
}
.vfm--outline-none[data-v-2836fdb5]:focus {
  outline: none;
}
.vfm-enter-active[data-v-2836fdb5],
.vfm-leave-active[data-v-2836fdb5] {
  transition: opacity 0.2s;
}
.vfm-enter-from[data-v-2836fdb5],
.vfm-leave-to[data-v-2836fdb5] {
  opacity: 0;
}
.vfm--touch-none[data-v-2836fdb5] {
  touch-action: none;
}
.vfm--select-none[data-v-2836fdb5] {
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}
.vfm--resize-tr[data-v-2836fdb5],
.vfm--resize-br[data-v-2836fdb5],
.vfm--resize-bl[data-v-2836fdb5],
.vfm--resize-tl[data-v-2836fdb5] {
  width: 12px;
  height: 12px;
  z-index: 10;
}
.vfm--resize-t[data-v-2836fdb5] {
  top: -6px;
  left: 0;
  width: 100%;
  height: 12px;
  cursor: ns-resize;
}
.vfm--resize-tr[data-v-2836fdb5] {
  top: -6px;
  right: -6px;
  cursor: nesw-resize;
}
.vfm--resize-r[data-v-2836fdb5] {
  top: 0;
  right: -6px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
}
.vfm--resize-br[data-v-2836fdb5] {
  bottom: -6px;
  right: -6px;
  cursor: nwse-resize;
}
.vfm--resize-b[data-v-2836fdb5] {
  bottom: -6px;
  left: 0;
  width: 100%;
  height: 12px;
  cursor: ns-resize;
}
.vfm--resize-bl[data-v-2836fdb5] {
  bottom: -6px;
  left: -6px;
  cursor: nesw-resize;
}
.vfm--resize-l[data-v-2836fdb5] {
  top: 0;
  left: -6px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
}
.vfm--resize-tl[data-v-2836fdb5] {
  top: -6px;
  left: -6px;
  cursor: nwse-resize;
}
`),Hh.render=rR,Hh.__scopeId="data-v-2836fdb5",Hh.__file="lib/VueFinalModal.vue";var Q0={props:{},methods:{slice:function(e){this.api.dynamicModals.splice(e,1)},beforeOpen:function(e,t,n){var r,i=this;return(r=function*(){e.ref.params.value=t.params,yield i.$nextTick(),yield i.$nextTick(),t.value||(i.slice(n),t.reject("show"))},function(){var o=this,a=arguments;return new Promise(function(l,f){var h=r.apply(o,a);function p(v){qx(h,l,f,p,m,"next",v)}function m(v){qx(h,l,f,p,m,"throw",v)}p(void 0)})})()},isString:function(e){return typeof e=="string"}}},iR={class:"modals-container"};function rC(e,t){var n=Wr(Wr({},e),{},{props:Wr({},e.props)});return Object.assign(n.props,{api:{type:Object,default:function(){return t}}}),n}Q0.render=function(e,t,n,r,i,o){return xe(),Wt("div",iR,[(xe(!0),Wt(Tt,null,Dn(e.api.dynamicModals,function(a,l){return xe(),Wt(Xs(a.component),fi({key:a.id},a.bind,{modelValue:a.value,"onUpdate:modelValue":function(f){return a.value=f}},O0(a.on),{on_closed:function(f){return o.slice(l)},on_beforeOpen:function(f){return o.beforeOpen(f,a)},on_opened:a.opened}),_b({_:2},[Dn(a.slots,function(f,h){return{name:h,fn:fn(function(){return[Pt(" eslint-disable vue/no-v-html "),o.isString(f)?(xe(),Wt("div",{key:0,innerHTML:f},null,8,["innerHTML"])):(xe(),Wt(Xs(f.component),fi({key:1},f.bind,O0(f.on||{})),null,16))]})}})]),1040,["modelValue","onUpdate:modelValue","on_closed","on_beforeOpen","on_opened"])}),128))])},Q0.__file="lib/ModalsContainer.vue";var iC=0,gA=function(){var e,t,n=(t=null,{show:function(r){for(var i=this,o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];switch(Gb(r)){case"string":return this.toggle.apply(this,[r,!0].concat(a));case"object":return Promise.allSettled([new Promise(function(f,h){var p={value:!0,id:Symbol("dynamicModal"),component:t,bind:{},slots:{},on:{},params:a[0],reject:h,opened:function(){f("show")}};i.dynamicModals.push(Yh(Object.assign(p,r)))})])}},hide:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return this.toggle(i,!1)},hideAll:function(){return this.hide.apply(this,el(this.openedModals.map(function(r){return r.props.name})))},toggle:function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var l=Array.isArray(r)?this.get.apply(this,el(r)):this.get(r);return Promise.allSettled(l.map(function(f){return f.toggle.apply(f,o)}))},get:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return this.modals.filter(function(a){return i.includes(a.props.name)})},dynamicModals:Yh([]),openedModals:[],modals:[],_setDefaultModal:function(r){t=r}});return _u(e={},"$vfm",n),_u(e,"VueFinalModal",function(r){var i=rC(Hh,r);return r._setDefaultModal(i),i}(n)),_u(e,"ModalsContainer",function(r){return rC(Q0,r)}(n)),e},Hg=gA();Hg.$vfm;Hg.VueFinalModal;Hg.ModalsContainer;var mA=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=iC===0?Hg:gA(),r=n.$vfm,i=n.VueFinalModal,o=n.ModalsContainer;iC+=1;var a=t.key||"$vfm",l=t.componentName||"VueFinalModal",f=t.dynamicContainerName||"ModalsContainer";Object.defineProperty(e.config.globalProperties,a,{get:function(){return r}}),e.provide(a,r),e.component(l,i),e.component(f,o)},vA=function(e){return{install:function(t,n){var r=Object.assign({},e,n);mA(t,r)}}};vA.install=mA;const oC={$idFactory(e){return function(n=""){return`${this[e]}-${n}`}},$idRef(e){return`#${this.$id(e)}`}},sC={uidProperty:"uid",uidPrefix:"uid-"};function oR(e,t={}){const n=t.uidProperty||sC.uidProperty,r=t.uidPrefix||sC.uidPrefix;let i=0;e.mixin({beforeCreate(){i+=1;const a=r+i;Object.defineProperties(this,{[n]:{get(){return a}}})}});const o=e.version.slice(0,2)==="3."?e.config.globalProperties:e.prototype;o.$id=oC.$idFactory(n),o.$idRef=oC.$idRef}const yA=e=>{const t=Cb(ve({delimiters:["${","}"]},e));return t.config.unwrapInjectedRef=!0,t.use(vA),t.use(oR),t.use(JF,{themes:{"vui-tooltip":{$extend:"tooltip",delay:{show:0,hide:0}}}}),t.config.globalProperties.t=Craft.t,t.config.globalProperties.clone=function(n){if(n!==void 0)return JSON.parse(JSON.stringify(n))},t.config.globalProperties.$events=II(),t.config.globalProperties.$isDebug=!1,t};var sR=typeof global=="object"&&global&&global.Object===Object&&global,bA=sR,aR=typeof self=="object"&&self&&self.Object===Object&&self,lR=bA||aR||Function("return this")(),Ao=lR,uR=Ao.Symbol,na=uR,_A=Object.prototype,fR=_A.hasOwnProperty,cR=_A.toString,$f=na?na.toStringTag:void 0;function dR(e){var t=fR.call(e,$f),n=e[$f];try{e[$f]=void 0;var r=!0}catch{}var i=cR.call(e);return r&&(t?e[$f]=n:delete e[$f]),i}var hR=Object.prototype,pR=hR.toString;function gR(e){return pR.call(e)}var mR="[object Null]",vR="[object Undefined]",aC=na?na.toStringTag:void 0;function wl(e){return e==null?e===void 0?vR:mR:aC&&aC in Object(e)?dR(e):gR(e)}function al(e){return e!=null&&typeof e=="object"}var yR="[object Symbol]";function jg(e){return typeof e=="symbol"||al(e)&&wl(e)==yR}function bR(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var _R=Array.isArray,Zi=_R,wR=1/0,lC=na?na.prototype:void 0,uC=lC?lC.toString:void 0;function wA(e){if(typeof e=="string")return e;if(Zi(e))return bR(e,wA)+"";if(jg(e))return uC?uC.call(e):"";var t=e+"";return t=="0"&&1/e==-wR?"-0":t}var kR=/\s/;function xR(e){for(var t=e.length;t--&&kR.test(e.charAt(t)););return t}var CR=/^\s+/;function SR(e){return e&&e.slice(0,xR(e)+1).replace(CR,"")}function Fu(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var fC=0/0,TR=/^[-+]0x[0-9a-f]+$/i,ER=/^0b[01]+$/i,AR=/^0o[0-7]+$/i,OR=parseInt;function ey(e){if(typeof e=="number")return e;if(jg(e))return fC;if(Fu(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Fu(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=SR(e);var n=ER.test(e);return n||AR.test(e)?OR(e.slice(2),n?2:8):TR.test(e)?fC:+e}var cC=1/0,DR=17976931348623157e292;function MR(e){if(!e)return e===0?e:0;if(e=ey(e),e===cC||e===-cC){var t=e<0?-1:1;return t*DR}return e===e?e:0}function NR(e){var t=MR(e),n=t%1;return t===t?n?t-n:t:0}function LR(e){return e}var PR="[object AsyncFunction]",IR="[object Function]",FR="[object GeneratorFunction]",RR="[object Proxy]";function kA(e){if(!Fu(e))return!1;var t=wl(e);return t==IR||t==FR||t==PR||t==RR}var BR=Ao["__core-js_shared__"],Lv=BR,dC=function(){var e=/[^.]+$/.exec(Lv&&Lv.keys&&Lv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function zR(e){return!!dC&&dC in e}var $R=Function.prototype,HR=$R.toString;function kl(e){if(e!=null){try{return HR.call(e)}catch{}try{return e+""}catch{}}return""}var jR=/[\\^$.*+?()[\]{}|]/g,VR=/^\[object .+?Constructor\]$/,WR=Function.prototype,UR=Object.prototype,KR=WR.toString,qR=UR.hasOwnProperty,GR=RegExp("^"+KR.call(qR).replace(jR,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function JR(e){if(!Fu(e)||zR(e))return!1;var t=kA(e)?GR:VR;return t.test(kl(e))}function YR(e,t){return e==null?void 0:e[t]}function Gu(e,t){var n=YR(e,t);return JR(n)?n:void 0}var XR=Gu(Ao,"WeakMap"),ty=XR;function ZR(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var QR=9007199254740991,e5=/^(?:0|[1-9]\d*)$/;function xA(e,t){var n=typeof e;return t=t==null?QR:t,!!t&&(n=="number"||n!="symbol"&&e5.test(e))&&e>-1&&e%1==0&&e<t}function CA(e,t){return e===t||e!==e&&t!==t}var t5=9007199254740991;function Yb(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=t5}function Vg(e){return e!=null&&Yb(e.length)&&!kA(e)}var n5=Object.prototype;function SA(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||n5;return e===n}function r5(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var i5="[object Arguments]";function hC(e){return al(e)&&wl(e)==i5}var TA=Object.prototype,o5=TA.hasOwnProperty,s5=TA.propertyIsEnumerable,a5=hC(function(){return arguments}())?hC:function(e){return al(e)&&o5.call(e,"callee")&&!s5.call(e,"callee")},Xb=a5;function l5(){return!1}var EA=typeof qo=="object"&&qo&&!qo.nodeType&&qo,pC=EA&&typeof Go=="object"&&Go&&!Go.nodeType&&Go,u5=pC&&pC.exports===EA,gC=u5?Ao.Buffer:void 0,f5=gC?gC.isBuffer:void 0,c5=f5||l5,wp=c5,d5="[object Arguments]",h5="[object Array]",p5="[object Boolean]",g5="[object Date]",m5="[object Error]",v5="[object Function]",y5="[object Map]",b5="[object Number]",_5="[object Object]",w5="[object RegExp]",k5="[object Set]",x5="[object String]",C5="[object WeakMap]",S5="[object ArrayBuffer]",T5="[object DataView]",E5="[object Float32Array]",A5="[object Float64Array]",O5="[object Int8Array]",D5="[object Int16Array]",M5="[object Int32Array]",N5="[object Uint8Array]",L5="[object Uint8ClampedArray]",P5="[object Uint16Array]",I5="[object Uint32Array]",un={};un[E5]=un[A5]=un[O5]=un[D5]=un[M5]=un[N5]=un[L5]=un[P5]=un[I5]=!0;un[d5]=un[h5]=un[S5]=un[p5]=un[T5]=un[g5]=un[m5]=un[v5]=un[y5]=un[b5]=un[_5]=un[w5]=un[k5]=un[x5]=un[C5]=!1;function F5(e){return al(e)&&Yb(e.length)&&!!un[wl(e)]}function R5(e){return function(t){return e(t)}}var AA=typeof qo=="object"&&qo&&!qo.nodeType&&qo,vc=AA&&typeof Go=="object"&&Go&&!Go.nodeType&&Go,B5=vc&&vc.exports===AA,Pv=B5&&bA.process,z5=function(){try{var e=vc&&vc.require&&vc.require("util").types;return e||Pv&&Pv.binding&&Pv.binding("util")}catch{}}(),mC=z5,vC=mC&&mC.isTypedArray,$5=vC?R5(vC):F5,Zb=$5,H5=Object.prototype,j5=H5.hasOwnProperty;function V5(e,t){var n=Zi(e),r=!n&&Xb(e),i=!n&&!r&&wp(e),o=!n&&!r&&!i&&Zb(e),a=n||r||i||o,l=a?r5(e.length,String):[],f=l.length;for(var h in e)(t||j5.call(e,h))&&!(a&&(h=="length"||i&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||xA(h,f)))&&l.push(h);return l}function W5(e,t){return function(n){return e(t(n))}}var U5=W5(Object.keys,Object),K5=U5,q5=Object.prototype,G5=q5.hasOwnProperty;function Qb(e){if(!SA(e))return K5(e);var t=[];for(var n in Object(e))G5.call(e,n)&&n!="constructor"&&t.push(n);return t}function e_(e){return Vg(e)?V5(e):Qb(e)}var J5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y5=/^\w*$/;function t_(e,t){if(Zi(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||jg(e)?!0:Y5.test(e)||!J5.test(e)||t!=null&&e in Object(t)}var X5=Gu(Object,"create"),Gc=X5;function Z5(){this.__data__=Gc?Gc(null):{},this.size=0}function Q5(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var eB="__lodash_hash_undefined__",tB=Object.prototype,nB=tB.hasOwnProperty;function rB(e){var t=this.__data__;if(Gc){var n=t[e];return n===eB?void 0:n}return nB.call(t,e)?t[e]:void 0}var iB=Object.prototype,oB=iB.hasOwnProperty;function sB(e){var t=this.__data__;return Gc?t[e]!==void 0:oB.call(t,e)}var aB="__lodash_hash_undefined__";function lB(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Gc&&t===void 0?aB:t,this}function ll(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ll.prototype.clear=Z5;ll.prototype.delete=Q5;ll.prototype.get=rB;ll.prototype.has=sB;ll.prototype.set=lB;function uB(){this.__data__=[],this.size=0}function Wg(e,t){for(var n=e.length;n--;)if(CA(e[n][0],t))return n;return-1}var fB=Array.prototype,cB=fB.splice;function dB(e){var t=this.__data__,n=Wg(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():cB.call(t,n,1),--this.size,!0}function hB(e){var t=this.__data__,n=Wg(t,e);return n<0?void 0:t[n][1]}function pB(e){return Wg(this.__data__,e)>-1}function gB(e,t){var n=this.__data__,r=Wg(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function ps(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ps.prototype.clear=uB;ps.prototype.delete=dB;ps.prototype.get=hB;ps.prototype.has=pB;ps.prototype.set=gB;var mB=Gu(Ao,"Map"),Jc=mB;function vB(){this.size=0,this.__data__={hash:new ll,map:new(Jc||ps),string:new ll}}function yB(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ug(e,t){var n=e.__data__;return yB(t)?n[typeof t=="string"?"string":"hash"]:n.map}function bB(e){var t=Ug(this,e).delete(e);return this.size-=t?1:0,t}function _B(e){return Ug(this,e).get(e)}function wB(e){return Ug(this,e).has(e)}function kB(e,t){var n=Ug(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function gs(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}gs.prototype.clear=vB;gs.prototype.delete=bB;gs.prototype.get=_B;gs.prototype.has=wB;gs.prototype.set=kB;var xB="Expected a function";function n_(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(xB);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(n_.Cache||gs),n}n_.Cache=gs;var CB=500;function SB(e){var t=n_(e,function(r){return n.size===CB&&n.clear(),r}),n=t.cache;return t}var TB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,EB=/\\(\\)?/g,AB=SB(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(TB,function(n,r,i,o){t.push(i?o.replace(EB,"$1"):r||n)}),t}),OB=AB;function DB(e){return e==null?"":wA(e)}function OA(e,t){return Zi(e)?e:t_(e,t)?[e]:OB(DB(e))}var MB=1/0;function Kg(e){if(typeof e=="string"||jg(e))return e;var t=e+"";return t=="0"&&1/e==-MB?"-0":t}function DA(e,t){t=OA(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Kg(t[n++])];return n&&n==r?e:void 0}function NB(e,t,n){var r=e==null?void 0:DA(e,t);return r===void 0?n:r}function LB(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var PB="\\ud800-\\udfff",IB="\\u0300-\\u036f",FB="\\ufe20-\\ufe2f",RB="\\u20d0-\\u20ff",BB=IB+FB+RB,zB="\\ufe0e\\ufe0f",$B="\\u200d",HB=RegExp("["+$B+PB+BB+zB+"]");function jB(e){return HB.test(e)}function VB(){this.__data__=new ps,this.size=0}function WB(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function UB(e){return this.__data__.get(e)}function KB(e){return this.__data__.has(e)}var qB=200;function GB(e,t){var n=this.__data__;if(n instanceof ps){var r=n.__data__;if(!Jc||r.length<qB-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new gs(r)}return n.set(e,t),this.size=n.size,this}function Xo(e){var t=this.__data__=new ps(e);this.size=t.size}Xo.prototype.clear=VB;Xo.prototype.delete=WB;Xo.prototype.get=UB;Xo.prototype.has=KB;Xo.prototype.set=GB;function JB(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function YB(){return[]}var XB=Object.prototype,ZB=XB.propertyIsEnumerable,yC=Object.getOwnPropertySymbols,QB=yC?function(e){return e==null?[]:(e=Object(e),JB(yC(e),function(t){return ZB.call(e,t)}))}:YB,ez=QB;function tz(e,t,n){var r=t(e);return Zi(e)?r:LB(r,n(e))}function bC(e){return tz(e,e_,ez)}var nz=Gu(Ao,"DataView"),ny=nz,rz=Gu(Ao,"Promise"),ry=rz,iz=Gu(Ao,"Set"),iy=iz,_C="[object Map]",oz="[object Object]",wC="[object Promise]",kC="[object Set]",xC="[object WeakMap]",CC="[object DataView]",sz=kl(ny),az=kl(Jc),lz=kl(ry),uz=kl(iy),fz=kl(ty),$a=wl;(ny&&$a(new ny(new ArrayBuffer(1)))!=CC||Jc&&$a(new Jc)!=_C||ry&&$a(ry.resolve())!=wC||iy&&$a(new iy)!=kC||ty&&$a(new ty)!=xC)&&($a=function(e){var t=wl(e),n=t==oz?e.constructor:void 0,r=n?kl(n):"";if(r)switch(r){case sz:return CC;case az:return _C;case lz:return wC;case uz:return kC;case fz:return xC}return t});var kp=$a,cz=Ao.Uint8Array,SC=cz,dz="__lodash_hash_undefined__";function hz(e){return this.__data__.set(e,dz),this}function pz(e){return this.__data__.has(e)}function xp(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new gs;++t<n;)this.add(e[t])}xp.prototype.add=xp.prototype.push=hz;xp.prototype.has=pz;function gz(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function mz(e,t){return e.has(t)}var vz=1,yz=2;function MA(e,t,n,r,i,o){var a=n&vz,l=e.length,f=t.length;if(l!=f&&!(a&&f>l))return!1;var h=o.get(e),p=o.get(t);if(h&&p)return h==t&&p==e;var m=-1,v=!0,b=n&yz?new xp:void 0;for(o.set(e,t),o.set(t,e);++m<l;){var _=e[m],k=t[m];if(r)var C=a?r(k,_,m,t,e,o):r(_,k,m,e,t,o);if(C!==void 0){if(C)continue;v=!1;break}if(b){if(!gz(t,function(E,S){if(!mz(b,S)&&(_===E||i(_,E,n,r,o)))return b.push(S)})){v=!1;break}}else if(!(_===k||i(_,k,n,r,o))){v=!1;break}}return o.delete(e),o.delete(t),v}function bz(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function _z(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var wz=1,kz=2,xz="[object Boolean]",Cz="[object Date]",Sz="[object Error]",Tz="[object Map]",Ez="[object Number]",Az="[object RegExp]",Oz="[object Set]",Dz="[object String]",Mz="[object Symbol]",Nz="[object ArrayBuffer]",Lz="[object DataView]",TC=na?na.prototype:void 0,Iv=TC?TC.valueOf:void 0;function Pz(e,t,n,r,i,o,a){switch(n){case Lz:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Nz:return!(e.byteLength!=t.byteLength||!o(new SC(e),new SC(t)));case xz:case Cz:case Ez:return CA(+e,+t);case Sz:return e.name==t.name&&e.message==t.message;case Az:case Dz:return e==t+"";case Tz:var l=bz;case Oz:var f=r&wz;if(l||(l=_z),e.size!=t.size&&!f)return!1;var h=a.get(e);if(h)return h==t;r|=kz,a.set(e,t);var p=MA(l(e),l(t),r,i,o,a);return a.delete(e),p;case Mz:if(Iv)return Iv.call(e)==Iv.call(t)}return!1}var Iz=1,Fz=Object.prototype,Rz=Fz.hasOwnProperty;function Bz(e,t,n,r,i,o){var a=n&Iz,l=bC(e),f=l.length,h=bC(t),p=h.length;if(f!=p&&!a)return!1;for(var m=f;m--;){var v=l[m];if(!(a?v in t:Rz.call(t,v)))return!1}var b=o.get(e),_=o.get(t);if(b&&_)return b==t&&_==e;var k=!0;o.set(e,t),o.set(t,e);for(var C=a;++m<f;){v=l[m];var E=e[v],S=t[v];if(r)var F=a?r(S,E,v,t,e,o):r(E,S,v,e,t,o);if(!(F===void 0?E===S||i(E,S,n,r,o):F)){k=!1;break}C||(C=v=="constructor")}if(k&&!C){var O=e.constructor,K=t.constructor;O!=K&&"constructor"in e&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof K=="function"&&K instanceof K)&&(k=!1)}return o.delete(e),o.delete(t),k}var zz=1,EC="[object Arguments]",AC="[object Array]",Th="[object Object]",$z=Object.prototype,OC=$z.hasOwnProperty;function Hz(e,t,n,r,i,o){var a=Zi(e),l=Zi(t),f=a?AC:kp(e),h=l?AC:kp(t);f=f==EC?Th:f,h=h==EC?Th:h;var p=f==Th,m=h==Th,v=f==h;if(v&&wp(e)){if(!wp(t))return!1;a=!0,p=!1}if(v&&!p)return o||(o=new Xo),a||Zb(e)?MA(e,t,n,r,i,o):Pz(e,t,f,n,r,i,o);if(!(n&zz)){var b=p&&OC.call(e,"__wrapped__"),_=m&&OC.call(t,"__wrapped__");if(b||_){var k=b?e.value():e,C=_?t.value():t;return o||(o=new Xo),i(k,C,n,r,o)}}return v?(o||(o=new Xo),Bz(e,t,n,r,i,o)):!1}function r_(e,t,n,r,i){return e===t?!0:e==null||t==null||!al(e)&&!al(t)?e!==e&&t!==t:Hz(e,t,n,r,r_,i)}var jz=1,Vz=2;function Wz(e,t,n,r){var i=n.length,o=i,a=!r;if(e==null)return!o;for(e=Object(e);i--;){var l=n[i];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<o;){l=n[i];var f=l[0],h=e[f],p=l[1];if(a&&l[2]){if(h===void 0&&!(f in e))return!1}else{var m=new Xo;if(r)var v=r(h,p,f,e,t,m);if(!(v===void 0?r_(p,h,jz|Vz,r,m):v))return!1}}return!0}function NA(e){return e===e&&!Fu(e)}function Uz(e){for(var t=e_(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,NA(i)]}return t}function LA(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Kz(e){var t=Uz(e);return t.length==1&&t[0][2]?LA(t[0][0],t[0][1]):function(n){return n===e||Wz(n,e,t)}}function qz(e,t){return e!=null&&t in Object(e)}function Gz(e,t,n){t=OA(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var a=Kg(t[r]);if(!(o=e!=null&&n(e,a)))break;e=e[a]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&Yb(i)&&xA(a,i)&&(Zi(e)||Xb(e)))}function Jz(e,t){return e!=null&&Gz(e,t,qz)}var Yz=1,Xz=2;function Zz(e,t){return t_(e)&&NA(t)?LA(Kg(e),t):function(n){var r=NB(n,e);return r===void 0&&r===t?Jz(n,e):r_(t,r,Yz|Xz)}}function PA(e){return function(t){return t==null?void 0:t[e]}}function Qz(e){return function(t){return DA(t,e)}}function e7(e){return t_(e)?PA(Kg(e)):Qz(e)}function IA(e){return typeof e=="function"?e:e==null?LR:typeof e=="object"?Zi(e)?Zz(e[0],e[1]):Kz(e):e7(e)}var t7=function(){return Ao.Date.now()},Fv=t7,n7="Expected a function",r7=Math.max,i7=Math.min;function FA(e,t,n){var r,i,o,a,l,f,h=0,p=!1,m=!1,v=!0;if(typeof e!="function")throw new TypeError(n7);t=ey(t)||0,Fu(n)&&(p=!!n.leading,m="maxWait"in n,o=m?r7(ey(n.maxWait)||0,t):o,v="trailing"in n?!!n.trailing:v);function b(j){var U=r,q=i;return r=i=void 0,h=j,a=e.apply(q,U),a}function _(j){return h=j,l=setTimeout(E,t),p?b(j):a}function k(j){var U=j-f,q=j-h,B=t-U;return m?i7(B,o-q):B}function C(j){var U=j-f,q=j-h;return f===void 0||U>=t||U<0||m&&q>=o}function E(){var j=Fv();if(C(j))return S(j);l=setTimeout(E,k(j))}function S(j){return l=void 0,v&&r?b(j):(r=i=void 0,a)}function F(){l!==void 0&&clearTimeout(l),h=0,r=f=i=l=void 0}function O(){return l===void 0?a:S(Fv())}function K(){var j=Fv(),U=C(j);if(r=arguments,i=this,f=j,U){if(l===void 0)return _(f);if(m)return clearTimeout(l),l=setTimeout(E,t),b(f)}return l===void 0&&(l=setTimeout(E,t)),a}return K.cancel=F,K.flush=O,K}function o7(e){return function(t,n,r){var i=Object(t);if(!Vg(t)){var o=IA(n);t=e_(t),n=function(l){return o(i[l],l,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}var s7=Math.max;function a7(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:NR(n);return i<0&&(i=s7(r+i,0)),ZR(e,IA(t),i)}var l7=o7(a7),RA=l7,u7="[object String]";function f7(e){return typeof e=="string"||!Zi(e)&&al(e)&&wl(e)==u7}var c7="[object Map]",d7="[object Set]",h7=Object.prototype,p7=h7.hasOwnProperty;function Xf(e){if(e==null)return!0;if(Vg(e)&&(Zi(e)||typeof e=="string"||typeof e.splice=="function"||wp(e)||Zb(e)||Xb(e)))return!e.length;var t=kp(e);if(t==c7||t==d7)return!e.size;if(SA(e))return!Qb(e).length;for(var n in e)if(p7.call(e,n))return!1;return!0}var g7=PA("length"),m7=g7,BA="\\ud800-\\udfff",v7="\\u0300-\\u036f",y7="\\ufe20-\\ufe2f",b7="\\u20d0-\\u20ff",_7=v7+y7+b7,w7="\\ufe0e\\ufe0f",k7="["+BA+"]",oy="["+_7+"]",sy="\\ud83c[\\udffb-\\udfff]",x7="(?:"+oy+"|"+sy+")",zA="[^"+BA+"]",$A="(?:\\ud83c[\\udde6-\\uddff]){2}",HA="[\\ud800-\\udbff][\\udc00-\\udfff]",C7="\\u200d",jA=x7+"?",VA="["+w7+"]?",S7="(?:"+C7+"(?:"+[zA,$A,HA].join("|")+")"+VA+jA+")*",T7=VA+jA+S7,E7="(?:"+[zA+oy+"?",oy,$A,HA,k7].join("|")+")",DC=RegExp(sy+"(?="+sy+")|"+E7+T7,"g");function A7(e){for(var t=DC.lastIndex=0;DC.test(e);)++t;return t}function O7(e){return jB(e)?A7(e):m7(e)}var D7="[object Map]",M7="[object Set]";function N7(e){if(e==null)return 0;if(Vg(e))return f7(e)?O7(e):e.length;var t=kp(e);return t==D7||t==M7?e.size:Qb(e).length}function gr(e){this.content=e}gr.prototype={constructor:gr,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),o=r.content.slice();return i==-1?o.push(n||e,t):(o[i+1]=t,n&&(o[i]=n)),new gr(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new gr(n)},addToStart:function(e,t){return new gr([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new gr(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),o=r.find(e);return i.splice(o==-1?i.length:o,0,t,n),new gr(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=gr.from(e),e.size?new gr(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=gr.from(e),e.size?new gr(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=gr.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}};gr.from=function(e){if(e instanceof gr)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new gr(t)};var MC=gr;function WA(e,t,n){for(var r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;var i=e.child(r),o=t.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(var a=0;i.text[a]==o.text[a];a++)n++;return n}if(i.content.size||o.content.size){var l=WA(i.content,o.content,n+1);if(l!=null)return l}n+=i.nodeSize}}function UA(e,t,n,r){for(var i=e.childCount,o=t.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};var a=e.child(--i),l=t.child(--o),f=a.nodeSize;if(a==l){n-=f,r-=f;continue}if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){for(var h=0,p=Math.min(a.text.length,l.text.length);h<p&&a.text[a.text.length-h-1]==l.text[l.text.length-h-1];)h++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){var m=UA(a.content,l.content,n-1,r-1);if(m)return m}n-=f,r-=f}}var Ae=function(t,n){if(this.content=t,this.size=n||0,n==null)for(var r=0;r<t.length;r++)this.size+=t[r].nodeSize},qg={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};Ae.prototype.nodesBetween=function(t,n,r,i,o){i===void 0&&(i=0);for(var a=0,l=0;l<n;a++){var f=this.content[a],h=l+f.nodeSize;if(h>t&&r(f,i+l,o,a)!==!1&&f.content.size){var p=l+1;f.nodesBetween(Math.max(0,t-p),Math.min(f.content.size,n-p),r,i+p)}l=h}};Ae.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)};Ae.prototype.textBetween=function(t,n,r,i){var o="",a=!0;return this.nodesBetween(t,n,function(l,f){l.isText?(o+=l.text.slice(Math.max(t,f)-f,n-f),a=!r):l.isLeaf&&i?(o+=typeof i=="function"?i(l):i,a=!r):!a&&l.isBlock&&(o+=r,a=!0)},0),o};Ae.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var n=this.lastChild,r=t.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new Ae(i,this.size+t.size)};Ae.prototype.cut=function(t,n){if(n==null&&(n=this.size),t==0&&n==this.size)return this;var r=[],i=0;if(n>t)for(var o=0,a=0;a<n;o++){var l=this.content[o],f=a+l.nodeSize;f>t&&((a<t||f>n)&&(l.isText?l=l.cut(Math.max(0,t-a),Math.min(l.text.length,n-a)):l=l.cut(Math.max(0,t-a-1),Math.min(l.content.size,n-a-1))),r.push(l),i+=l.nodeSize),a=f}return new Ae(r,i)};Ae.prototype.cutByIndex=function(t,n){return t==n?Ae.empty:t==0&&n==this.content.length?this:new Ae(this.content.slice(t,n))};Ae.prototype.replaceChild=function(t,n){var r=this.content[t];if(r==n)return this;var i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new Ae(i,o)};Ae.prototype.addToStart=function(t){return new Ae([t].concat(this.content),this.size+t.nodeSize)};Ae.prototype.addToEnd=function(t){return new Ae(this.content.concat(t),this.size+t.nodeSize)};Ae.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0};qg.firstChild.get=function(){return this.content.length?this.content[0]:null};qg.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null};qg.childCount.get=function(){return this.content.length};Ae.prototype.child=function(t){var n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n};Ae.prototype.maybeChild=function(t){return this.content[t]};Ae.prototype.forEach=function(t){for(var n=0,r=0;n<this.content.length;n++){var i=this.content[n];t(i,r,n),r+=i.nodeSize}};Ae.prototype.findDiffStart=function(t,n){return n===void 0&&(n=0),WA(this,t,n)};Ae.prototype.findDiffEnd=function(t,n,r){return n===void 0&&(n=this.size),r===void 0&&(r=t.size),UA(this,t,n,r)};Ae.prototype.findIndex=function(t,n){if(n===void 0&&(n=-1),t==0)return Eh(0,t);if(t==this.size)return Eh(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var r=0,i=0;;r++){var o=this.child(r),a=i+o.nodeSize;if(a>=t)return a==t||n>0?Eh(r+1,a):Eh(r,i);i=a}};Ae.prototype.toString=function(){return"<"+this.toStringInner()+">"};Ae.prototype.toStringInner=function(){return this.content.join(", ")};Ae.prototype.toJSON=function(){return this.content.length?this.content.map(function(t){return t.toJSON()}):null};Ae.fromJSON=function(t,n){if(!n)return Ae.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ae(n.map(t.nodeFromJSON))};Ae.fromArray=function(t){if(!t.length)return Ae.empty;for(var n,r=0,i=0;i<t.length;i++){var o=t[i];r+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(n||(n=t.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new Ae(n||t,r)};Ae.from=function(t){if(!t)return Ae.empty;if(t instanceof Ae)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Ae([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))};Object.defineProperties(Ae.prototype,qg);var Rv={index:0,offset:0};function Eh(e,t){return Rv.index=e,Rv.offset=t,Rv}Ae.empty=new Ae([],0);function Cp(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!Cp(e[r],t[r]))return!1}else{for(var i in e)if(!(i in t)||!Cp(e[i],t[i]))return!1;for(var o in t)if(!(o in e))return!1}return!0}var Lt=function(t,n){this.type=t,this.attrs=n};Lt.prototype.addToSet=function(t){for(var n,r=!1,i=0;i<t.length;i++){var o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))n||(n=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=t.slice()),r||n.push(this),n};Lt.prototype.removeFromSet=function(t){for(var n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t};Lt.prototype.isInSet=function(t){for(var n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1};Lt.prototype.eq=function(t){return this==t||this.type==t.type&&Cp(this.attrs,t.attrs)};Lt.prototype.toJSON=function(){var t={type:this.type.name};for(var n in this.attrs){t.attrs=this.attrs;break}return t};Lt.fromJSON=function(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");var r=t.marks[n.type];if(!r)throw new RangeError("There is no mark type "+n.type+" in this schema");return r.create(n.attrs)};Lt.sameSet=function(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(var r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0};Lt.setFrom=function(t){if(!t||t.length==0)return Lt.none;if(t instanceof Lt)return[t];var n=t.slice();return n.sort(function(r,i){return r.type.rank-i.type.rank}),n};Lt.none=[];function Co(e){var t=Error.call(this,e);return t.__proto__=Co.prototype,t}Co.prototype=Object.create(Error.prototype);Co.prototype.constructor=Co;Co.prototype.name="ReplaceError";var Je=function(t,n,r){this.content=t,this.openStart=n,this.openEnd=r},KA={size:{configurable:!0}};KA.size.get=function(){return this.content.size-this.openStart-this.openEnd};Je.prototype.insertAt=function(t,n){var r=GA(this.content,t+this.openStart,n,null);return r&&new Je(r,this.openStart,this.openEnd)};Je.prototype.removeBetween=function(t,n){return new Je(qA(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)};Je.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd};Je.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"};Je.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t};Je.fromJSON=function(t,n){if(!n)return Je.empty;var r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Je(Ae.fromJSON(t,n.content),r,i)};Je.maxOpen=function(t,n){n===void 0&&(n=!0);for(var r=0,i=0,o=t.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(var a=t.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)i++;return new Je(t,r,i)};Object.defineProperties(Je.prototype,KA);function qA(e,t,n){var r=e.findIndex(t),i=r.index,o=r.offset,a=e.maybeChild(i),l=e.findIndex(n),f=l.index,h=l.offset;if(o==t||a.isText){if(h!=n&&!e.child(f).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(i!=f)throw new RangeError("Removing non-flat range");return e.replaceChild(i,a.copy(qA(a.content,t-o-1,n-o-1)))}function GA(e,t,n,r){var i=e.findIndex(t),o=i.index,a=i.offset,l=e.maybeChild(o);if(a==t||l.isText)return r&&!r.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));var f=GA(l.content,t-a-1,n);return f&&e.replaceChild(o,l.copy(f))}Je.empty=new Je(Ae.empty,0,0);function L7(e,t,n){if(n.openStart>e.depth)throw new Co("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Co("Inconsistent open depths");return JA(e,t,n,0)}function JA(e,t,n,r){var i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){var a=JA(e,t,n,r+1);return o.copy(o.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){var l=e.parent,f=l.content;return nl(l,f.cut(0,e.parentOffset).append(n.content).append(f.cut(t.parentOffset)))}else{var h=P7(n,e),p=h.start,m=h.end;return nl(o,XA(e,p,m,t,r))}else return nl(o,Sp(e,t,r))}function YA(e,t){if(!t.type.compatibleContent(e.type))throw new Co("Cannot join "+t.type.name+" onto "+e.type.name)}function ay(e,t,n){var r=e.node(n);return YA(r,t.node(n)),r}function tl(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function yc(e,t,n,r){var i=(t||e).node(n),o=0,a=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(tl(e.nodeAfter,r),o++));for(var l=o;l<a;l++)tl(i.child(l),r);t&&t.depth==n&&t.textOffset&&tl(t.nodeBefore,r)}function nl(e,t){if(!e.type.validContent(t))throw new Co("Invalid content for node "+e.type.name);return e.copy(t)}function XA(e,t,n,r,i){var o=e.depth>i&&ay(e,t,i+1),a=r.depth>i&&ay(n,r,i+1),l=[];return yc(null,e,i,l),o&&a&&t.index(i)==n.index(i)?(YA(o,a),tl(nl(o,XA(e,t,n,r,i+1)),l)):(o&&tl(nl(o,Sp(e,t,i+1)),l),yc(t,n,i,l),a&&tl(nl(a,Sp(n,r,i+1)),l)),yc(r,null,i,l),new Ae(l)}function Sp(e,t,n){var r=[];if(yc(null,e,n,r),e.depth>n){var i=ay(e,t,n+1);tl(nl(i,Sp(e,t,n+1)),r)}return yc(t,null,n,r),new Ae(r)}function P7(e,t){for(var n=t.depth-e.openStart,r=t.node(n),i=r.copy(e.content),o=n-1;o>=0;o--)i=t.node(o).copy(Ae.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}var hn=function(t,n,r){this.pos=t,this.path=n,this.depth=n.length/3-1,this.parentOffset=r},Ju={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};hn.prototype.resolveDepth=function(t){return t==null?this.depth:t<0?this.depth+t:t};Ju.parent.get=function(){return this.node(this.depth)};Ju.doc.get=function(){return this.node(0)};hn.prototype.node=function(t){return this.path[this.resolveDepth(t)*3]};hn.prototype.index=function(t){return this.path[this.resolveDepth(t)*3+1]};hn.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)};hn.prototype.start=function(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1};hn.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size};hn.prototype.before=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]};hn.prototype.after=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize};Ju.textOffset.get=function(){return this.pos-this.path[this.path.length-1]};Ju.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r};Ju.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)};hn.prototype.posAtIndex=function(t,n){n=this.resolveDepth(n);for(var r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1,o=0;o<t;o++)i+=r.child(o).nodeSize;return i};hn.prototype.marks=function(){var t=this.parent,n=this.index();if(t.content.size==0)return Lt.none;if(this.textOffset)return t.child(n).marks;var r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){var o=r;r=i,i=o}for(var a=r.marks,l=0;l<a.length;l++)a[l].type.spec.inclusive===!1&&(!i||!a[l].isInSet(i.marks))&&(a=a[l--].removeFromSet(a));return a};hn.prototype.marksAcross=function(t){var n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;for(var r=n.marks,i=t.parent.maybeChild(t.index()),o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r};hn.prototype.sharedDepth=function(t){for(var n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0};hn.prototype.blockRange=function(t,n){if(t===void 0&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new Yc(this,t,r)};hn.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset};hn.prototype.max=function(t){return t.pos>this.pos?t:this};hn.prototype.min=function(t){return t.pos<this.pos?t:this};hn.prototype.toString=function(){for(var t="",n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset};hn.resolve=function(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");for(var r=[],i=0,o=n,a=t;;){var l=a.content.findIndex(o),f=l.index,h=l.offset,p=o-h;if(r.push(a,f,i+h),!p||(a=a.child(f),a.isText))break;o=p-1,i+=h+1}return new hn(n,r,o)};hn.resolveCached=function(t,n){for(var r=0;r<Bv.length;r++){var i=Bv[r];if(i.pos==n&&i.doc==t)return i}var o=Bv[zv]=hn.resolve(t,n);return zv=(zv+1)%I7,o};Object.defineProperties(hn.prototype,Ju);var Bv=[],zv=0,I7=12,Yc=function(t,n,r){this.$from=t,this.$to=n,this.depth=r},Yu={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};Yu.start.get=function(){return this.$from.before(this.depth+1)};Yu.end.get=function(){return this.$to.after(this.depth+1)};Yu.parent.get=function(){return this.$from.node(this.depth)};Yu.startIndex.get=function(){return this.$from.index(this.depth)};Yu.endIndex.get=function(){return this.$to.indexAfter(this.depth)};Object.defineProperties(Yc.prototype,Yu);var F7=Object.create(null),Ft=function(t,n,r,i){this.type=t,this.attrs=n,this.content=r||Ae.empty,this.marks=i||Lt.none},hi={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};hi.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size};hi.childCount.get=function(){return this.content.childCount};Ft.prototype.child=function(t){return this.content.child(t)};Ft.prototype.maybeChild=function(t){return this.content.maybeChild(t)};Ft.prototype.forEach=function(t){this.content.forEach(t)};Ft.prototype.nodesBetween=function(t,n,r,i){i===void 0&&(i=0),this.content.nodesBetween(t,n,r,i,this)};Ft.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)};hi.textContent.get=function(){return this.textBetween(0,this.content.size,"")};Ft.prototype.textBetween=function(t,n,r,i){return this.content.textBetween(t,n,r,i)};hi.firstChild.get=function(){return this.content.firstChild};hi.lastChild.get=function(){return this.content.lastChild};Ft.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)};Ft.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)};Ft.prototype.hasMarkup=function(t,n,r){return this.type==t&&Cp(this.attrs,n||t.defaultAttrs||F7)&&Lt.sameSet(this.marks,r||Lt.none)};Ft.prototype.copy=function(t){return t===void 0&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)};Ft.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)};Ft.prototype.cut=function(t,n){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))};Ft.prototype.slice=function(t,n,r){if(n===void 0&&(n=this.content.size),r===void 0&&(r=!1),t==n)return Je.empty;var i=this.resolve(t),o=this.resolve(n),a=r?0:i.sharedDepth(n),l=i.start(a),f=i.node(a),h=f.content.cut(i.pos-l,o.pos-l);return new Je(h,i.depth-a,o.depth-a)};Ft.prototype.replace=function(t,n,r){return L7(this.resolve(t),this.resolve(n),r)};Ft.prototype.nodeAt=function(t){for(var n=this;;){var r=n.content.findIndex(t),i=r.index,o=r.offset;if(n=n.maybeChild(i),!n)return null;if(o==t||n.isText)return n;t-=o+1}};Ft.prototype.childAfter=function(t){var n=this.content.findIndex(t),r=n.index,i=n.offset;return{node:this.content.maybeChild(r),index:r,offset:i}};Ft.prototype.childBefore=function(t){if(t==0)return{node:null,index:0,offset:0};var n=this.content.findIndex(t),r=n.index,i=n.offset;if(i<t)return{node:this.content.child(r),index:r,offset:i};var o=this.content.child(r-1);return{node:o,index:r-1,offset:i-o.nodeSize}};Ft.prototype.resolve=function(t){return hn.resolveCached(this,t)};Ft.prototype.resolveNoCache=function(t){return hn.resolve(this,t)};Ft.prototype.rangeHasMark=function(t,n,r){var i=!1;return n>t&&this.nodesBetween(t,n,function(o){return r.isInSet(o.marks)&&(i=!0),!i}),i};hi.isBlock.get=function(){return this.type.isBlock};hi.isTextblock.get=function(){return this.type.isTextblock};hi.inlineContent.get=function(){return this.type.inlineContent};hi.isInline.get=function(){return this.type.isInline};hi.isText.get=function(){return this.type.isText};hi.isLeaf.get=function(){return this.type.isLeaf};hi.isAtom.get=function(){return this.type.isAtom};Ft.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),ZA(this.marks,t)};Ft.prototype.contentMatchAt=function(t){var n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n};Ft.prototype.canReplace=function(t,n,r,i,o){r===void 0&&(r=Ae.empty),i===void 0&&(i=0),o===void 0&&(o=r.childCount);var a=this.contentMatchAt(t).matchFragment(r,i,o),l=a&&a.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(var f=i;f<o;f++)if(!this.type.allowsMarks(r.child(f).marks))return!1;return!0};Ft.prototype.canReplaceWith=function(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;var o=this.contentMatchAt(t).matchType(r),a=o&&o.matchFragment(this.content,n);return a?a.validEnd:!1};Ft.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)};Ft.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var t=Lt.none,n=0;n<this.marks.length;n++)t=this.marks[n].addToSet(t);if(!Lt.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map(function(r){return r.type.name}));this.content.forEach(function(r){return r.check()})};Ft.prototype.toJSON=function(){var t={type:this.type.name};for(var n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(function(r){return r.toJSON()})),t};Ft.fromJSON=function(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");var r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}var i=Ae.fromJSON(t,n.content);return t.nodeType(n.type).create(n.attrs,i,r)};Object.defineProperties(Ft.prototype,hi);var R7=function(e){function t(r,i,o,a){if(e.call(this,r,i,null,a),!o)throw new RangeError("Empty text nodes are not allowed");this.text=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):ZA(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},t.prototype.textBetween=function(i,o){return this.text.slice(i,o)},n.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(i){return i==this.marks?this:new t(this.type,this.attrs,this.text,i)},t.prototype.withText=function(i){return i==this.text?this:new t(this.type,this.attrs,i,this.marks)},t.prototype.cut=function(i,o){return i===void 0&&(i=0),o===void 0&&(o=this.text.length),i==0&&o==this.text.length?this:this.withText(this.text.slice(i,o))},t.prototype.eq=function(i){return this.sameMarkup(i)&&this.text==i.text},t.prototype.toJSON=function(){var i=e.prototype.toJSON.call(this);return i.text=this.text,i},Object.defineProperties(t.prototype,n),t}(Ft);function ZA(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var wr=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},Gg={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};wr.parse=function(t,n){var r=new Jg(t,n);if(r.next==null)return wr.empty;var i=eO(r);r.next&&r.err("Unexpected trailing text");var o=W7(V7(i));return U7(o,r),o};wr.prototype.matchType=function(t){for(var n=0;n<this.next.length;n+=2)if(this.next[n]==t)return this.next[n+1];return null};wr.prototype.matchFragment=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=t.childCount);for(var i=this,o=n;i&&o<r;o++)i=i.matchType(t.child(o).type);return i};Gg.inlineContent.get=function(){var e=this.next[0];return e?e.isInline:!1};Gg.defaultType.get=function(){for(var e=0;e<this.next.length;e+=2){var t=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}};wr.prototype.compatible=function(t){for(var n=0;n<this.next.length;n+=2)for(var r=0;r<t.next.length;r+=2)if(this.next[n]==t.next[r])return!0;return!1};wr.prototype.fillBefore=function(t,n,r){n===void 0&&(n=!1),r===void 0&&(r=0);var i=[this];function o(a,l){var f=a.matchFragment(t,r);if(f&&(!n||f.validEnd))return Ae.from(l.map(function(b){return b.createAndFill()}));for(var h=0;h<a.next.length;h+=2){var p=a.next[h],m=a.next[h+1];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);var v=o(m,l.concat(p));if(v)return v}}}return o(this,[])};wr.prototype.findWrapping=function(t){for(var n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];var r=this.computeWrapping(t);return this.wrapCache.push(t,r),r};wr.prototype.computeWrapping=function(t){for(var n=Object.create(null),r=[{match:this,type:null,via:null}];r.length;){var i=r.shift(),o=i.match;if(o.matchType(t)){for(var a=[],l=i;l.type;l=l.via)a.push(l.type);return a.reverse()}for(var f=0;f<o.next.length;f+=2){var h=o.next[f];!h.isLeaf&&!h.hasRequiredAttrs()&&!(h.name in n)&&(!i.type||o.next[f+1].validEnd)&&(r.push({match:h.contentMatch,type:h,via:i}),n[h.name]=!0)}}};Gg.edgeCount.get=function(){return this.next.length>>1};wr.prototype.edge=function(t){var n=t<<1;if(n>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[n],next:this.next[n+1]}};wr.prototype.toString=function(){var t=[];function n(r){t.push(r);for(var i=1;i<r.next.length;i+=2)t.indexOf(r.next[i])==-1&&n(r.next[i])}return n(this),t.map(function(r,i){for(var o=i+(r.validEnd?"*":" ")+" ",a=0;a<r.next.length;a+=2)o+=(a?", ":"")+r.next[a].name+"->"+t.indexOf(r.next[a+1]);return o}).join(`
`)};Object.defineProperties(wr.prototype,Gg);wr.empty=new wr(!0);var Jg=function(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()},QA={next:{configurable:!0}};QA.next.get=function(){return this.tokens[this.pos]};Jg.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)};Jg.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")};Object.defineProperties(Jg.prototype,QA);function eO(e){var t=[];do t.push(B7(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function B7(e){var t=[];do t.push(z7(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function z7(e){for(var t=j7(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=$7(e,t);else break;return t}function NC(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function $7(e,t){var n=NC(e),r=n;return e.eat(",")&&(e.next!="}"?r=NC(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function H7(e,t){var n=e.nodeTypes,r=n[t];if(r)return[r];var i=[];for(var o in n){var a=n[o];a.groups.indexOf(t)>-1&&i.push(a)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function j7(e){if(e.eat("(")){var t=eO(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{var n=H7(e,e.next).map(function(r){return e.inline==null?e.inline=r.isInline:e.inline!=r.isInline&&e.err("Mixing inline and block content"),{type:"name",value:r}});return e.pos++,n.length==1?n[0]:{type:"choice",exprs:n}}}function V7(e){var t=[[]];return i(o(e,0),n()),t;function n(){return t.push([])-1}function r(a,l,f){var h={term:f,to:l};return t[a].push(h),h}function i(a,l){a.forEach(function(f){return f.to=l})}function o(a,l){if(a.type=="choice")return a.exprs.reduce(function(E,S){return E.concat(o(S,l))},[]);if(a.type=="seq")for(var f=0;;f++){var h=o(a.exprs[f],l);if(f==a.exprs.length-1)return h;i(h,l=n())}else if(a.type=="star"){var p=n();return r(l,p),i(o(a.expr,p),p),[r(p)]}else if(a.type=="plus"){var m=n();return i(o(a.expr,l),m),i(o(a.expr,m),m),[r(m)]}else{if(a.type=="opt")return[r(l)].concat(o(a.expr,l));if(a.type=="range"){for(var v=l,b=0;b<a.min;b++){var _=n();i(o(a.expr,v),_),v=_}if(a.max==-1)i(o(a.expr,v),v);else for(var k=a.min;k<a.max;k++){var C=n();r(v,C),i(o(a.expr,v),C),v=C}return[r(v)]}else if(a.type=="name")return[r(l,null,a.value)]}}}function tO(e,t){return t-e}function LC(e,t){var n=[];return r(t),n.sort(tO);function r(i){var o=e[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(var a=0;a<o.length;a++){var l=o[a],f=l.term,h=l.to;!f&&n.indexOf(h)==-1&&r(h)}}}function W7(e){var t=Object.create(null);return n(LC(e,0));function n(r){var i=[];r.forEach(function(f){e[f].forEach(function(h){var p=h.term,m=h.to;if(!!p){var v=i.indexOf(p),b=v>-1&&i[v+1];LC(e,m).forEach(function(_){b||i.push(p,b=[]),b.indexOf(_)==-1&&b.push(_)})}})});for(var o=t[r.join(",")]=new wr(r.indexOf(e.length-1)>-1),a=0;a<i.length;a+=2){var l=i[a+1].sort(tO);o.next.push(i[a],t[l.join(",")]||n(l))}return o}}function U7(e,t){for(var n=0,r=[e];n<r.length;n++){for(var i=r[n],o=!i.validEnd,a=[],l=0;l<i.next.length;l+=2){var f=i.next[l],h=i.next[l+1];a.push(f.name),o&&!(f.isText||f.hasRequiredAttrs())&&(o=!1),r.indexOf(h)==-1&&r.push(h)}o&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function nO(e){var t=Object.create(null);for(var n in e){var r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function rO(e,t){var n=Object.create(null);for(var r in e){var i=t&&t[r];if(i===void 0){var o=e[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function iO(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new oO(e[n]);return t}var zr=function(t,n,r){this.name=t,this.schema=n,this.spec=r,this.groups=r.group?r.group.split(" "):[],this.attrs=iO(r.attrs),this.defaultAttrs=nO(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"},Xu={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0},whitespace:{configurable:!0}};Xu.isInline.get=function(){return!this.isBlock};Xu.isTextblock.get=function(){return this.isBlock&&this.inlineContent};Xu.isLeaf.get=function(){return this.contentMatch==wr.empty};Xu.isAtom.get=function(){return this.isLeaf||this.spec.atom};Xu.whitespace.get=function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")};zr.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1};zr.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)};zr.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:rO(this.attrs,t)};zr.prototype.create=function(t,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ft(this,this.computeAttrs(t),Ae.from(n),Lt.setFrom(r))};zr.prototype.createChecked=function(t,n,r){if(n=Ae.from(n),!this.validContent(n))throw new RangeError("Invalid content for node "+this.name);return new Ft(this,this.computeAttrs(t),n,Lt.setFrom(r))};zr.prototype.createAndFill=function(t,n,r){if(t=this.computeAttrs(t),n=Ae.from(n),n.size){var i=this.contentMatch.fillBefore(n);if(!i)return null;n=i.append(n)}var o=this.contentMatch.matchFragment(n).fillBefore(Ae.empty,!0);return o?new Ft(this,t,n.append(o),Lt.setFrom(r)):null};zr.prototype.validContent=function(t){var n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(var r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0};zr.prototype.allowsMarkType=function(t){return this.markSet==null||this.markSet.indexOf(t)>-1};zr.prototype.allowsMarks=function(t){if(this.markSet==null)return!0;for(var n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0};zr.prototype.allowedMarks=function(t){if(this.markSet==null)return t;for(var n,r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Lt.empty:t};zr.compile=function(t,n){var r=Object.create(null);t.forEach(function(a,l){return r[a]=new zr(a,n,l)});var i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(var o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r};Object.defineProperties(zr.prototype,Xu);var oO=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},sO={isRequired:{configurable:!0}};sO.isRequired.get=function(){return!this.hasDefault};Object.defineProperties(oO.prototype,sO);var ra=function(t,n,r,i){this.name=t,this.schema=r,this.spec=i,this.attrs=iO(i.attrs),this.rank=n,this.excluded=null;var o=nO(this.attrs);this.instance=o&&new Lt(this,o)};ra.prototype.create=function(t){return!t&&this.instance?this.instance:new Lt(this,rO(this.attrs,t))};ra.compile=function(t,n){var r=Object.create(null),i=0;return t.forEach(function(o,a){return r[o]=new ra(o,i++,n,a)}),r};ra.prototype.removeFromSet=function(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t};ra.prototype.isInSet=function(t){for(var n=0;n<t.length;n++)if(t[n].type==this)return t[n]};ra.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var xl=function(t){this.spec={};for(var n in t)this.spec[n]=t[n];this.spec.nodes=MC.from(t.nodes),this.spec.marks=MC.from(t.marks),this.nodes=zr.compile(this.spec.nodes,this),this.marks=ra.compile(this.spec.marks,this);var r=Object.create(null);for(var i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");var o=this.nodes[i],a=o.spec.content||"",l=o.spec.marks;o.contentMatch=r[a]||(r[a]=wr.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=l=="_"?null:l?PC(this,l.split(" ")):l==""||!o.inlineContent?[]:null}for(var f in this.marks){var h=this.marks[f],p=h.spec.excludes;h.excluded=p==null?[h]:p==""?[]:PC(this,p.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};xl.prototype.node=function(t,n,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof zr){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)};xl.prototype.text=function(t,n){var r=this.nodes.text;return new R7(r,r.defaultAttrs,t,Lt.setFrom(n))};xl.prototype.mark=function(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)};xl.prototype.nodeFromJSON=function(t){return Ft.fromJSON(this,t)};xl.prototype.markFromJSON=function(t){return Lt.fromJSON(this,t)};xl.prototype.nodeType=function(t){var n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n};function PC(e,t){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=e.marks[i],a=o;if(o)n.push(o);else for(var l in e.marks){var f=e.marks[l];(i=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=f)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}var Yi=function(t,n){var r=this;this.schema=t,this.rules=n,this.tags=[],this.styles=[],n.forEach(function(i){i.tag?r.tags.push(i):i.style&&r.styles.push(i)}),this.normalizeLists=!this.tags.some(function(i){if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;var o=t.nodes[i.node];return o.contentMatch.matchType(o)})};Yi.prototype.parse=function(t,n){n===void 0&&(n={});var r=new an(this,n,!1);return r.addAll(t,null,n.from,n.to),r.finish()};Yi.prototype.parseSlice=function(t,n){n===void 0&&(n={});var r=new an(this,n,!0);return r.addAll(t,null,n.from,n.to),Je.maxOpen(r.finish())};Yi.prototype.matchTag=function(t,n,r){for(var i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){var o=this.tags[i];if(G7(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){var a=o.getAttrs(t);if(a===!1)continue;o.attrs=a}return o}}};Yi.prototype.matchStyle=function(t,n,r,i){for(var o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){var a=this.styles[o];if(!(a.style.indexOf(t)!=0||a.context&&!r.matchesContext(a.context)||a.style.length>t.length&&(a.style.charCodeAt(t.length)!=61||a.style.slice(t.length+1)!=n))){if(a.getAttrs){var l=a.getAttrs(n);if(l===!1)continue;a.attrs=l}return a}}};Yi.schemaRules=function(t){var n=[];function r(f){for(var h=f.priority==null?50:f.priority,p=0;p<n.length;p++){var m=n[p],v=m.priority==null?50:m.priority;if(v<h)break}n.splice(p,0,f)}var i=function(f){var h=t.marks[f].spec.parseDOM;h&&h.forEach(function(p){r(p=IC(p)),p.mark=f})};for(var o in t.marks)i(o);var a=function(f){var h=t.nodes[l].spec.parseDOM;h&&h.forEach(function(p){r(p=IC(p)),p.node=l})};for(var l in t.nodes)a();return n};Yi.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new Yi(t,Yi.schemaRules(t)))};var i_={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},K7={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},aO={ol:!0,ul:!0},Tp=1,Ep=2,Xc=4;function lO(e,t,n){return t!=null?(t?Tp:0)|(t==="full"?Ep:0):e&&e.whitespace=="pre"?Tp|Ep:n&~Xc}var Zo=function(t,n,r,i,o,a,l){this.type=t,this.attrs=n,this.solid=o,this.match=a||(l&Xc?null:t.contentMatch),this.options=l,this.content=[],this.marks=r,this.activeMarks=Lt.none,this.pendingMarks=i,this.stashMarks=[]};Zo.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var n=this.type.contentMatch.fillBefore(Ae.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{var r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)};Zo.prototype.finish=function(t){if(!(this.options&Tp)){var n=this.content[this.content.length-1],r;n&&n.isText&&(r=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-r[0].length)))}var i=Ae.from(this.content);return!t&&this.match&&(i=i.append(this.match.fillBefore(Ae.empty,!0))),this.type?this.type.create(this.attrs,i,this.marks):i};Zo.prototype.popFromStashMark=function(t){for(var n=this.stashMarks.length-1;n>=0;n--)if(t.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]};Zo.prototype.applyPending=function(t){for(var n=0,r=this.pendingMarks;n<r.length;n++){var i=r[n];(this.type?this.type.allowsMarkType(i.type):Y7(i.type,t))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}};Zo.prototype.inlineContext=function(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!i_.hasOwnProperty(t.parentNode.nodeName.toLowerCase())};var an=function(t,n,r){this.parser=t,this.options=n,this.isOpen=r;var i=n.topNode,o,a=lO(null,n.preserveWhitespace,0)|(r?Xc:0);i?o=new Zo(i.type,i.attrs,Lt.none,Lt.none,!0,n.topMatch||i.type.contentMatch,a):r?o=new Zo(null,null,Lt.none,Lt.none,!0,null,a):o=new Zo(t.schema.topNodeType,null,Lt.none,Lt.none,!0,null,a),this.nodes=[o],this.open=0,this.find=n.findPositions,this.needsBlock=!1},o_={top:{configurable:!0},currentPos:{configurable:!0}};o_.top.get=function(){return this.nodes[this.open]};an.prototype.addDOM=function(t){if(t.nodeType==3)this.addTextNode(t);else if(t.nodeType==1){var n=t.getAttribute("style"),r=n?this.readStyles(J7(n)):null,i=this.top;if(r!=null)for(var o=0;o<r.length;o++)this.addPendingMark(r[o]);if(this.addElement(t),r!=null)for(var a=0;a<r.length;a++)this.removePendingMark(r[a],i)}};an.prototype.addTextNode=function(t){var n=t.nodeValue,r=this.top;if(r.options&Ep||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&Tp)r.options&Ep?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){var i=r.content[r.content.length-1],o=t.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(t)}else this.findInside(t)};an.prototype.addElement=function(t,n){var r=t.nodeName.toLowerCase(),i;aO.hasOwnProperty(r)&&this.parser.normalizeLists&&q7(t);var o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(i=this.parser.matchTag(t,this,n));if(o?o.ignore:K7.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);var a,l=this.top,f=this.needsBlock;if(i_.hasOwnProperty(r))a=!0,l.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}this.addAll(t),a&&this.sync(l),this.needsBlock=f}else this.addElementByRule(t,o,o.consuming===!1?i:null)};an.prototype.leafFallback=function(t){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`))};an.prototype.ignoreFallback=function(t){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))};an.prototype.readStyles=function(t){var n=Lt.none;e:for(var r=0;r<t.length;r+=2)for(var i=null;;){var o=this.parser.matchStyle(t[r],t[r+1],this,i);if(!o)continue e;if(o.ignore)return null;if(n=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(n),o.consuming===!1)i=o;else break}return n};an.prototype.addElementByRule=function(t,n,r){var i=this,o,a,l,f;n.node?(a=this.parser.schema.nodes[n.node],a.isLeaf?this.insertNode(a.create(n.attrs))||this.leafFallback(t):o=this.enter(a,n.attrs,n.preserveWhitespace)):(l=this.parser.schema.marks[n.mark],f=l.create(n.attrs),this.addPendingMark(f));var h=this.top;if(a&&a.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(function(m){return i.insertNode(m)});else{var p=n.contentElement;typeof p=="string"?p=t.querySelector(p):typeof p=="function"&&(p=p(t)),p||(p=t),this.findAround(t,p,!0),this.addAll(p,o)}o&&(this.sync(h),this.open--),f&&this.removePendingMark(f,h)};an.prototype.addAll=function(t,n,r,i){for(var o=r||0,a=r?t.childNodes[r]:t.firstChild,l=i==null?null:t.childNodes[i];a!=l;a=a.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(a),n&&i_.hasOwnProperty(a.nodeName.toLowerCase())&&this.sync(n);this.findAtPoint(t,o)};an.prototype.findPlace=function(t){for(var n,r,i=this.open;i>=0;i--){var o=this.nodes[i],a=o.findWrapping(t);if(a&&(!n||n.length>a.length)&&(n=a,r=o,!a.length)||o.solid)break}if(!n)return!1;this.sync(r);for(var l=0;l<n.length;l++)this.enterInner(n[l],null,!1);return!0};an.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(t)){this.closeExtra();var r=this.top;r.applyPending(t.type),r.match&&(r.match=r.match.matchType(t.type));for(var i=r.activeMarks,o=0;o<t.marks.length;o++)(!r.type||r.type.allowsMarkType(t.marks[o].type))&&(i=t.marks[o].addToSet(i));return r.content.push(t.mark(i)),!0}return!1};an.prototype.enter=function(t,n,r){var i=this.findPlace(t.create(n));return i&&this.enterInner(t,n,!0,r),i};an.prototype.enterInner=function(t,n,r,i){this.closeExtra();var o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t,n);var a=lO(t,i,o.options);o.options&Xc&&o.content.length==0&&(a|=Xc),this.nodes.push(new Zo(t,n,o.activeMarks,o.pendingMarks,r,null,a)),this.open++};an.prototype.closeExtra=function(t){var n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}};an.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)};an.prototype.sync=function(t){for(var n=this.open;n>=0;n--)if(this.nodes[n]==t){this.open=n;return}};o_.currentPos.get=function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,r=n.length-1;r>=0;r--)e+=n[r].nodeSize;t&&e++}return e};an.prototype.findAtPoint=function(t,n){if(this.find)for(var r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)};an.prototype.findInside=function(t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)};an.prototype.findAround=function(t,n,r){if(t!=n&&this.find){for(var i=0;i<this.find.length;i++)if(this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)){var o=n.compareDocumentPosition(this.find[i].node);o&(r?2:4)&&(this.find[i].pos=this.currentPos)}}};an.prototype.findInText=function(t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))};an.prototype.matchesContext=function(t){var n=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var r=t.split("/"),i=this.options.context,o=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),a=-(i?i.depth+1:0)+(o?0:1),l=function(f,h){for(;f>=0;f--){var p=r[f];if(p==""){if(f==r.length-1||f==0)continue;for(;h>=a;h--)if(l(f-1,h))return!0;return!1}else{var m=h>0||h==0&&o?n.nodes[h].type:i&&h>=a?i.node(h-a).type:null;if(!m||m.name!=p&&m.groups.indexOf(p)==-1)return!1;h--}}return!0};return l(r.length-1,this.open)};an.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var n=t.depth;n>=0;n--){var r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(var i in this.parser.schema.nodes){var o=this.parser.schema.nodes[i];if(o.isTextblock&&o.defaultAttrs)return o}};an.prototype.addPendingMark=function(t){var n=X7(t,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)};an.prototype.removePendingMark=function(t,n){for(var r=this.open;r>=0;r--){var i=this.nodes[r],o=i.pendingMarks.lastIndexOf(t);if(o>-1)i.pendingMarks=t.removeFromSet(i.pendingMarks);else{i.activeMarks=t.removeFromSet(i.activeMarks);var a=i.popFromStashMark(t);a&&i.type&&i.type.allowsMarkType(a.type)&&(i.activeMarks=a.addToSet(i.activeMarks))}if(i==n)break}};Object.defineProperties(an.prototype,o_);function q7(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&aO.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function G7(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function J7(e){for(var t=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];n=t.exec(e);)r.push(n[1],n[2].trim());return r}function IC(e){var t={};for(var n in e)t[n]=e[n];return t}function Y7(e,t){var n=t.schema.nodes,r=function(a){var l=n[a];if(!!l.allowsMarkType(e)){var f=[],h=function(p){f.push(p);for(var m=0;m<p.edgeCount;m++){var v=p.edge(m),b=v.type,_=v.next;if(b==t||f.indexOf(_)<0&&h(_))return!0}};if(h(l.contentMatch))return{v:!0}}};for(var i in n){var o=r(i);if(o)return o.v}}function X7(e,t){for(var n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}var lr=function(t,n){this.nodes=t||{},this.marks=n||{}};lr.prototype.serializeFragment=function(t,n,r){var i=this;n===void 0&&(n={}),r||(r=s_(n).createDocumentFragment());var o=r,a=null;return t.forEach(function(l){if(a||l.marks.length){a||(a=[]);for(var f=0,h=0;f<a.length&&h<l.marks.length;){var p=l.marks[h];if(!i.marks[p.type.name]){h++;continue}if(!p.eq(a[f])||p.type.spec.spanning===!1)break;f+=2,h++}for(;f<a.length;)o=a.pop(),a.pop();for(;h<l.marks.length;){var m=l.marks[h++],v=i.serializeMark(m,l.isInline,n);v&&(a.push(m,o),o.appendChild(v.dom),o=v.contentDOM||v.dom)}}o.appendChild(i.serializeNodeInner(l,n))}),r};lr.prototype.serializeNodeInner=function(t,n){n===void 0&&(n={});var r=lr.renderSpec(s_(n),this.nodes[t.type.name](t)),i=r.dom,o=r.contentDOM;if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");n.onContent?n.onContent(t,o,n):this.serializeFragment(t.content,n,o)}return i};lr.prototype.serializeNode=function(t,n){n===void 0&&(n={});for(var r=this.serializeNodeInner(t,n),i=t.marks.length-1;i>=0;i--){var o=this.serializeMark(t.marks[i],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r};lr.prototype.serializeMark=function(t,n,r){r===void 0&&(r={});var i=this.marks[t.type.name];return i&&lr.renderSpec(s_(r),i(t,n))};lr.renderSpec=function(t,n,r){if(r===void 0&&(r=null),typeof n=="string")return{dom:t.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;var i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));var a=null,l=r?t.createElementNS(r,i):t.createElement(i),f=n[1],h=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){h=2;for(var p in f)if(f[p]!=null){var m=p.indexOf(" ");m>0?l.setAttributeNS(p.slice(0,m),p.slice(m+1),f[p]):l.setAttribute(p,f[p])}}for(var v=h;v<n.length;v++){var b=n[v];if(b===0){if(v<n.length-1||v>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{var _=lr.renderSpec(t,b,r),k=_.dom,C=_.contentDOM;if(l.appendChild(k),C){if(a)throw new RangeError("Multiple content holes");a=C}}}return{dom:l,contentDOM:a}};lr.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new lr(this.nodesFromSchema(t),this.marksFromSchema(t)))};lr.nodesFromSchema=function(t){var n=uO(t.nodes);return n.text||(n.text=function(r){return r.text}),n};lr.marksFromSchema=function(t){return uO(t.marks)};function uO(e){var t={};for(var n in e){var r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function s_(e){return e.document||window.document}var fO=65535,cO=Math.pow(2,16);function Z7(e,t){return e+t*cO}function dO(e){return e&fO}function Q7(e){return(e-(e&fO))/cO}var ly=function(t,n,r){n===void 0&&(n=!1),r===void 0&&(r=null),this.pos=t,this.deleted=n,this.recover=r},sr=function e(t,n){if(n===void 0&&(n=!1),!t.length&&e.empty)return e.empty;this.ranges=t,this.inverted=n};sr.prototype.recover=function(t){var n=0,r=dO(t);if(!this.inverted)for(var i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Q7(t)};sr.prototype.mapResult=function(t,n){return n===void 0&&(n=1),this._map(t,n,!1)};sr.prototype.map=function(t,n){return n===void 0&&(n=1),this._map(t,n,!0)};sr.prototype._map=function(t,n,r){for(var i=0,o=this.inverted?2:1,a=this.inverted?1:2,l=0;l<this.ranges.length;l+=3){var f=this.ranges[l]-(this.inverted?i:0);if(f>t)break;var h=this.ranges[l+o],p=this.ranges[l+a],m=f+h;if(t<=m){var v=h?t==f?-1:t==m?1:n:n,b=f+i+(v<0?0:p);if(r)return b;var _=t==(n<0?f:m)?null:Z7(l/3,t-f);return new ly(b,n<0?t!=f:t!=m,_)}i+=p-h}return r?t+i:new ly(t+i)};sr.prototype.touches=function(t,n){for(var r=0,i=dO(n),o=this.inverted?2:1,a=this.inverted?1:2,l=0;l<this.ranges.length;l+=3){var f=this.ranges[l]-(this.inverted?r:0);if(f>t)break;var h=this.ranges[l+o],p=f+h;if(t<=p&&l==i*3)return!0;r+=this.ranges[l+a]-h}return!1};sr.prototype.forEach=function(t){for(var n=this.inverted?2:1,r=this.inverted?1:2,i=0,o=0;i<this.ranges.length;i+=3){var a=this.ranges[i],l=a-(this.inverted?o:0),f=a+(this.inverted?0:o),h=this.ranges[i+n],p=this.ranges[i+r];t(l,l+h,f,f+p),o+=p-h}};sr.prototype.invert=function(){return new sr(this.ranges,!this.inverted)};sr.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)};sr.offset=function(t){return t==0?sr.empty:new sr(t<0?[0,-t,0]:[0,0,t])};sr.empty=new sr([]);var kr=function(t,n,r,i){this.maps=t||[],this.from=r||0,this.to=i==null?this.maps.length:i,this.mirror=n};kr.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.maps.length),new kr(this.maps,this.mirror,t,n)};kr.prototype.copy=function(){return new kr(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)};kr.prototype.appendMap=function(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)};kr.prototype.appendMapping=function(t){for(var n=0,r=this.maps.length;n<t.maps.length;n++){var i=t.getMirror(n);this.appendMap(t.maps[n],i!=null&&i<n?r+i:null)}};kr.prototype.getMirror=function(t){if(this.mirror){for(var n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}};kr.prototype.setMirror=function(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)};kr.prototype.appendMappingInverted=function(t){for(var n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){var i=t.getMirror(n);this.appendMap(t.maps[n].invert(),i!=null&&i>n?r-i-1:null)}};kr.prototype.invert=function(){var t=new kr;return t.appendMappingInverted(this),t};kr.prototype.map=function(t,n){if(n===void 0&&(n=1),this.mirror)return this._map(t,n,!0);for(var r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t};kr.prototype.mapResult=function(t,n){return n===void 0&&(n=1),this._map(t,n,!1)};kr.prototype._map=function(t,n,r){for(var i=!1,o=this.from;o<this.to;o++){var a=this.maps[o],l=a.mapResult(t,n);if(l.recover!=null){var f=this.getMirror(o);if(f!=null&&f>o&&f<this.to){o=f,t=this.maps[f].recover(l.recover);continue}}l.deleted&&(i=!0),t=l.pos}return r?t:new ly(t,i)};function Ru(e){var t=Error.call(this,e);return t.__proto__=Ru.prototype,t}Ru.prototype=Object.create(Error.prototype);Ru.prototype.constructor=Ru;Ru.prototype.name="TransformError";var Cn=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new kr},a_={before:{configurable:!0},docChanged:{configurable:!0}};a_.before.get=function(){return this.docs.length?this.docs[0]:this.doc};Cn.prototype.step=function(t){var n=this.maybeStep(t);if(n.failed)throw new Ru(n.failed);return this};Cn.prototype.maybeStep=function(t){var n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n};a_.docChanged.get=function(){return this.steps.length>0};Cn.prototype.addStep=function(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n};Object.defineProperties(Cn.prototype,a_);function Yg(){throw new Error("Override me")}var uy=Object.create(null),Tr=function(){};Tr.prototype.apply=function(t){return Yg()};Tr.prototype.getMap=function(){return sr.empty};Tr.prototype.invert=function(t){return Yg()};Tr.prototype.map=function(t){return Yg()};Tr.prototype.merge=function(t){return null};Tr.prototype.toJSON=function(){return Yg()};Tr.fromJSON=function(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");var r=uy[n.stepType];if(!r)throw new RangeError("No step type "+n.stepType+" defined");return r.fromJSON(t,n)};Tr.jsonID=function(t,n){if(t in uy)throw new RangeError("Duplicate use of step JSON ID "+t);return uy[t]=n,n.prototype.jsonID=t,n};var Rr=function(t,n){this.doc=t,this.failed=n};Rr.ok=function(t){return new Rr(t,null)};Rr.fail=function(t){return new Rr(null,t)};Rr.fromReplace=function(t,n,r,i){try{return Rr.ok(t.replace(n,r,i))}catch(o){if(o instanceof Co)return Rr.fail(o.message);throw o}};var ms=function(e){function t(n,r,i,o){e.call(this),this.from=n,this.to=r,this.slice=i,this.structure=!!o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(r){return this.structure&&fy(r,this.from,this.to)?Rr.fail("Structure replace would overwrite content"):Rr.fromReplace(r,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new sr([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(r){return new t(this.from,this.from+this.slice.size,r.slice(this.from,this.to))},t.prototype.map=function(r){var i=r.mapResult(this.from,1),o=r.mapResult(this.to,-1);return i.deleted&&o.deleted?null:new t(i.pos,Math.max(i.pos,o.pos),this.slice)},t.prototype.merge=function(r){if(!(r instanceof t)||r.structure||this.structure)return null;if(this.from+this.slice.size==r.from&&!this.slice.openEnd&&!r.slice.openStart){var i=this.slice.size+r.slice.size==0?Je.empty:new Je(this.slice.content.append(r.slice.content),this.slice.openStart,r.slice.openEnd);return new t(this.from,this.to+(r.to-r.from),i,this.structure)}else if(r.to==this.from&&!this.slice.openStart&&!r.slice.openEnd){var o=this.slice.size+r.slice.size==0?Je.empty:new Je(r.slice.content.append(this.slice.content),r.slice.openStart,this.slice.openEnd);return new t(r.from,this.to,o,this.structure)}else return null},t.prototype.toJSON=function(){var r={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(r.slice=this.slice.toJSON()),this.structure&&(r.structure=!0),r},t.fromJSON=function(r,i){if(typeof i.from!="number"||typeof i.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(i.from,i.to,Je.fromJSON(r,i.slice),!!i.structure)},t}(Tr);Tr.jsonID("replace",ms);var Yr=function(e){function t(n,r,i,o,a,l,f){e.call(this),this.from=n,this.to=r,this.gapFrom=i,this.gapTo=o,this.slice=a,this.insert=l,this.structure=!!f}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(r){if(this.structure&&(fy(r,this.from,this.gapFrom)||fy(r,this.gapTo,this.to)))return Rr.fail("Structure gap-replace would overwrite content");var i=r.slice(this.gapFrom,this.gapTo);if(i.openStart||i.openEnd)return Rr.fail("Gap is not a flat range");var o=this.slice.insertAt(this.insert,i.content);return o?Rr.fromReplace(r,this.from,this.to,o):Rr.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new sr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(r){var i=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+i,this.from+this.insert,this.from+this.insert+i,r.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(r){var i=r.mapResult(this.from,1),o=r.mapResult(this.to,-1),a=r.map(this.gapFrom,-1),l=r.map(this.gapTo,1);return i.deleted&&o.deleted||a<i.pos||l>o.pos?null:new t(i.pos,o.pos,a,l,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var r={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(r.slice=this.slice.toJSON()),this.structure&&(r.structure=!0),r},t.fromJSON=function(r,i){if(typeof i.from!="number"||typeof i.to!="number"||typeof i.gapFrom!="number"||typeof i.gapTo!="number"||typeof i.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(i.from,i.to,i.gapFrom,i.gapTo,Je.fromJSON(r,i.slice),i.insert,!!i.structure)},t}(Tr);Tr.jsonID("replaceAround",Yr);function fy(e,t,n){for(var r=e.resolve(t),i=n-t,o=r.depth;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0)for(var a=r.node(o).maybeChild(r.indexAfter(o));i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}return!1}function e9(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Zu(e){for(var t=e.parent,n=t.content.cutByIndex(e.startIndex,e.endIndex),r=e.depth;;--r){var i=e.$from.node(r),o=e.$from.index(r),a=e.$to.indexAfter(r);if(r<e.depth&&i.canReplace(o,a,n))return r;if(r==0||i.type.spec.isolating||!e9(i,o,a))break}}Cn.prototype.lift=function(e,t){for(var n=e.$from,r=e.$to,i=e.depth,o=n.before(i+1),a=r.after(i+1),l=o,f=a,h=Ae.empty,p=0,m=i,v=!1;m>t;m--)v||n.index(m)>0?(v=!0,h=Ae.from(n.node(m).copy(h)),p++):l--;for(var b=Ae.empty,_=0,k=i,C=!1;k>t;k--)C||r.after(k+1)<r.end(k)?(C=!0,b=Ae.from(r.node(k).copy(b)),_++):f++;return this.step(new Yr(l,f,o,a,new Je(h.append(b),p,_),h.size-p,!0))};function l_(e,t,n,r){r===void 0&&(r=e);var i=t9(e,t),o=i&&n9(r,t);return o?i.map(FC).concat({type:t,attrs:n}).concat(o.map(FC)):null}function FC(e){return{type:e,attrs:null}}function t9(e,t){var n=e.parent,r=e.startIndex,i=e.endIndex,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;var a=o.length?o[0]:t;return n.canReplaceWith(r,i,a)?o:null}function n9(e,t){var n=e.parent,r=e.startIndex,i=e.endIndex,o=n.child(r),a=t.contentMatch.findWrapping(o.type);if(!a)return null;for(var l=a.length?a[a.length-1]:t,f=l.contentMatch,h=r;f&&h<i;h++)f=f.matchType(n.child(h).type);return!f||!f.validEnd?null:a}Cn.prototype.wrap=function(e,t){for(var n=Ae.empty,r=t.length-1;r>=0;r--){if(n.size){var i=t[r].type.contentMatch.matchFragment(n);if(!i||!i.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=Ae.from(t[r].type.create(t[r].attrs,n))}var o=e.start,a=e.end;return this.step(new Yr(o,a,o,a,new Je(n,0,0),t.length,!0))};Cn.prototype.setBlockType=function(e,t,n,r){var i=this;if(t===void 0&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var o=this.steps.length;return this.doc.nodesBetween(e,t,function(a,l){if(a.isTextblock&&!a.hasMarkup(n,r)&&r9(i.doc,i.mapping.slice(o).map(l),n)){i.clearIncompatible(i.mapping.slice(o).map(l,1),n);var f=i.mapping.slice(o),h=f.map(l,1),p=f.map(l+a.nodeSize,1);return i.step(new Yr(h,p,h+1,p-1,new Je(Ae.from(n.create(r,null,a.marks)),0,0),1,!0)),!1}}),this};function r9(e,t,n){var r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}Cn.prototype.setNodeMarkup=function(e,t,n,r){var i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");t||(t=i.type);var o=t.create(n,null,r||i.marks);if(i.isLeaf)return this.replaceWith(e,e+i.nodeSize,o);if(!t.validContent(i.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new Yr(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new Je(Ae.from(o),0,0),1,!0))};function Qo(e,t,n,r){n===void 0&&(n=1);var i=e.resolve(t),o=i.depth-n,a=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(var l=i.depth-1,f=n-2;l>o;l--,f--){var h=i.node(l),p=i.index(l);if(h.type.spec.isolating)return!1;var m=h.content.cutByIndex(p,h.childCount),v=r&&r[f]||h;if(v!=h&&(m=m.replaceChild(0,v.type.create(v.attrs))),!h.canReplace(p+1,h.childCount)||!v.type.validContent(m))return!1}var b=i.indexAfter(o),_=r&&r[0];return i.node(o).canReplaceWith(b,b,_?_.type:i.node(o+1).type)}Cn.prototype.split=function(e,t,n){t===void 0&&(t=1);for(var r=this.doc.resolve(e),i=Ae.empty,o=Ae.empty,a=r.depth,l=r.depth-t,f=t-1;a>l;a--,f--){i=Ae.from(r.node(a).copy(i));var h=n&&n[f];o=Ae.from(h?h.type.create(h.attrs,o):r.node(a).copy(o))}return this.step(new ms(e,e,new Je(i.append(o),t,t),!0))};function _d(e,t){var n=e.resolve(t),r=n.index();return i9(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function i9(e,t){return e&&t&&!e.isLeaf&&e.canAppend(t)}Cn.prototype.join=function(e,t){t===void 0&&(t=1);var n=new ms(e-t,e+t,Je.empty,!0);return this.step(n)};function o9(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(var i=r.depth-1;i>=0;i--){var o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(var a=r.depth-1;a>=0;a--){var l=r.indexAfter(a);if(r.node(a).canReplaceWith(l,l,n))return r.after(a+1);if(l<r.node(a).childCount)return null}}function hO(e,t,n){var r=e.resolve(t);if(!n.content.size)return t;for(var i=n.content,o=0;o<n.openStart;o++)i=i.firstChild.content;for(var a=1;a<=(n.openStart==0&&n.size?2:1);a++)for(var l=r.depth;l>=0;l--){var f=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,h=r.index(l)+(f>0?1:0),p=r.node(l),m=!1;if(a==1)m=p.canReplace(h,h,i);else{var v=p.contentMatchAt(h).findWrapping(i.firstChild.type);m=v&&p.canReplaceWith(h,h,v[0])}if(m)return f==0?r.pos:f<0?r.before(l+1):r.after(l+1)}return null}function u_(e,t,n){for(var r=[],i=0;i<e.childCount;i++){var o=e.child(i);o.content.size&&(o=o.copy(u_(o.content,t,o))),o.isInline&&(o=t(o,n,i)),r.push(o)}return Ae.fromArray(r)}var f_=function(e){function t(n,r,i){e.call(this),this.from=n,this.to=r,this.mark=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(r){var i=this,o=r.slice(this.from,this.to),a=r.resolve(this.from),l=a.node(a.sharedDepth(this.to)),f=new Je(u_(o.content,function(h,p){return!h.isAtom||!p.type.allowsMarkType(i.mark.type)?h:h.mark(i.mark.addToSet(h.marks))},l),o.openStart,o.openEnd);return Rr.fromReplace(r,this.from,this.to,f)},t.prototype.invert=function(){return new wd(this.from,this.to,this.mark)},t.prototype.map=function(r){var i=r.mapResult(this.from,1),o=r.mapResult(this.to,-1);return i.deleted&&o.deleted||i.pos>=o.pos?null:new t(i.pos,o.pos,this.mark)},t.prototype.merge=function(r){if(r instanceof t&&r.mark.eq(this.mark)&&this.from<=r.to&&this.to>=r.from)return new t(Math.min(this.from,r.from),Math.max(this.to,r.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(r,i){if(typeof i.from!="number"||typeof i.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(i.from,i.to,r.markFromJSON(i.mark))},t}(Tr);Tr.jsonID("addMark",f_);var wd=function(e){function t(n,r,i){e.call(this),this.from=n,this.to=r,this.mark=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(r){var i=this,o=r.slice(this.from,this.to),a=new Je(u_(o.content,function(l){return l.mark(i.mark.removeFromSet(l.marks))}),o.openStart,o.openEnd);return Rr.fromReplace(r,this.from,this.to,a)},t.prototype.invert=function(){return new f_(this.from,this.to,this.mark)},t.prototype.map=function(r){var i=r.mapResult(this.from,1),o=r.mapResult(this.to,-1);return i.deleted&&o.deleted||i.pos>=o.pos?null:new t(i.pos,o.pos,this.mark)},t.prototype.merge=function(r){if(r instanceof t&&r.mark.eq(this.mark)&&this.from<=r.to&&this.to>=r.from)return new t(Math.min(this.from,r.from),Math.max(this.to,r.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(r,i){if(typeof i.from!="number"||typeof i.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(i.from,i.to,r.markFromJSON(i.mark))},t}(Tr);Tr.jsonID("removeMark",wd);Cn.prototype.addMark=function(e,t,n){var r=this,i=[],o=[],a=null,l=null;return this.doc.nodesBetween(e,t,function(f,h,p){if(!!f.isInline){var m=f.marks;if(!n.isInSet(m)&&p.type.allowsMarkType(n.type)){for(var v=Math.max(h,e),b=Math.min(h+f.nodeSize,t),_=n.addToSet(m),k=0;k<m.length;k++)m[k].isInSet(_)||(a&&a.to==v&&a.mark.eq(m[k])?a.to=b:i.push(a=new wd(v,b,m[k])));l&&l.to==v?l.to=b:o.push(l=new f_(v,b,n))}}}),i.forEach(function(f){return r.step(f)}),o.forEach(function(f){return r.step(f)}),this};Cn.prototype.removeMark=function(e,t,n){var r=this;n===void 0&&(n=null);var i=[],o=0;return this.doc.nodesBetween(e,t,function(a,l){if(!!a.isInline){o++;var f=null;if(n instanceof ra)for(var h=a.marks,p;p=n.isInSet(h);)(f||(f=[])).push(p),h=p.removeFromSet(h);else n?n.isInSet(a.marks)&&(f=[n]):f=a.marks;if(f&&f.length)for(var m=Math.min(l+a.nodeSize,t),v=0;v<f.length;v++){for(var b=f[v],_=void 0,k=0;k<i.length;k++){var C=i[k];C.step==o-1&&b.eq(i[k].style)&&(_=C)}_?(_.to=m,_.step=o):i.push({style:b,from:Math.max(l,e),to:m,step:o})}}}),i.forEach(function(a){return r.step(new wd(a.from,a.to,a.style))}),this};Cn.prototype.clearIncompatible=function(e,t,n){n===void 0&&(n=t.contentMatch);for(var r=this.doc.nodeAt(e),i=[],o=e+1,a=0;a<r.childCount;a++){var l=r.child(a),f=o+l.nodeSize,h=n.matchType(l.type,l.attrs);if(!h)i.push(new ms(o,f,Je.empty));else{n=h;for(var p=0;p<l.marks.length;p++)t.allowsMarkType(l.marks[p].type)||this.step(new wd(o,f,l.marks[p]))}o=f}if(!n.validEnd){var m=n.fillBefore(Ae.empty,!0);this.replace(o,o,new Je(m,0,0))}for(var v=i.length-1;v>=0;v--)this.step(i[v]);return this};function c_(e,t,n,r){if(n===void 0&&(n=t),r===void 0&&(r=Je.empty),t==n&&!r.size)return null;var i=e.resolve(t),o=e.resolve(n);return pO(i,o,r)?new ms(t,n,r):new Pi(i,o,r).fit()}Cn.prototype.replace=function(e,t,n){t===void 0&&(t=e),n===void 0&&(n=Je.empty);var r=c_(this.doc,e,t,n);return r&&this.step(r),this};Cn.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new Je(Ae.from(n),0,0))};Cn.prototype.delete=function(e,t){return this.replace(e,t,Je.empty)};Cn.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};function pO(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}var Pi=function(t,n,r){this.$to=n,this.$from=t,this.unplaced=r,this.frontier=[];for(var i=0;i<=t.depth;i++){var o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}this.placed=Ae.empty;for(var a=t.depth;a>0;a--)this.placed=Ae.from(t.node(a).copy(this.placed))},gO={depth:{configurable:!0}};gO.depth.get=function(){return this.frontier.length-1};Pi.prototype.fit=function(){for(;this.unplaced.size;){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var n=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,i=this.$from,o=this.close(n<0?this.$to:i.doc.resolve(n));if(!o)return null;for(var a=this.placed,l=i.depth,f=o.depth;l&&f&&a.childCount==1;)a=a.firstChild.content,l--,f--;var h=new Je(a,l,f);if(n>-1)return new Yr(i.pos,n,this.$to.pos,this.$to.end(),h,r);if(h.size||i.pos!=this.$to.pos)return new ms(i.pos,o.pos,h)};Pi.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var n=this.unplaced.openStart;n>=0;n--){var r=void 0,i=void 0;n?(i=d_(this.unplaced.content,n-1).firstChild,r=i.content):r=this.unplaced.content;for(var o=r.firstChild,a=this.depth;a>=0;a--){var l=this.frontier[a],f=l.type,h=l.match,p=void 0,m=void 0;if(t==1&&(o?h.matchType(o.type)||(m=h.fillBefore(Ae.from(o),!1)):f.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:a,parent:i,inject:m};if(t==2&&o&&(p=h.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:a,parent:i,wrap:p};if(i&&h.matchType(i.type))break}}};Pi.prototype.openMore=function(){var t=this.unplaced,n=t.content,r=t.openStart,i=t.openEnd,o=d_(n,r);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new Je(n,r+1,Math.max(i,o.size+r>=n.size-i?r+1:0)),!0)};Pi.prototype.dropNode=function(){var t=this.unplaced,n=t.content,r=t.openStart,i=t.openEnd,o=d_(n,r);if(o.childCount<=1&&r>0){var a=n.size-r<=r+o.size;this.unplaced=new Je(Zc(n,r-1,1),r-1,a?r-1:i)}else this.unplaced=new Je(Zc(n,r,1),r,i)};Pi.prototype.placeNodes=function(t){for(var n=t.sliceDepth,r=t.frontierDepth,i=t.parent,o=t.inject,a=t.wrap;this.depth>r;)this.closeFrontierNode();if(a)for(var l=0;l<a.length;l++)this.openFrontierNode(a[l]);var f=this.unplaced,h=i?i.content:f.content,p=f.openStart-n,m=0,v=[],b=this.frontier[r],_=b.match,k=b.type;if(o){for(var C=0;C<o.childCount;C++)v.push(o.child(C));_=_.matchFragment(o)}for(var E=h.size+n-(f.content.size-f.openEnd);m<h.childCount;){var S=h.child(m),F=_.matchType(S.type);if(!F)break;m++,(m>1||p==0||S.content.size)&&(_=F,v.push(mO(S.mark(k.allowedMarks(S.marks)),m==1?p:0,m==h.childCount?E:-1)))}var O=m==h.childCount;O||(E=-1),this.placed=kd(this.placed,r,Ae.from(v)),this.frontier[r].match=_,O&&E<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var K=0,j=h;K<E;K++){var U=j.lastChild;this.frontier.push({type:U.type,match:U.contentMatchAt(U.childCount)}),j=U.content}this.unplaced=O?n==0?Je.empty:new Je(Zc(f.content,n-1,1),n-1,E<0?f.openEnd:n-1):new Je(Zc(f.content,n,m),f.openStart,f.openEnd)};Pi.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock)return-1;var t=this.frontier[this.depth],n;if(!t.type.isTextblock||!cy(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;for(var r=this.$to,i=r.depth,o=this.$to.after(i);i>1&&o==this.$to.end(--i);)++o;return o};Pi.prototype.findCloseLevel=function(t){e:for(var n=Math.min(this.depth,t.depth);n>=0;n--){var r=this.frontier[n],i=r.match,o=r.type,a=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),l=cy(t,n,o,i,a);if(!!l){for(var f=n-1;f>=0;f--){var h=this.frontier[f],p=h.match,m=h.type,v=cy(t,f,m,p,!0);if(!v||v.childCount)continue e}return{depth:n,fit:l,move:a?t.doc.resolve(t.after(n+1)):t}}}};Pi.prototype.close=function(t){var n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=kd(this.placed,n.depth,n.fit)),t=n.move;for(var r=n.depth+1;r<=t.depth;r++){var i=t.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,o)}return t};Pi.prototype.openFrontierNode=function(t,n,r){var i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=kd(this.placed,this.depth,Ae.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})};Pi.prototype.closeFrontierNode=function(){var t=this.frontier.pop(),n=t.match.fillBefore(Ae.empty,!0);n.childCount&&(this.placed=kd(this.placed,this.frontier.length,n))};Object.defineProperties(Pi.prototype,gO);function Zc(e,t,n){return t==0?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy(Zc(e.firstChild.content,t-1,n)))}function kd(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(kd(e.lastChild.content,t-1,n)))}function d_(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function mO(e,t,n){if(t<=0)return e;var r=e.content;return t>1&&(r=r.replaceChild(0,mO(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Ae.empty,!0)))),e.copy(r)}function cy(e,t,n,r,i){var o=e.node(t),a=i?e.indexAfter(t):e.index(t);if(a==o.childCount&&!n.compatibleContent(o.type))return null;var l=r.fillBefore(o.content,!0,a);return l&&!s9(n,o.content,a)?l:null}function s9(e,t,n){for(var r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function a9(e){return e.spec.defining||e.spec.definingForContent}Cn.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var r=this.doc.resolve(e),i=this.doc.resolve(t);if(pO(r,i,n))return this.step(new ms(e,t,n));var o=yO(r,this.doc.resolve(t));o[o.length-1]==0&&o.pop();var a=-(r.depth+1);o.unshift(a);for(var l=r.depth,f=r.pos-1;l>0;l--,f--){var h=r.node(l).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;o.indexOf(l)>-1?a=l:r.before(l)==f&&o.splice(1,0,-l)}for(var p=o.indexOf(a),m=[],v=n.openStart,b=n.content,_=0;;_++){var k=b.firstChild;if(m.push(k),_==n.openStart)break;b=k.content}for(var C=v-1;C>=0;C--){var E=m[C].type,S=a9(E);if(S&&r.node(p).type!=E)v=C;else if(S||!E.isTextblock)break}for(var F=n.openStart;F>=0;F--){var O=(F+v+1)%(n.openStart+1),K=m[O];if(!!K)for(var j=0;j<o.length;j++){var U=o[(j+p)%o.length],q=!0;U<0&&(q=!1,U=-U);var B=r.node(U-1),R=r.index(U-1);if(B.canReplaceWith(R,R,K.type,K.marks))return this.replace(r.before(U),q?i.after(U):t,new Je(vO(n.content,0,n.openStart,O),O,n.openEnd))}}for(var V=this.steps.length,Z=o.length-1;Z>=0&&(this.replace(e,t,n),!(this.steps.length>V));Z--){var W=o[Z];W<0||(e=r.before(W),t=i.after(W))}return this};function vO(e,t,n,r,i){if(t<n){var o=e.firstChild;e=e.replaceChild(0,o.copy(vO(o.content,t+1,n,r,o)))}if(t>r){var a=i.contentMatchAt(0),l=a.fillBefore(e).append(e);e=l.append(a.matchFragment(l).fillBefore(Ae.empty,!0))}return e}Cn.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var r=o9(this.doc,e,n.type);r!=null&&(e=t=r)}return this.replaceRange(e,t,new Je(Ae.from(n),0,0))};Cn.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),r=this.doc.resolve(t),i=yO(n,r),o=0;o<i.length;o++){var a=i[o],l=o==i.length-1;if(l&&a==0||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),r.end(a));if(a>0&&(l||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return this.delete(n.before(a),r.after(a))}for(var f=1;f<=n.depth&&f<=r.depth;f++)if(e-n.start(f)==n.depth-f&&t>n.end(f)&&r.end(f)-t!=r.depth-f)return this.delete(n.before(f),t);return this.delete(e,t)};function yO(e,t){for(var n=[],r=Math.min(e.depth,t.depth),i=r;i>=0;i--){var o=e.start(i);if(o<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(o==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==o-1)&&n.push(i)}return n}var dy=Object.create(null),yt=function(t,n,r){this.ranges=r||[new l9(t.min(n),t.max(n))],this.$anchor=t,this.$head=n},pa={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};pa.anchor.get=function(){return this.$anchor.pos};pa.head.get=function(){return this.$head.pos};pa.from.get=function(){return this.$from.pos};pa.to.get=function(){return this.$to.pos};pa.$from.get=function(){return this.ranges[0].$from};pa.$to.get=function(){return this.ranges[0].$to};pa.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0};yt.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)};yt.prototype.replace=function(t,n){n===void 0&&(n=Je.empty);for(var r=n.content.lastChild,i=null,o=0;o<n.openEnd;o++)i=r,r=r.lastChild;for(var a=t.steps.length,l=this.ranges,f=0;f<l.length;f++){var h=l[f],p=h.$from,m=h.$to,v=t.mapping.slice(a);t.replaceRange(v.map(p.pos),v.map(m.pos),f?Je.empty:n),f==0&&bO(t,a,(r?r.isInline:i&&i.isTextblock)?-1:1)}};yt.prototype.replaceWith=function(t,n){for(var r=t.steps.length,i=this.ranges,o=0;o<i.length;o++){var a=i[o],l=a.$from,f=a.$to,h=t.mapping.slice(r),p=h.map(l.pos),m=h.map(f.pos);o?t.deleteRange(p,m):(t.replaceRangeWith(p,m,n),bO(t,r,n.isInline?-1:1))}};yt.findFrom=function(t,n,r){var i=t.parent.inlineContent?new Ct(t):wu(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(var o=t.depth-1;o>=0;o--){var a=n<0?wu(t.node(0),t.node(o),t.before(o+1),t.index(o),n,r):wu(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,n,r);if(a)return a}};yt.near=function(t,n){return n===void 0&&(n=1),this.findFrom(t,n)||this.findFrom(t,-n)||new vs(t.node(0))};yt.atStart=function(t){return wu(t,t,0,0,1)||new vs(t)};yt.atEnd=function(t){return wu(t,t,t.content.size,t.childCount,-1)||new vs(t)};yt.fromJSON=function(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");var r=dy[n.type];if(!r)throw new RangeError("No selection type "+n.type+" defined");return r.fromJSON(t,n)};yt.jsonID=function(t,n){if(t in dy)throw new RangeError("Duplicate use of selection JSON ID "+t);return dy[t]=n,n.prototype.jsonID=t,n};yt.prototype.getBookmark=function(){return Ct.between(this.$anchor,this.$head).getBookmark()};Object.defineProperties(yt.prototype,pa);yt.prototype.visible=!0;var l9=function(t,n){this.$from=t,this.$to=n},Ct=function(e){function t(r,i){i===void 0&&(i=r),e.call(this,r,i)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(i,o){var a=i.resolve(o.map(this.head));if(!a.parent.inlineContent)return e.near(a);var l=i.resolve(o.map(this.anchor));return new t(l.parent.inlineContent?l:a,a)},t.prototype.replace=function(i,o){if(o===void 0&&(o=Je.empty),e.prototype.replace.call(this,i,o),o==Je.empty){var a=this.$from.marksAcross(this.$to);a&&i.ensureMarks(a)}},t.prototype.eq=function(i){return i instanceof t&&i.anchor==this.anchor&&i.head==this.head},t.prototype.getBookmark=function(){return new Qc(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(i,o){if(typeof o.anchor!="number"||typeof o.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(i.resolve(o.anchor),i.resolve(o.head))},t.create=function(i,o,a){a===void 0&&(a=o);var l=i.resolve(o);return new this(l,a==o?l:i.resolve(a))},t.between=function(i,o,a){var l=i.pos-o.pos;if((!a||l)&&(a=l>=0?1:-1),!o.parent.inlineContent){var f=e.findFrom(o,a,!0)||e.findFrom(o,-a,!0);if(f)o=f.$head;else return e.near(o,a)}return i.parent.inlineContent||(l==0?i=o:(i=(e.findFrom(i,-a,!0)||e.findFrom(i,a,!0)).$anchor,i.pos<o.pos!=l<0&&(i=o))),new t(i,o)},Object.defineProperties(t.prototype,n),t}(yt);yt.jsonID("text",Ct);var Qc=function(t,n){this.anchor=t,this.head=n};Qc.prototype.map=function(t){return new Qc(t.map(this.anchor),t.map(this.head))};Qc.prototype.resolve=function(t){return Ct.between(t.resolve(this.anchor),t.resolve(this.head))};var vt=function(e){function t(n){var r=n.nodeAfter,i=n.node(0).resolve(n.pos+r.nodeSize);e.call(this,n,i),this.node=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(r,i){var o=i.mapResult(this.anchor),a=o.deleted,l=o.pos,f=r.resolve(l);return a?e.near(f):new t(f)},t.prototype.content=function(){return new Je(Ae.from(this.node),0,0)},t.prototype.eq=function(r){return r instanceof t&&r.anchor==this.anchor},t.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new Ap(this.anchor)},t.fromJSON=function(r,i){if(typeof i.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(r.resolve(i.anchor))},t.create=function(r,i){return new this(r.resolve(i))},t.isSelectable=function(r){return!r.isText&&r.type.spec.selectable!==!1},t}(yt);vt.prototype.visible=!1;yt.jsonID("node",vt);var Ap=function(t){this.anchor=t};Ap.prototype.map=function(t){var n=t.mapResult(this.anchor),r=n.deleted,i=n.pos;return r?new Qc(i,i):new Ap(i)};Ap.prototype.resolve=function(t){var n=t.resolve(this.anchor),r=n.nodeAfter;return r&&vt.isSelectable(r)?new vt(n):yt.near(n)};var vs=function(e){function t(n){e.call(this,n.resolve(0),n.resolve(n.content.size))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.replace=function(r,i){if(i===void 0&&(i=Je.empty),i==Je.empty){r.delete(0,r.doc.content.size);var o=e.atStart(r.doc);o.eq(r.selection)||r.setSelection(o)}else e.prototype.replace.call(this,r,i)},t.prototype.toJSON=function(){return{type:"all"}},t.fromJSON=function(r){return new t(r)},t.prototype.map=function(r){return new t(r)},t.prototype.eq=function(r){return r instanceof t},t.prototype.getBookmark=function(){return u9},t}(yt);yt.jsonID("all",vs);var u9={map:function(){return this},resolve:function(t){return new vs(t)}};function wu(e,t,n,r,i,o){if(t.inlineContent)return Ct.create(e,n);for(var a=r-(i>0?0:1);i>0?a<t.childCount:a>=0;a+=i){var l=t.child(a);if(l.isAtom){if(!o&&vt.isSelectable(l))return vt.create(e,n-(i<0?l.nodeSize:0))}else{var f=wu(e,l,n+i,i<0?l.childCount:0,i,o);if(f)return f}n+=l.nodeSize*i}}function bO(e,t,n){var r=e.steps.length-1;if(!(r<t)){var i=e.steps[r];if(i instanceof ms||i instanceof Yr){var o=e.mapping.maps[r],a;o.forEach(function(l,f,h,p){a==null&&(a=p)}),e.setSelection(yt.near(e.doc.resolve(a),n))}}}var RC=1,Ah=2,BC=4,f9=function(e){function t(r){e.call(this,r.doc),this.time=Date.now(),this.curSelection=r.selection,this.curSelectionFor=0,this.storedMarks=r.storedMarks,this.updated=0,this.meta=Object.create(null)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(i){if(i.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=i,this.curSelectionFor=this.steps.length,this.updated=(this.updated|RC)&~Ah,this.storedMarks=null,this},n.selectionSet.get=function(){return(this.updated&RC)>0},t.prototype.setStoredMarks=function(i){return this.storedMarks=i,this.updated|=Ah,this},t.prototype.ensureMarks=function(i){return Lt.sameSet(this.storedMarks||this.selection.$from.marks(),i)||this.setStoredMarks(i),this},t.prototype.addStoredMark=function(i){return this.ensureMarks(i.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(i){return this.ensureMarks(i.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(this.updated&Ah)>0},t.prototype.addStep=function(i,o){e.prototype.addStep.call(this,i,o),this.updated=this.updated&~Ah,this.storedMarks=null},t.prototype.setTime=function(i){return this.time=i,this},t.prototype.replaceSelection=function(i){return this.selection.replace(this,i),this},t.prototype.replaceSelectionWith=function(i,o){var a=this.selection;return o!==!1&&(i=i.mark(this.storedMarks||(a.empty?a.$from.marks():a.$from.marksAcross(a.$to)||Lt.none))),a.replaceWith(this,i),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(i,o,a){a===void 0&&(a=o);var l=this.doc.type.schema;if(o==null)return i?this.replaceSelectionWith(l.text(i),!0):this.deleteSelection();if(!i)return this.deleteRange(o,a);var f=this.storedMarks;if(!f){var h=this.doc.resolve(o);f=a==o?h.marks():h.marksAcross(this.doc.resolve(a))}return this.replaceRangeWith(o,a,l.text(i,f)),this.selection.empty||this.setSelection(yt.near(this.selection.$to)),this},t.prototype.setMeta=function(i,o){return this.meta[typeof i=="string"?i:i.key]=o,this},t.prototype.getMeta=function(i){return this.meta[typeof i=="string"?i:i.key]},n.isGeneric.get=function(){for(var r in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=BC,this},n.scrolledIntoView.get=function(){return(this.updated&BC)>0},Object.defineProperties(t.prototype,n),t}(Cn);function zC(e,t){return!t||!e?e:e.bind(t)}var Zf=function(t,n,r){this.name=t,this.init=zC(n.init,r),this.apply=zC(n.apply,r)},c9=[new Zf("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new Zf("selection",{init:function(t,n){return t.selection||yt.atStart(n.doc)},apply:function(t){return t.selection}}),new Zf("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,n,r,i){return i.selection.$cursor?t.storedMarks:null}}),new Zf("scrollToSelection",{init:function(){return 0},apply:function(t,n){return t.scrolledIntoView?n+1:n}})],h_=function(t,n){var r=this;this.schema=t,this.fields=c9.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),n&&n.forEach(function(i){if(r.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");r.plugins.push(i),r.pluginsByKey[i.key]=i,i.spec.state&&r.fields.push(new Zf(i.key,i.spec.state,i))})},xr=function(t){this.config=t},Xg={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};Xg.schema.get=function(){return this.config.schema};Xg.plugins.get=function(){return this.config.plugins};xr.prototype.apply=function(t){return this.applyTransaction(t).state};xr.prototype.filterTransaction=function(t,n){n===void 0&&(n=-1);for(var r=0;r<this.config.plugins.length;r++)if(r!=n){var i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0};xr.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var n=[t],r=this.applyInner(t),i=null;;){for(var o=!1,a=0;a<this.config.plugins.length;a++){var l=this.config.plugins[a];if(l.spec.appendTransaction){var f=i?i[a].n:0,h=i?i[a].state:this,p=f<n.length&&l.spec.appendTransaction.call(l,f?n.slice(f):n,h,r);if(p&&r.filterTransaction(p,a)){if(p.setMeta("appendedTransaction",t),!i){i=[];for(var m=0;m<this.config.plugins.length;m++)i.push(m<a?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),o=!0}i&&(i[a]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}};xr.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var n=new xr(this.config),r=this.config.fields,i=0;i<r.length;i++){var o=r[i];n[o.name]=o.apply(t,this[o.name],this,n)}for(var a=0;a<ed.length;a++)ed[a](this,t,n);return n};Xg.tr.get=function(){return new f9(this)};xr.create=function(t){for(var n=new h_(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new xr(n),i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r};xr.prototype.reconfigure=function(t){for(var n=new h_(this.schema,t.plugins),r=n.fields,i=new xr(n),o=0;o<r.length;o++){var a=r[o].name;i[a]=this.hasOwnProperty(a)?this[a]:r[o].init(t,i)}return i};xr.prototype.toJSON=function(t){var n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(function(a){return a.toJSON()})),t&&typeof t=="object")for(var r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");var i=t[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n};xr.fromJSON=function(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var i=new h_(t.schema,t.plugins),o=new xr(i);return i.fields.forEach(function(a){if(a.name=="doc")o.doc=Ft.fromJSON(t.schema,n.doc);else if(a.name=="selection")o.selection=yt.fromJSON(o.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(var l in r){var f=r[l],h=f.spec.state;if(f.key==a.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){o[a.name]=h.fromJSON.call(f,t,n[l],o);return}}o[a.name]=a.init(t,o)}}),o};xr.addApplyListener=function(t){ed.push(t)};xr.removeApplyListener=function(t){var n=ed.indexOf(t);n>-1&&ed.splice(n,1)};Object.defineProperties(xr.prototype,Xg);var ed=[];function _O(e,t,n){for(var r in e){var i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=_O(i,t,{})),n[r]=i}return n}var bn=function(t){this.props={},t.props&&_O(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:wO("plugin")};bn.prototype.getState=function(t){return t[this.key]};var $v=Object.create(null);function wO(e){return e in $v?e+"$"+ ++$v[e]:($v[e]=0,e+"$")}var Gn=function(t){t===void 0&&(t="key"),this.key=wO(t)};Gn.prototype.get=function(t){return t.config.pluginsByKey[this.key]};Gn.prototype.getState=function(t){return t[this.key]};function p_(e,t){return e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function kO(e,t,n){var r=e.selection,i=r.$cursor;if(!i||(n?!n.endOfTextblock("backward",e):i.parentOffset>0))return!1;var o=CO(i);if(!o){var a=i.blockRange(),l=a&&Zu(a);return l==null?!1:(t&&t(e.tr.lift(a,l).scrollIntoView()),!0)}var f=o.nodeBefore;if(!f.type.spec.isolating&&NO(e,o,t))return!0;if(i.parent.content.size==0&&(Bu(f,"end")||vt.isSelectable(f))){var h=c_(e.doc,i.before(),i.after(),Je.empty);if(h.slice.size<h.to-h.from){if(t){var p=e.tr.step(h);p.setSelection(Bu(f,"end")?yt.findFrom(p.doc.resolve(p.mapping.map(o.pos,-1)),-1):vt.create(p.doc,o.pos-f.nodeSize)),t(p.scrollIntoView())}return!0}}return f.isAtom&&o.depth==i.depth-1?(t&&t(e.tr.delete(o.pos-f.nodeSize,o.pos).scrollIntoView()),!0):!1}function Bu(e,t,n){for(;e;e=t=="start"?e.firstChild:e.lastChild){if(e.isTextblock)return!0;if(n&&e.childCount!=1)return!1}return!1}function xO(e,t,n){var r=e.selection,i=r.$head,o=r.empty,a=i;if(!o)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):i.parentOffset>0)return!1;a=CO(i)}var l=a&&a.nodeBefore;return!l||!vt.isSelectable(l)?!1:(t&&t(e.tr.setSelection(vt.create(e.doc,a.pos-l.nodeSize)).scrollIntoView()),!0)}function CO(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function SO(e,t,n){var r=e.selection,i=r.$cursor;if(!i||(n?!n.endOfTextblock("forward",e):i.parentOffset<i.parent.content.size))return!1;var o=EO(i);if(!o)return!1;var a=o.nodeAfter;if(NO(e,o,t))return!0;if(i.parent.content.size==0&&(Bu(a,"start")||vt.isSelectable(a))){var l=c_(e.doc,i.before(),i.after(),Je.empty);if(l.slice.size<l.to-l.from){if(t){var f=e.tr.step(l);f.setSelection(Bu(a,"start")?yt.findFrom(f.doc.resolve(f.mapping.map(o.pos)),1):vt.create(f.doc,f.mapping.map(o.pos))),t(f.scrollIntoView())}return!0}}return a.isAtom&&o.depth==i.depth-1?(t&&t(e.tr.delete(o.pos,o.pos+a.nodeSize).scrollIntoView()),!0):!1}function TO(e,t,n){var r=e.selection,i=r.$head,o=r.empty,a=i;if(!o)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):i.parentOffset<i.parent.content.size)return!1;a=EO(i)}var l=a&&a.nodeAfter;return!l||!vt.isSelectable(l)?!1:(t&&t(e.tr.setSelection(vt.create(e.doc,a.pos)).scrollIntoView()),!0)}function EO(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function d9(e,t){var n=e.selection,r=n.$from,i=n.$to,o=r.blockRange(i),a=o&&Zu(o);return a==null?!1:(t&&t(e.tr.lift(o,a).scrollIntoView()),!0)}function AO(e,t){var n=e.selection,r=n.$head,i=n.$anchor;return!r.parent.type.spec.code||!r.sameParent(i)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)}function g_(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t),r=n.type;if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function OO(e,t){var n=e.selection,r=n.$head,i=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(i))return!1;var o=r.node(-1),a=r.indexAfter(-1),l=g_(o.contentMatchAt(a));if(!o.canReplaceWith(a,a,l))return!1;if(t){var f=r.after(),h=e.tr.replaceWith(f,f,l.createAndFill());h.setSelection(yt.near(h.doc.resolve(f),1)),t(h.scrollIntoView())}return!0}function DO(e,t){var n=e.selection,r=n.$from,i=n.$to;if(n instanceof vs||r.parent.inlineContent||i.parent.inlineContent)return!1;var o=g_(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){var a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=e.tr.insert(a,o.createAndFill());l.setSelection(Ct.create(l.doc,a+1)),t(l.scrollIntoView())}return!0}function MO(e,t){var n=e.selection,r=n.$cursor;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){var i=r.before();if(Qo(e.doc,i))return t&&t(e.tr.split(i).scrollIntoView()),!0}var o=r.blockRange(),a=o&&Zu(o);return a==null?!1:(t&&t(e.tr.lift(o,a).scrollIntoView()),!0)}function h9(e,t){var n=e.selection,r=n.$from,i=n.$to;if(e.selection instanceof vt&&e.selection.node.isBlock)return!r.parentOffset||!Qo(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(t){var o=i.parentOffset==i.parent.content.size,a=e.tr;(e.selection instanceof Ct||e.selection instanceof vs)&&a.deleteSelection();var l=r.depth==0?null:g_(r.node(-1).contentMatchAt(r.indexAfter(-1))),f=o&&l?[{type:l}]:null,h=Qo(a.doc,a.mapping.map(r.pos),1,f);if(!f&&!h&&Qo(a.doc,a.mapping.map(r.pos),1,l&&[{type:l}])&&(f=[{type:l}],h=!0),h&&(a.split(a.mapping.map(r.pos),1,f),!o&&!r.parentOffset&&r.parent.type!=l)){var p=a.mapping.map(r.before()),m=a.doc.resolve(p);r.node(-1).canReplaceWith(m.index(),m.index()+1,l)&&a.setNodeMarkup(a.mapping.map(r.before()),l)}t(a.scrollIntoView())}return!0}function p9(e,t){var n=e.selection,r=n.$from,i=n.to,o,a=r.sharedDepth(i);return a==0?!1:(o=r.before(a),t&&t(e.tr.setSelection(vt.create(e.doc,o))),!0)}function g9(e,t){return t&&t(e.tr.setSelection(new vs(e.doc))),!0}function m9(e,t,n){var r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(i.isTextblock||_d(e.doc,t.pos))?!1:(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0)}function NO(e,t,n){var r=t.nodeBefore,i=t.nodeAfter,o,a;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(m9(e,t,n))return!0;var l=t.parent.canReplace(t.index(),t.index()+1);if(l&&(o=(a=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&a.matchType(o[0]||i.type).validEnd){if(n){for(var f=t.pos+i.nodeSize,h=Ae.empty,p=o.length-1;p>=0;p--)h=Ae.from(o[p].create(null,h));h=Ae.from(r.copy(h));var m=e.tr.step(new Yr(t.pos-1,f,t.pos,f,new Je(h,1,0),o.length,!0)),v=f+2*o.length;_d(m.doc,v)&&m.join(v),n(m.scrollIntoView())}return!0}var b=yt.findFrom(t,1),_=b&&b.$from.blockRange(b.$to),k=_&&Zu(_);if(k!=null&&k>=t.depth)return n&&n(e.tr.lift(_,k).scrollIntoView()),!0;if(l&&Bu(i,"start",!0)&&Bu(r,"end")){for(var C=r,E=[];E.push(C),!C.isTextblock;)C=C.lastChild;for(var S=i,F=1;!S.isTextblock;S=S.firstChild)F++;if(C.canReplace(C.childCount,C.childCount,S.content)){if(n){for(var O=Ae.empty,K=E.length-1;K>=0;K--)O=Ae.from(E[K].copy(O));var j=e.tr.step(new Yr(t.pos-E.length,t.pos+i.nodeSize,t.pos+F,t.pos+i.nodeSize-F,new Je(O,E.length,0),0,!0));n(j.scrollIntoView())}return!0}}return!1}function LO(e){return function(t,n){for(var r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(t.tr.setSelection(Ct.create(t.doc,e<0?i.start(o):i.end(o)))),!0):!1}}var PO=LO(-1),IO=LO(1);function v9(e,t){return function(n,r){var i=n.selection,o=i.$from,a=i.$to,l=o.blockRange(a),f=l&&l_(l,e,t);return f?(r&&r(n.tr.wrap(l,f).scrollIntoView()),!0):!1}}function $C(e,t){return function(n,r){var i=n.selection,o=i.from,a=i.to,l=!1;return n.doc.nodesBetween(o,a,function(f,h){if(l)return!1;if(!(!f.isTextblock||f.hasMarkup(e,t)))if(f.type==e)l=!0;else{var p=n.doc.resolve(h),m=p.index();l=p.parent.canReplaceWith(m,m+1,e)}}),l?(r&&r(n.tr.setBlockType(o,a,e,t).scrollIntoView()),!0):!1}}function m_(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(n,r,i){for(var o=0;o<e.length;o++)if(e[o](n,r,i))return!0;return!1}}var Hv=m_(p_,kO,xO),HC=m_(p_,SO,TO),Hs={Enter:m_(AO,DO,MO,h9),"Mod-Enter":OO,Backspace:Hv,"Mod-Backspace":Hv,"Shift-Backspace":Hv,Delete:HC,"Mod-Delete":HC,"Mod-a":g9},y9={"Ctrl-h":Hs.Backspace,"Alt-Backspace":Hs["Mod-Backspace"],"Ctrl-d":Hs.Delete,"Ctrl-Alt-Backspace":Hs["Mod-Delete"],"Alt-Delete":Hs["Mod-Delete"],"Alt-d":Hs["Mod-Delete"],"Ctrl-a":PO,"Ctrl-e":IO};for(var jC in Hs)y9[jC]=Hs[jC];typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform()=="darwin";function b9(e,t){return function(n,r){var i=n.selection,o=i.$from,a=i.$to,l=o.blockRange(a),f=!1,h=l;if(!l)return!1;if(l.depth>=2&&o.node(l.depth-1).type.compatibleContent(e)&&l.startIndex==0){if(o.index(l.depth-1)==0)return!1;var p=n.doc.resolve(l.start-2);h=new Yc(p,p,l.depth),l.endIndex<l.parent.childCount&&(l=new Yc(o,n.doc.resolve(a.end(l.depth)),l.depth)),f=!0}var m=l_(h,e,t,l);return m?(r&&r(_9(n.tr,l,m,f,e).scrollIntoView()),!0):!1}}function _9(e,t,n,r,i){for(var o=Ae.empty,a=n.length-1;a>=0;a--)o=Ae.from(n[a].type.create(n[a].attrs,o));e.step(new Yr(t.start-(r?2:0),t.end,t.start,t.end,new Je(o,0,0),n.length,!0));for(var l=0,f=0;f<n.length;f++)n[f].type==i&&(l=f+1);for(var h=n.length-l,p=t.start+n.length-(r?2:0),m=t.parent,v=t.startIndex,b=t.endIndex,_=!0;v<b;v++,_=!1)!_&&Qo(e.doc,p,h)&&(e.split(p,h),p+=2*h),p+=m.child(v).nodeSize;return e}function w9(e){return function(t,n){var r=t.selection,i=r.$from,o=r.$to,a=i.blockRange(o,function(l){return l.childCount&&l.firstChild.type==e});return a?n?i.node(a.depth-1).type==e?k9(t,n,e,a):x9(t,n,a):!0:!1}}function k9(e,t,n,r){var i=e.tr,o=r.end,a=r.$to.end(r.depth);return o<a&&(i.step(new Yr(o-1,a,o,a,new Je(Ae.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Yc(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth)),t(i.lift(r,Zu(r)).scrollIntoView()),!0}function x9(e,t,n){for(var r=e.tr,i=n.parent,o=n.end,a=n.endIndex-1,l=n.startIndex;a>l;a--)o-=i.child(a).nodeSize,r.delete(o-1,o+1);var f=r.doc.resolve(n.start),h=f.nodeAfter;if(r.mapping.map(n.end)!=n.start+f.nodeAfter.nodeSize)return!1;var p=n.startIndex==0,m=n.endIndex==i.childCount,v=f.node(-1),b=f.index(-1);if(!v.canReplace(b+(p?0:1),b+1,h.content.append(m?Ae.empty:Ae.from(i))))return!1;var _=f.pos,k=_+h.nodeSize;return r.step(new Yr(_-(p?1:0),k+(m?1:0),_+1,k-1,new Je((p?Ae.empty:Ae.from(i.copy(Ae.empty))).append(m?Ae.empty:Ae.from(i.copy(Ae.empty))),p?0:1,m?0:1),p?0:1)),t(r.scrollIntoView()),!0}function C9(e){return function(t,n){var r=t.selection,i=r.$from,o=r.$to,a=i.blockRange(o,function(k){return k.childCount&&k.firstChild.type==e});if(!a)return!1;var l=a.startIndex;if(l==0)return!1;var f=a.parent,h=f.child(l-1);if(h.type!=e)return!1;if(n){var p=h.lastChild&&h.lastChild.type==f.type,m=Ae.from(p?e.create():null),v=new Je(Ae.from(e.create(null,Ae.from(f.type.create(null,m)))),p?3:1,0),b=a.start,_=a.end;n(t.tr.step(new Yr(b-(p?3:1),_,b,_,v,1,!0)).scrollIntoView())}return!0}}var Ne={};if(typeof navigator!="undefined"&&typeof document!="undefined"){var jv=/Edge\/(\d+)/.exec(navigator.userAgent),VC=/MSIE \d/.test(navigator.userAgent),Vv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Wv=Ne.ie=!!(VC||Vv||jv);Ne.ie_version=VC?document.documentMode||6:Vv?+Vv[1]:jv?+jv[1]:null,Ne.gecko=!Wv&&/gecko\/(\d+)/i.test(navigator.userAgent),Ne.gecko_version=Ne.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var Uv=!Wv&&/Chrome\/(\d+)/.exec(navigator.userAgent);Ne.chrome=!!Uv,Ne.chrome_version=Uv&&+Uv[1],Ne.safari=!Wv&&/Apple Computer/.test(navigator.vendor),Ne.ios=Ne.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),Ne.mac=Ne.ios||/Mac/.test(navigator.platform),Ne.android=/Android \d/.test(navigator.userAgent),Ne.webkit="webkitFontSmoothing"in document.documentElement.style,Ne.webkit_version=Ne.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var ci=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},v_=function(e){var t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t},WC=null,$o=function(e,t,n){var r=WC||(WC=document.createRange());return r.setEnd(e,n==null?e.nodeValue.length:n),r.setStart(e,t||0),r},td=function(e,t,n,r){return n&&(UC(e,t,n,r,-1)||UC(e,t,n,r,1))},S9=/^(img|br|input|textarea|hr)$/i;function UC(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:mo(e))){var o=e.parentNode;if(!o||o.nodeType!=1||E9(e)||S9.test(e.nodeName)||e.contentEditable=="false")return!1;t=ci(e)+(i<0?0:1),e=o}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.contentEditable=="false")return!1;t=i<0?mo(e):0}else return!1}}function mo(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function T9(e,t,n){for(var r=t==0,i=t==mo(e);r||i;){if(e==n)return!0;var o=ci(e);if(e=e.parentNode,!e)return!1;r=r&&o==0,i=i&&o==mo(e)}}function E9(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var y_=function(e){var t=e.isCollapsed;return t&&Ne.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function ou(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function A9(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Ls(e,t){return typeof e=="number"?e:e[t]}function O9(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function KC(e,t,n){for(var r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument,a=n||e.dom;a;a=v_(a))if(a.nodeType==1){var l=a==o.body||a.nodeType!=1,f=l?A9(o):O9(a),h=0,p=0;if(t.top<f.top+Ls(r,"top")?p=-(f.top-t.top+Ls(i,"top")):t.bottom>f.bottom-Ls(r,"bottom")&&(p=t.bottom-f.bottom+Ls(i,"bottom")),t.left<f.left+Ls(r,"left")?h=-(f.left-t.left+Ls(i,"left")):t.right>f.right-Ls(r,"right")&&(h=t.right-f.right+Ls(i,"right")),h||p)if(l)o.defaultView.scrollBy(h,p);else{var m=a.scrollLeft,v=a.scrollTop;p&&(a.scrollTop+=p),h&&(a.scrollLeft+=h);var b=a.scrollLeft-m,_=a.scrollTop-v;t={left:t.left-b,top:t.top-_,right:t.right-b,bottom:t.bottom-_}}if(l)break}}function D9(e){for(var t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i,o=(t.left+t.right)/2,a=n+1;a<Math.min(innerHeight,t.bottom);a+=5){var l=e.root.elementFromPoint(o,a);if(!(l==e.dom||!e.dom.contains(l))){var f=l.getBoundingClientRect();if(f.top>=n-20){r=l,i=f.top;break}}}return{refDOM:r,refTop:i,stack:FO(e.dom)}}function FO(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=n);e=v_(e));return t}function M9(e){var t=e.refDOM,n=e.refTop,r=e.stack,i=t?t.getBoundingClientRect().top:0;RO(r,i==0?0:i-n)}function RO(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=r.dom,o=r.top,a=r.left;i.scrollTop!=o+t&&(i.scrollTop=o+t),i.scrollLeft!=a&&(i.scrollLeft=a)}}var Ql=null;function N9(e){if(e.setActive)return e.setActive();if(Ql)return e.focus(Ql);var t=FO(e);e.focus(Ql==null?{get preventScroll(){return Ql={preventScroll:!0},!0}}:void 0),Ql||(Ql=!1,RO(t,0))}function BO(e,t){for(var n,r=2e8,i,o=0,a=t.top,l=t.top,f=e.firstChild,h=0;f;f=f.nextSibling,h++){var p=void 0;if(f.nodeType==1)p=f.getClientRects();else if(f.nodeType==3)p=$o(f).getClientRects();else continue;for(var m=0;m<p.length;m++){var v=p[m];if(v.top<=a&&v.bottom>=l){a=Math.max(v.bottom,a),l=Math.min(v.top,l);var b=v.left>t.left?v.left-t.left:v.right<t.left?t.left-v.right:0;if(b<r){n=f,r=b,i=b&&n.nodeType==3?{left:v.right<t.left?v.right:v.left,top:t.top}:t,f.nodeType==1&&b&&(o=h+(t.left>=(v.left+v.right)/2?1:0));continue}}!n&&(t.left>=v.right&&t.top>=v.top||t.left>=v.left&&t.top>=v.bottom)&&(o=h+1)}}return n&&n.nodeType==3?L9(n,i):!n||r&&n.nodeType==1?{node:e,offset:o}:BO(n,i)}function L9(e,t){for(var n=e.nodeValue.length,r=document.createRange(),i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);var o=Bs(r,1);if(o.top!=o.bottom&&b_(t,o))return{node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function b_(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function P9(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function I9(e,t,n){var r=BO(t,n),i=r.node,o=r.offset,a=-1;if(i.nodeType==1&&!i.firstChild){var l=i.getBoundingClientRect();a=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return e.docView.posFromDOM(i,o,a)}function F9(e,t,n,r){for(var i=-1,o=t;o!=e.dom;){var a=e.docView.nearestDesc(o,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var l=a.dom.getBoundingClientRect();if(l.left>r.left||l.top>r.top)i=a.posBefore;else if(l.right<r.left||l.bottom<r.top)i=a.posAfter;else break}o=a.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n)}function zO(e,t,n){var r=e.childNodes.length;if(r&&n.top<n.bottom)for(var i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=i;;){var a=e.childNodes[o];if(a.nodeType==1)for(var l=a.getClientRects(),f=0;f<l.length;f++){var h=l[f];if(b_(t,h))return zO(a,t,h)}if((o=(o+1)%r)==i)break}return e}function R9(e,t){var n,r,i=e.dom.ownerDocument,o,a;if(i.caretPositionFromPoint)try{var l=i.caretPositionFromPoint(t.left,t.top);l&&(n=l,o=n.offsetNode,a=n.offset)}catch{}if(!o&&i.caretRangeFromPoint){var f=i.caretRangeFromPoint(t.left,t.top);f&&(r=f,o=r.startContainer,a=r.startOffset)}var h=(e.root.elementFromPoint?e.root:i).elementFromPoint(t.left,t.top+1),p;if(!h||!e.dom.contains(h.nodeType!=1?h.parentNode:h)){var m=e.dom.getBoundingClientRect();if(!b_(t,m)||(h=zO(e.dom,t,m),!h))return null}if(Ne.safari)for(var v=h;o&&v;v=v_(v))v.draggable&&(o=a=null);if(h=P9(h,t),o){if(Ne.gecko&&o.nodeType==1&&(a=Math.min(a,o.childNodes.length),a<o.childNodes.length)){var b=o.childNodes[a],_;b.nodeName=="IMG"&&(_=b.getBoundingClientRect()).right<=t.left&&_.bottom>t.top&&a++}o==e.dom&&a==o.childNodes.length-1&&o.lastChild.nodeType==1&&t.top>o.lastChild.getBoundingClientRect().bottom?p=e.state.doc.content.size:(a==0||o.nodeType!=1||o.childNodes[a-1].nodeName!="BR")&&(p=F9(e,o,a,t))}p==null&&(p=I9(e,h,t));var k=e.docView.nearestDesc(h,!0);return{pos:p,inside:k?k.posAtStart-k.border:-1}}function Bs(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}var B9=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function $O(e,t,n){var r=e.docView.domFromPos(t,n<0?-1:1),i=r.node,o=r.offset,a=Ne.webkit||Ne.gecko;if(i.nodeType==3)if(a&&(B9.test(i.nodeValue)||(n<0?!o:o==i.nodeValue.length))){var l=Bs($o(i,o,o),n);if(Ne.gecko&&o&&/\s/.test(i.nodeValue[o-1])&&o<i.nodeValue.length){var f=Bs($o(i,o-1,o-1),-1);if(f.top==l.top){var h=Bs($o(i,o,o+1),-1);if(h.top!=l.top)return Hf(h,h.left<f.left)}}return l}else{var p=o,m=o,v=n<0?1:-1;return n<0&&!o?(m++,v=-1):n>=0&&o==i.nodeValue.length?(p--,v=1):n<0?p--:m++,Hf(Bs($o(i,p,m),v),v<0)}if(!e.state.doc.resolve(t).parent.inlineContent){if(o&&(n<0||o==mo(i))){var b=i.childNodes[o-1];if(b.nodeType==1)return Kv(b.getBoundingClientRect(),!1)}if(o<mo(i)){var _=i.childNodes[o];if(_.nodeType==1)return Kv(_.getBoundingClientRect(),!0)}return Kv(i.getBoundingClientRect(),n>=0)}if(o&&(n<0||o==mo(i))){var k=i.childNodes[o-1],C=k.nodeType==3?$o(k,mo(k)-(a?0:1)):k.nodeType==1&&(k.nodeName!="BR"||!k.nextSibling)?k:null;if(C)return Hf(Bs(C,1),!1)}if(o<mo(i)){for(var E=i.childNodes[o];E.pmViewDesc&&E.pmViewDesc.ignoreForCoords;)E=E.nextSibling;var S=E?E.nodeType==3?$o(E,0,a?0:1):E.nodeType==1?E:null:null;if(S)return Hf(Bs(S,-1),!0)}return Hf(Bs(i.nodeType==3?$o(i):i,-n),n>=0)}function Hf(e,t){if(e.width==0)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Kv(e,t){if(e.height==0)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function HO(e,t,n){var r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function z9(e,t,n){var r=t.selection,i=n=="up"?r.$from:r.$to;return HO(e,t,function(){for(var o=e.docView.domFromPos(i.pos,n=="up"?-1:1),a=o.node;;){var l=e.docView.nearestDesc(a,!0);if(!l)break;if(l.node.isBlock){a=l.dom;break}a=l.dom.parentNode}for(var f=$O(e,i.pos,1),h=a.firstChild;h;h=h.nextSibling){var p=void 0;if(h.nodeType==1)p=h.getClientRects();else if(h.nodeType==3)p=$o(h,0,h.nodeValue.length).getClientRects();else continue;for(var m=0;m<p.length;m++){var v=p[m];if(v.bottom>v.top+1&&(n=="up"?f.top-v.top>(v.bottom-f.top)*2:v.bottom-f.bottom>(f.bottom-v.top)*2))return!1}}return!0})}var $9=/[\u0590-\u08ac]/;function H9(e,t,n){var r=t.selection,i=r.$head;if(!i.parent.isTextblock)return!1;var o=i.parentOffset,a=!o,l=o==i.parent.content.size,f=e.root.getSelection();return!$9.test(i.parent.textContent)||!f.modify?n=="left"||n=="backward"?a:l:HO(e,t,function(){var h=f.getRangeAt(0),p=f.focusNode,m=f.focusOffset,v=f.caretBidiLevel;f.modify("move",n,"character");var b=i.depth?e.docView.domAfterPos(i.before()):e.dom,_=!b.contains(f.focusNode.nodeType==1?f.focusNode:f.focusNode.parentNode)||p==f.focusNode&&m==f.focusOffset;return f.removeAllRanges(),f.addRange(h),v!=null&&(f.caretBidiLevel=v),_})}var qC=null,GC=null,JC=!1;function j9(e,t,n){return qC==t&&GC==n?JC:(qC=t,GC=n,JC=n=="up"||n=="down"?z9(e,t,n):H9(e,t,n))}var Xi=0,jO=1,bc=2,is=3,rn=function(t,n,r,i){this.parent=t,this.children=n,this.dom=r,r.pmViewDesc=this,this.contentDOM=i,this.dirty=Xi},Oo={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};rn.prototype.matchesWidget=function(){return!1};rn.prototype.matchesMark=function(){return!1};rn.prototype.matchesNode=function(){return!1};rn.prototype.matchesHack=function(t){return!1};rn.prototype.parseRule=function(){return null};rn.prototype.stopEvent=function(){return!1};Oo.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e};Oo.border.get=function(){return 0};rn.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()};rn.prototype.posBeforeChild=function(t){for(var n=0,r=this.posAtStart;n<this.children.length;n++){var i=this.children[n];if(i==t)return r;r+=i.size}};Oo.posBefore.get=function(){return this.parent.posBeforeChild(this)};Oo.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0};Oo.posAfter.get=function(){return this.posBefore+this.size};Oo.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border};rn.prototype.localPosFromDOM=function(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){var i,o;if(t==this.contentDOM)i=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{var a,l;if(t==this.contentDOM)a=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;a=t.nextSibling}for(;a&&!((l=a.pmViewDesc)&&l.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(l):this.posAtEnd}var f;if(t==this.dom&&this.contentDOM)f=n>ci(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))f=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(var h=t;;h=h.parentNode){if(h==this.dom){f=!1;break}if(h.parentNode.firstChild!=h)break}if(f==null&&n==t.childNodes.length)for(var p=t;;p=p.parentNode){if(p==this.dom){f=!0;break}if(p.parentNode.lastChild!=p)break}}return(f==null?r>0:f)?this.posAtEnd:this.posAtStart};rn.prototype.nearestDesc=function(t,n){for(var r=!0,i=t;i;i=i.parentNode){var o=this.getDesc(i);if(o&&(!n||o.node))if(r&&o.nodeDOM&&!(o.nodeDOM.nodeType==1?o.nodeDOM.contains(t.nodeType==1?t:t.parentNode):o.nodeDOM==t))r=!1;else return o}};rn.prototype.getDesc=function(t){for(var n=t.pmViewDesc,r=n;r;r=r.parent)if(r==this)return n};rn.prototype.posFromDOM=function(t,n,r){for(var i=t;i;i=i.parentNode){var o=this.getDesc(i);if(o)return o.localPosFromDOM(t,n,r)}return-1};rn.prototype.descAt=function(t){for(var n=0,r=0;n<this.children.length;n++){var i=this.children[n],o=r+i.size;if(r==t&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(t<o)return i.descAt(t-r-i.border);r=o}};rn.prototype.domFromPos=function(t,n){if(!this.contentDOM)return{node:this.dom,offset:0};for(var r=0,i=0,o=0;r<this.children.length;r++){var a=this.children[r],l=o+a.size;if(l>t||a instanceof KO){i=t-o;break}o=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(var f=void 0;r&&!(f=this.children[r-1]).size&&f instanceof VO&&f.widget.type.side>=0;r--);if(n<=0){for(var h,p=!0;h=r?this.children[r-1]:null,!(!h||h.dom.parentNode==this.contentDOM);r--,p=!1);return h&&n&&p&&!h.border&&!h.domAtom?h.domFromPos(h.size,n):{node:this.contentDOM,offset:h?ci(h.dom)+1:0}}else{for(var m,v=!0;m=r<this.children.length?this.children[r]:null,!(!m||m.dom.parentNode==this.contentDOM);r++,v=!1);return m&&v&&!m.border&&!m.domAtom?m.domFromPos(0,n):{node:this.contentDOM,offset:m?ci(m.dom):this.contentDOM.childNodes.length}}};rn.prototype.parseRange=function(t,n,r){if(r===void 0&&(r=0),this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var i=-1,o=-1,a=r,l=0;;l++){var f=this.children[l],h=a+f.size;if(i==-1&&t<=h){var p=a+f.border;if(t>=p&&n<=h-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(t,n,p);t=a;for(var m=l;m>0;m--){var v=this.children[m-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){i=ci(v.dom)+1;break}t-=v.size}i==-1&&(i=0)}if(i>-1&&(h>n||l==this.children.length-1)){n=h;for(var b=l+1;b<this.children.length;b++){var _=this.children[b];if(_.size&&_.dom.parentNode==this.contentDOM&&!_.emptyChildAt(-1)){o=ci(_.dom);break}n+=_.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=h}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:o}};rn.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)};rn.prototype.domAfterPos=function(t){var n=this.domFromPos(t,0),r=n.node,i=n.offset;if(r.nodeType!=1||i==r.childNodes.length)throw new RangeError("No node after pos "+t);return r.childNodes[i]};rn.prototype.setSelection=function(t,n,r,i){for(var o=Math.min(t,n),a=Math.max(t,n),l=0,f=0;l<this.children.length;l++){var h=this.children[l],p=f+h.size;if(o>f&&a<p)return h.setSelection(t-f-h.border,n-f-h.border,r,i);f=p}var m=this.domFromPos(t,t?-1:1),v=n==t?m:this.domFromPos(n,n?-1:1),b=r.getSelection(),_=!1;if((Ne.gecko||Ne.safari)&&t==n){var k=m.node,C=m.offset;if(k.nodeType==3){if(_=C&&k.nodeValue[C-1]==`
`,_&&C==k.nodeValue.length)for(var E=k,S=void 0;E;E=E.parentNode){if(S=E.nextSibling){S.nodeName=="BR"&&(m=v={node:S.parentNode,offset:ci(S)+1});break}var F=E.pmViewDesc;if(F&&F.node&&F.node.isBlock)break}}else{var O=k.childNodes[C-1];_=O&&(O.nodeName=="BR"||O.contentEditable=="false")}}if(Ne.gecko&&b.focusNode&&b.focusNode!=v.node&&b.focusNode.nodeType==1){var K=b.focusNode.childNodes[b.focusOffset];K&&K.contentEditable=="false"&&(i=!0)}if(!(!(i||_&&Ne.safari)&&td(m.node,m.offset,b.anchorNode,b.anchorOffset)&&td(v.node,v.offset,b.focusNode,b.focusOffset))){var j=!1;if((b.extend||t==n)&&!_){b.collapse(m.node,m.offset);try{t!=n&&b.extend(v.node,v.offset),j=!0}catch(B){if(!(B instanceof DOMException))throw B}}if(!j){if(t>n){var U=m;m=v,v=U}var q=document.createRange();q.setEnd(v.node,v.offset),q.setStart(m.node,m.offset),b.removeAllRanges(),b.addRange(q)}}};rn.prototype.ignoreMutation=function(t){return!this.contentDOM&&t.type!="selection"};Oo.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)};rn.prototype.markDirty=function(t,n){for(var r=0,i=0;i<this.children.length;i++){var o=this.children[i],a=r+o.size;if(r==a?t<=a&&n>=r:t<a&&n>r){var l=r+o.border,f=a-o.border;if(t>=l&&n<=f){this.dirty=t==r||n==a?bc:jO,t==l&&n==f&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=is:o.markDirty(t-l,n-l);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?bc:is}r=a}this.dirty=bc};rn.prototype.markParentsDirty=function(){for(var t=1,n=this.parent;n;n=n.parent,t++){var r=t==1?bc:jO;n.dirty<r&&(n.dirty=r)}};Oo.domAtom.get=function(){return!1};Oo.ignoreForCoords.get=function(){return!1};Object.defineProperties(rn.prototype,Oo);var ia=[],VO=function(e){function t(r,i,o,a){var l,f=i.type.toDOM;if(typeof f=="function"&&(f=f(o,function(){if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)})),!i.type.spec.raw){if(f.nodeType!=1){var h=document.createElement("span");h.appendChild(f),f=h}f.contentEditable=!1,f.classList.add("ProseMirror-widget")}e.call(this,r,ia,f,null),this.widget=i,l=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.matchesWidget=function(i){return this.dirty==Xi&&i.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(i){var o=this.widget.spec.stopEvent;return o?o(i):!1},t.prototype.ignoreMutation=function(i){return i.type!="selection"||this.widget.spec.ignoreSelection},t.prototype.destroy=function(){this.widget.type.destroy(this.dom),e.prototype.destroy.call(this)},n.domAtom.get=function(){return!0},Object.defineProperties(t.prototype,n),t}(rn),V9=function(e){function t(r,i,o,a){e.call(this,r,ia,i,null),this.textDOM=o,this.text=a}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(i,o){return i!=this.textDOM?this.posAtStart+(o?this.size:0):this.posAtStart+o},t.prototype.domFromPos=function(i){return{node:this.textDOM,offset:i}},t.prototype.ignoreMutation=function(i){return i.type==="characterData"&&i.target.nodeValue==i.oldValue},Object.defineProperties(t.prototype,n),t}(rn),Zg=function(e){function t(n,r,i,o){e.call(this,n,[],i,o),this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(r,i,o,a){var l=a.nodeViews[i.type.name],f=l&&l(i,a,o);return(!f||!f.dom)&&(f=lr.renderSpec(document,i.type.spec.toDOM(i,o))),new t(r,i,f.dom,f.contentDOM||f.dom)},t.prototype.parseRule=function(){return this.dirty&is||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(r){return this.dirty!=is&&this.mark.eq(r)},t.prototype.markDirty=function(r,i){if(e.prototype.markDirty.call(this,r,i),this.dirty!=Xi){for(var o=this.parent;!o.node;)o=o.parent;o.dirty<this.dirty&&(o.dirty=this.dirty),this.dirty=Xi}},t.prototype.slice=function(r,i,o){var a=t.create(this.parent,this.mark,!0,o),l=this.children,f=this.size;i<f&&(l=gy(l,i,f,o)),r>0&&(l=gy(l,0,r,o));for(var h=0;h<l.length;h++)l[h].parent=a;return a.children=l,a},t}(rn),xd=function(e){function t(r,i,o,a,l,f,h,p,m){e.call(this,r,i.isLeaf?ia:[],l,f),this.nodeDOM=h,this.node=i,this.outerDeco=o,this.innerDeco=a,f&&this.updateChildren(p,m)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return t.create=function(i,o,a,l,f,h){var p,m=f.nodeViews[o.type.name],v,b=m&&m(o,f,function(){if(!v)return h;if(v.parent)return v.parent.posBeforeChild(v)},a,l),_=b&&b.dom,k=b&&b.contentDOM;if(o.isText){if(!_)_=document.createTextNode(o.text);else if(_.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else _||(p=lr.renderSpec(document,o.type.spec.toDOM(o)),_=p.dom,k=p.contentDOM);!k&&!o.isText&&_.nodeName!="BR"&&(_.hasAttribute("contenteditable")||(_.contentEditable=!1),o.type.spec.draggable&&(_.draggable=!0));var C=_;return _=JO(_,a,o),b?v=new W9(i,o,a,l,_,k,C,b,f,h+1):o.isText?new UO(i,o,a,l,_,C,f):new t(i,o,a,l,_,k,C,f,h+1)},t.prototype.parseRule=function(){var i=this;if(this.node.type.spec.reparseInView)return null;var o={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(o.preserveWhitespace="full"),!this.contentDOM)o.getContent=function(){return i.node.content};else if(!this.contentLost)o.contentElement=this.contentDOM;else{for(var a=this.children.length-1;a>=0;a--){var l=this.children[a];if(this.dom.contains(l.dom.parentNode)){o.contentElement=l.dom.parentNode;break}}o.contentElement||(o.getContent=function(){return Ae.empty})}return o},t.prototype.matchesNode=function(i,o,a){return this.dirty==Xi&&i.eq(this.node)&&py(o,this.outerDeco)&&a.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(i,o){var a=this,l=this.node.inlineContent,f=o,h=i.composing&&this.localCompositionInfo(i,o),p=h&&h.pos>-1?h:null,m=h&&h.pos<0,v=new Ii(this,p&&p.node);G9(this.node,this.innerDeco,function(b,_,k){b.spec.marks?v.syncToMarks(b.spec.marks,l,i):b.type.side>=0&&!k&&v.syncToMarks(_==a.node.childCount?Lt.none:a.node.child(_).marks,l,i),v.placeWidget(b,i,f)},function(b,_,k,C){v.syncToMarks(b.marks,l,i);var E;v.findNodeMatch(b,_,k,C)||m&&i.state.selection.from>f&&i.state.selection.to<f+b.nodeSize&&(E=v.findIndexWithChild(h.node))>-1&&v.updateNodeAt(b,_,k,E,i)||v.updateNextNode(b,_,k,i,C)||v.addNode(b,_,k,i,f),f+=b.nodeSize}),v.syncToMarks(ia,l,i),this.node.isTextblock&&v.addTextblockHacks(),v.destroyRest(),(v.changed||this.dirty==bc)&&(p&&this.protectLocalComposition(i,p),qO(this.contentDOM,this.children,i),Ne.ios&&J9(this.dom))},t.prototype.localCompositionInfo=function(i,o){var a=i.state.selection,l=a.from,f=a.to;if(!(!(i.state.selection instanceof Ct)||l<o||f>o+this.node.content.size)){var h=i.root.getSelection(),p=Y9(h.focusNode,h.focusOffset);if(!(!p||!this.dom.contains(p.parentNode)))if(this.node.inlineContent){var m=p.nodeValue,v=X9(this.node.content,m,l-o,f-o);return v<0?null:{node:p,pos:v,text:m}}else return{node:p,pos:-1}}},t.prototype.protectLocalComposition=function(i,o){var a=o.node,l=o.pos,f=o.text;if(!this.getDesc(a)){for(var h=a;h.parentNode!=this.contentDOM;h=h.parentNode){for(;h.previousSibling;)h.parentNode.removeChild(h.previousSibling);for(;h.nextSibling;)h.parentNode.removeChild(h.nextSibling);h.pmViewDesc&&(h.pmViewDesc=null)}var p=new V9(this,h,a,f);i.compositionNodes.push(p),this.children=gy(this.children,l,l+f.length,i,p)}},t.prototype.update=function(i,o,a,l){return this.dirty==is||!i.sameMarkup(this.node)?!1:(this.updateInner(i,o,a,l),!0)},t.prototype.updateInner=function(i,o,a,l){this.updateOuterDeco(o),this.node=i,this.innerDeco=a,this.contentDOM&&this.updateChildren(l,this.posAtStart),this.dirty=Xi},t.prototype.updateOuterDeco=function(i){if(!py(i,this.outerDeco)){var o=this.nodeDOM.nodeType!=1,a=this.dom;this.dom=GO(this.dom,this.nodeDOM,hy(this.outerDeco,this.node,o),hy(i,this.node,o)),this.dom!=a&&(a.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=i}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(t.prototype,n),t}(rn);function WO(e,t,n,r,i){return JO(r,t,e),new xd(null,e,t,n,r,r,r,i,0)}var UO=function(e){function t(r,i,o,a,l,f,h){e.call(this,r,i,o,a,l,null,f,h)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.parseRule=function(){for(var i=this.nodeDOM.parentNode;i&&i!=this.dom&&!i.pmIsDeco;)i=i.parentNode;return{skip:i||!0}},t.prototype.update=function(i,o,a,l){return this.dirty==is||this.dirty!=Xi&&!this.inParent()||!i.sameMarkup(this.node)?!1:(this.updateOuterDeco(o),(this.dirty!=Xi||i.text!=this.node.text)&&i.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=i.text,l.trackWrites==this.nodeDOM&&(l.trackWrites=null)),this.node=i,this.dirty=Xi,!0)},t.prototype.inParent=function(){for(var i=this.parent.contentDOM,o=this.nodeDOM;o;o=o.parentNode)if(o==i)return!0;return!1},t.prototype.domFromPos=function(i){return{node:this.nodeDOM,offset:i}},t.prototype.localPosFromDOM=function(i,o,a){return i==this.nodeDOM?this.posAtStart+Math.min(o,this.node.text.length):e.prototype.localPosFromDOM.call(this,i,o,a)},t.prototype.ignoreMutation=function(i){return i.type!="characterData"&&i.type!="selection"},t.prototype.slice=function(i,o,a){var l=this.node.cut(i,o),f=document.createTextNode(l.text);return new t(this.parent,l,this.outerDeco,this.innerDeco,f,f,a)},t.prototype.markDirty=function(i,o){e.prototype.markDirty.call(this,i,o),this.dom!=this.nodeDOM&&(i==0||o==this.nodeDOM.nodeValue.length)&&(this.dirty=is)},n.domAtom.get=function(){return!1},Object.defineProperties(t.prototype,n),t}(xd),KO=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(i){return this.dirty==Xi&&this.dom.nodeName==i},n.domAtom.get=function(){return!0},n.ignoreForCoords.get=function(){return this.dom.nodeName=="IMG"},Object.defineProperties(t.prototype,n),t}(rn),W9=function(e){function t(n,r,i,o,a,l,f,h,p,m){e.call(this,n,r,i,o,a,l,f,p,m),this.spec=h}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(r,i,o,a){if(this.dirty==is)return!1;if(this.spec.update){var l=this.spec.update(r,i,o);return l&&this.updateInner(r,i,o,a),l}else return!this.contentDOM&&!r.isLeaf?!1:e.prototype.update.call(this,r,i,o,a)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(r,i,o,a){this.spec.setSelection?this.spec.setSelection(r,i,o):e.prototype.setSelection.call(this,r,i,o,a)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(r){return this.spec.stopEvent?this.spec.stopEvent(r):!1},t.prototype.ignoreMutation=function(r){return this.spec.ignoreMutation?this.spec.ignoreMutation(r):e.prototype.ignoreMutation.call(this,r)},t}(xd);function qO(e,t,n){for(var r=e.firstChild,i=!1,o=0;o<t.length;o++){var a=t[o],l=a.dom;if(l.parentNode==e){for(;l!=r;)r=YC(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(l,r);if(a instanceof Zg){var f=r?r.previousSibling:e.lastChild;qO(a.contentDOM,a.children,n),r=f?f.nextSibling:e.firstChild}}for(;r;)r=YC(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}function _c(e){e&&(this.nodeName=e)}_c.prototype=Object.create(null);var qa=[new _c];function hy(e,t,n){if(e.length==0)return qa;for(var r=n?qa[0]:new _c,i=[r],o=0;o<e.length;o++){var a=e[o].type.attrs;if(!!a){a.nodeName&&i.push(r=new _c(a.nodeName));for(var l in a){var f=a[l];f!=null&&(n&&i.length==1&&i.push(r=new _c(t.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+f:l=="style"?r.style=(r.style?r.style+";":"")+f:l!="nodeName"&&(r[l]=f))}}}return i}function GO(e,t,n,r){if(n==qa&&r==qa)return t;for(var i=t,o=0;o<r.length;o++){var a=r[o],l=n[o];if(o){var f=void 0;l&&l.nodeName==a.nodeName&&i!=e&&(f=i.parentNode)&&f.tagName.toLowerCase()==a.nodeName||(f=document.createElement(a.nodeName),f.pmIsDeco=!0,f.appendChild(i),l=qa[0]),i=f}U9(i,l||qa[0],a)}return i}function U9(e,t,n){for(var r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(var i in n)i!="class"&&i!="style"&&i!="nodeName"&&n[i]!=t[i]&&e.setAttribute(i,n[i]);if(t.class!=n.class){for(var o=t.class?t.class.split(" ").filter(Boolean):ia,a=n.class?n.class.split(" ").filter(Boolean):ia,l=0;l<o.length;l++)a.indexOf(o[l])==-1&&e.classList.remove(o[l]);for(var f=0;f<a.length;f++)o.indexOf(a[f])==-1&&e.classList.add(a[f]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style)for(var h=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,p;p=h.exec(t.style);)e.style.removeProperty(p[1]);n.style&&(e.style.cssText+=n.style)}}function JO(e,t,n){return GO(e,e,qa,hy(t,n,e.nodeType!=1))}function py(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function YC(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var Ii=function(t,n){this.top=t,this.lock=n,this.index=0,this.stack=[],this.changed=!1,this.preMatch=K9(t.node.content,t)};Ii.prototype.destroyBetween=function(t,n){if(t!=n){for(var r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}};Ii.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)};Ii.prototype.syncToMarks=function(t,n,r){for(var i=0,o=this.stack.length>>1,a=Math.min(o,t.length);i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Xi,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);for(var l=-1,f=this.index;f<Math.min(this.index+3,this.top.children.length);f++)if(this.top.children[f].matchesMark(t[o])){l=f;break}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{var h=Zg.create(this.top,t[o],n,r);this.top.children.splice(this.index,0,h),this.top=h,this.changed=!0}this.index=0,o++}};Ii.prototype.findNodeMatch=function(t,n,r,i){var o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(t,n,r))o=this.top.children.indexOf(a,this.index);else for(var l=this.index,f=Math.min(this.top.children.length,l+5);l<f;l++){var h=this.top.children[l];if(h.matchesNode(t,n,r)&&!this.preMatch.matched.has(h)){o=l;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)};Ii.prototype.updateNodeAt=function(t,n,r,i,o){var a=this.top.children[i];return a.update(t,n,r,o)?(this.destroyBetween(this.index,i),this.index=i+1,!0):!1};Ii.prototype.findIndexWithChild=function(t){for(;;){var n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){var r=t.pmViewDesc;if(r){for(var i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}};Ii.prototype.updateNextNode=function(t,n,r,i,o){for(var a=this.index;a<this.top.children.length;a++){var l=this.top.children[a];if(l instanceof xd){var f=this.preMatch.matched.get(l);if(f!=null&&f!=o)return!1;var h=l.dom,p=this.lock&&(h==this.lock||h.nodeType==1&&h.contains(this.lock.parentNode))&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=is&&py(n,l.outerDeco));if(!p&&l.update(t,n,r,i))return this.destroyBetween(this.index,a),l.dom!=h&&(this.changed=!0),this.index++,!0;break}}return!1};Ii.prototype.addNode=function(t,n,r,i,o){this.top.children.splice(this.index++,0,xd.create(this.top,t,n,r,i,o)),this.changed=!0};Ii.prototype.placeWidget=function(t,n,r){var i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{var o=new VO(this.top,t,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}};Ii.prototype.addTextblockHacks=function(){for(var t=this.top.children[this.index-1],n=this.top;t instanceof Zg;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof UO)||/\n$/.test(t.node.text))&&((Ne.safari||Ne.chrome)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))};Ii.prototype.addHackNode=function(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{var r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");var i=new KO(this.top,ia,r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}};function K9(e,t){var n=t,r=n.children.length,i=e.childCount,o=new Map,a=[];e:for(;i>0;){for(var l=void 0;;)if(r){var f=n.children[r-1];if(f instanceof Zg)n=f,r=f.children.length;else{l=f,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}var h=l.node;if(!!h){if(h!=e.child(i-1))break;--i,o.set(l,i),a.push(l)}}return{index:i,matched:o,matches:a.reverse()}}function q9(e,t){return e.type.side-t.type.side}function G9(e,t,n,r){var i=t.locals(e),o=0;if(i.length==0){for(var a=0;a<e.childCount;a++){var l=e.child(a);r(l,i,t.forChild(o,l),a),o+=l.nodeSize}return}for(var f=0,h=[],p=null,m=0;;){if(f<i.length&&i[f].to==o){for(var v=i[f++],b=void 0;f<i.length&&i[f].to==o;)(b||(b=[v])).push(i[f++]);if(b){b.sort(q9);for(var _=0;_<b.length;_++)n(b[_],m,!!p)}else n(v,m,!!p)}var k=void 0,C=void 0;if(p)C=-1,k=p,p=null;else if(m<e.childCount)C=m,k=e.child(m++);else break;for(var E=0;E<h.length;E++)h[E].to<=o&&h.splice(E--,1);for(;f<i.length&&i[f].from<=o&&i[f].to>o;)h.push(i[f++]);var S=o+k.nodeSize;if(k.isText){var F=S;f<i.length&&i[f].from<F&&(F=i[f].from);for(var O=0;O<h.length;O++)h[O].to<F&&(F=h[O].to);F<S&&(p=k.cut(F-o),k=k.cut(0,F-o),S=F,C=-1)}var K=h.length?k.isInline&&!k.isLeaf?h.filter(function(j){return!j.inline}):h.slice():ia;r(k,K,t.forChild(o,k),C),o=S}}function J9(e){if(e.nodeName=="UL"||e.nodeName=="OL"){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function Y9(e,t){for(;;){if(e.nodeType==3)return e;if(e.nodeType==1&&t>0){if(e.childNodes.length>t&&e.childNodes[t].nodeType==3)return e.childNodes[t];e=e.childNodes[t-1],t=mo(e)}else if(e.nodeType==1&&t<e.childNodes.length)e=e.childNodes[t],t=0;else return null}}function X9(e,t,n,r){for(var i=0,o=0;i<e.childCount&&o<=r;){var a=e.child(i++),l=o;if(o+=a.nodeSize,!!a.isText){for(var f=a.text;i<e.childCount;){var h=e.child(i++);if(o+=h.nodeSize,!h.isText)break;f+=h.text}if(o>=n){var p=l<r?f.lastIndexOf(t,r-l-1):-1;if(p>=0&&p+t.length+l>=n)return l+p;if(n==r&&f.length>=r+t.length-l&&f.slice(r-l,r-l+t.length)==t)return r}}}return-1}function gy(e,t,n,r,i){for(var o=[],a=0,l=0;a<e.length;a++){var f=e[a],h=l,p=l+=f.size;h>=n||p<=t?o.push(f):(h<t&&o.push(f.slice(0,t-h,r)),i&&(o.push(i),i=null),p>n&&o.push(f.slice(n-h,f.size,r)))}return o}function YO(e,t){var n=e.root.getSelection(),r=e.state.doc;if(!n.focusNode)return null;var i=e.docView.nearestDesc(n.focusNode),o=i&&i.size==0,a=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(a<0)return null;var l=r.resolve(a),f,h;if(y_(n)){for(f=l;i&&!i.node;)i=i.parent;if(i&&i.node.isAtom&&vt.isSelectable(i.node)&&i.parent&&!(i.node.isInline&&T9(n.focusNode,n.focusOffset,i.dom))){var p=i.posBefore;h=new vt(a==p?l:r.resolve(p))}}else{var m=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(m<0)return null;f=r.resolve(m)}if(!h){var v=t=="pointer"||e.state.selection.head<l.pos&&!o?1:-1;h=__(e,f,l,v)}return h}function XO(e){return e.editable?e.hasFocus():eD(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function ga(e,t){var n=e.state.selection;if(ZO(e,n),!!XO(e)){if(!t&&e.mouseDown&&e.mouseDown.allowDefault&&Ne.chrome){var r=e.root.getSelection(),i=e.domObserver.currentSelection;if(r.anchorNode&&td(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)Q9(e);else{var o=n.anchor,a=n.head,l,f;XC&&!(n instanceof Ct)&&(n.$from.parent.inlineContent||(l=ZC(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(f=ZC(e,n.to))),e.docView.setSelection(o,a,e.root,t),XC&&(l&&QC(l),f&&QC(f)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Z9(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}var XC=Ne.safari||Ne.chrome&&Ne.chrome_version<63;function ZC(e,t){var n=e.docView.domFromPos(t,0),r=n.node,i=n.offset,o=i<r.childNodes.length?r.childNodes[i]:null,a=i?r.childNodes[i-1]:null;if(Ne.safari&&o&&o.contentEditable=="false")return qv(o);if((!o||o.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(o)return qv(o);if(a)return qv(a)}}function qv(e){return e.contentEditable="true",Ne.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function QC(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Z9(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.hideSelectionGuard),setTimeout(function(){(!XO(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function Q9(e){var t=e.root.getSelection(),n=document.createRange(),r=e.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,ci(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&Ne.ie&&Ne.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}function ZO(e,t){if(t instanceof vt){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(eS(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else eS(e)}function eS(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function __(e,t,n,r){return e.someProp("createSelectionBetween",function(i){return i(e,t,n)})||Ct.between(t,n,r)}function QO(e){return e.editable&&e.root.activeElement!=e.dom?!1:eD(e)}function eD(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function e$(e){var t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.root.getSelection();return td(t.node,t.offset,n.anchorNode,n.anchorOffset)}function my(e,t){var n=e.selection,r=n.$anchor,i=n.$head,o=t>0?r.max(i):r.min(i),a=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return a&&yt.findFrom(a,t)}function Va(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function tS(e,t,n){var r=e.state.selection;if(r instanceof Ct){if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var i=my(e.state,t);return i&&i instanceof vt?Va(e,i):!1}else if(!(Ne.mac&&n.indexOf("m")>-1)){var o=r.$head,a=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter,l;if(!a||a.isText)return!1;var f=t<0?o.pos-a.nodeSize:o.pos;return a.isAtom||(l=e.docView.descAt(f))&&!l.contentDOM?vt.isSelectable(a)?Va(e,new vt(t<0?e.state.doc.resolve(o.pos-a.nodeSize):o)):Ne.webkit?Va(e,new Ct(e.state.doc.resolve(t<0?f:f+a.nodeSize))):!1:!1}}else{if(r instanceof vt&&r.node.isInline)return Va(e,new Ct(t>0?r.$to:r.$from));var h=my(e.state,t);return h?Va(e,h):!1}}function Op(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function wc(e){var t=e.pmViewDesc;return t&&t.size==0&&(e.nextSibling||e.nodeName!="BR")}function Gv(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(!!n){var i,o,a=!1;for(Ne.gecko&&n.nodeType==1&&r<Op(n)&&wc(n.childNodes[r])&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;var l=n.childNodes[r-1];if(wc(l))i=n,o=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}else{if(tD(n))break;for(var f=n.previousSibling;f&&wc(f);)i=n.parentNode,o=ci(f),f=f.previousSibling;if(f)n=f,r=Op(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}a?vy(e,t,n,r):i&&vy(e,t,i,o)}}function Jv(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(!!n){for(var i=Op(n),o,a;;)if(r<i){if(n.nodeType!=1)break;var l=n.childNodes[r];if(wc(l))o=n,a=++r;else break}else{if(tD(n))break;for(var f=n.nextSibling;f&&wc(f);)o=f.parentNode,a=ci(f)+1,f=f.nextSibling;if(f)n=f,r=0,i=Op(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}o&&vy(e,t,o,a)}}function tD(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function vy(e,t,n,r){if(y_(t)){var i=document.createRange();i.setEnd(n,r),i.setStart(n,r),t.removeAllRanges(),t.addRange(i)}else t.extend&&t.extend(n,r);e.domObserver.setCurSelection();var o=e.state;setTimeout(function(){e.state==o&&ga(e)},50)}function nS(e,t,n){var r=e.state.selection;if(r instanceof Ct&&!r.empty||n.indexOf("s")>-1||Ne.mac&&n.indexOf("m")>-1)return!1;var i=r.$from,o=r.$to;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var a=my(e.state,t);if(a&&a instanceof vt)return Va(e,a)}if(!i.parent.inlineContent){var l=t<0?i:o,f=r instanceof vs?yt.near(l,t):yt.findFrom(l,t);return f?Va(e,f):!1}return!1}function rS(e,t){if(!(e.state.selection instanceof Ct))return!0;var n=e.state.selection,r=n.$head,i=n.$anchor,o=n.empty;if(!r.sameParent(i))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var a=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){var l=e.state.tr;return t<0?l.delete(r.pos-a.nodeSize,r.pos):l.delete(r.pos,r.pos+a.nodeSize),e.dispatch(l),!0}return!1}function iS(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function t$(e){if(!(!Ne.safari||e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n&&n.nodeType==1&&r==0&&n.firstChild&&n.firstChild.contentEditable=="false"){var i=n.firstChild;iS(e,i,!0),setTimeout(function(){return iS(e,i,!1)},20)}}}function n$(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function r$(e,t){var n=t.keyCode,r=n$(t);return n==8||Ne.mac&&n==72&&r=="c"?rS(e,-1)||Gv(e):n==46||Ne.mac&&n==68&&r=="c"?rS(e,1)||Jv(e):n==13||n==27?!0:n==37?tS(e,-1,r)||Gv(e):n==39?tS(e,1,r)||Jv(e):n==38?nS(e,-1,r)||Gv(e):n==40?t$(e)||nS(e,1,r)||Jv(e):r==(Ne.mac?"m":"c")&&(n==66||n==73||n==89||n==90)}function i$(e,t,n){var r=e.docView.parseRange(t,n),i=r.node,o=r.fromOffset,a=r.toOffset,l=r.from,f=r.to,h=e.root.getSelection(),p=null,m=h.anchorNode;if(m&&e.dom.contains(m.nodeType==1?m:m.parentNode)&&(p=[{node:m,offset:h.anchorOffset}],y_(h)||p.push({node:h.focusNode,offset:h.focusOffset})),Ne.chrome&&e.lastKeyCode===8)for(var v=a;v>o;v--){var b=i.childNodes[v-1],_=b.pmViewDesc;if(b.nodeName=="BR"&&!_){a=v;break}if(!_||_.size)break}var k=e.state.doc,C=e.someProp("domParser")||Yi.fromSchema(e.state.schema),E=k.resolve(l),S=null,F=C.parse(i,{topNode:E.parent,topMatch:E.parent.contentMatchAt(E.index()),topOpen:!0,from:o,to:a,preserveWhitespace:E.parent.type.whitespace=="pre"?"full":!0,editableContent:!0,findPositions:p,ruleFromNode:o$,context:E});if(p&&p[0].pos!=null){var O=p[0].pos,K=p[1]&&p[1].pos;K==null&&(K=O),S={anchor:O+l,head:K+l}}return{doc:F,sel:S,from:l,to:f}}function o$(e){var t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Ne.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Ne.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function s$(e,t,n,r,i){if(t<0){var o=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,a=YO(e,o);if(a&&!e.state.selection.eq(a)){var l=e.state.tr.setSelection(a);o=="pointer"?l.setMeta("pointer",!0):o=="key"&&l.scrollIntoView(),e.dispatch(l)}return}var f=e.state.doc.resolve(t),h=f.sharedDepth(n);t=f.before(h+1),n=e.state.doc.resolve(n).after(h+1);var p=e.state.selection,m=i$(e,t,n);if(Ne.chrome&&e.cursorWrapper&&m.sel&&m.sel.anchor==e.cursorWrapper.deco.from){var v=e.cursorWrapper.deco.type.toDOM.nextSibling,b=v&&v.nodeValue?v.nodeValue.length:1;m.sel={anchor:m.sel.anchor+b,head:m.sel.anchor+b}}var _=e.state.doc,k=_.slice(m.from,m.to),C,E;e.lastKeyCode===8&&Date.now()-100<e.lastKeyCodeTime?(C=e.state.selection.to,E="end"):(C=e.state.selection.from,E="start"),e.lastKeyCode=null;var S=u$(k.content,m.doc.content,m.from,C,E);if((Ne.ios&&e.lastIOSEnter>Date.now()-225||Ne.android)&&i.some(function(ce){return ce.nodeName=="DIV"||ce.nodeName=="P"})&&(!S||S.endA>=S.endB)&&e.someProp("handleKeyDown",function(ce){return ce(e,ou(13,"Enter"))})){e.lastIOSEnter=0;return}if(!S)if(r&&p instanceof Ct&&!p.empty&&p.$head.sameParent(p.$anchor)&&!e.composing&&!(m.sel&&m.sel.anchor!=m.sel.head))S={start:p.from,endA:p.to,endB:p.to};else{if(m.sel){var F=oS(e,e.state.doc,m.sel);F&&!F.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(F))}return}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&S.start==S.endB&&e.state.selection instanceof Ct&&(S.start>e.state.selection.from&&S.start<=e.state.selection.from+2&&e.state.selection.from>=m.from?S.start=e.state.selection.from:S.endA<e.state.selection.to&&S.endA>=e.state.selection.to-2&&e.state.selection.to<=m.to&&(S.endB+=e.state.selection.to-S.endA,S.endA=e.state.selection.to)),Ne.ie&&Ne.ie_version<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>m.from&&m.doc.textBetween(S.start-m.from-1,S.start-m.from+1)==" \xA0"&&(S.start--,S.endA--,S.endB--);var O=m.doc.resolveNoCache(S.start-m.from),K=m.doc.resolveNoCache(S.endB-m.from),j=O.sameParent(K)&&O.parent.inlineContent,U;if((Ne.ios&&e.lastIOSEnter>Date.now()-225&&(!j||i.some(function(ce){return ce.nodeName=="DIV"||ce.nodeName=="P"}))||!j&&O.pos<m.doc.content.size&&(U=yt.findFrom(m.doc.resolve(O.pos+1),1,!0))&&U.head==K.pos)&&e.someProp("handleKeyDown",function(ce){return ce(e,ou(13,"Enter"))})){e.lastIOSEnter=0;return}if(e.state.selection.anchor>S.start&&l$(_,S.start,S.endA,O,K)&&e.someProp("handleKeyDown",function(ce){return ce(e,ou(8,"Backspace"))})){Ne.android&&Ne.chrome&&e.domObserver.suppressSelectionUpdates();return}Ne.chrome&&Ne.android&&S.toB==S.from&&(e.lastAndroidDelete=Date.now()),Ne.android&&!j&&O.start()!=K.start()&&K.parentOffset==0&&O.depth==K.depth&&m.sel&&m.sel.anchor==m.sel.head&&m.sel.head==S.endA&&(S.endB-=2,K=m.doc.resolveNoCache(S.endB-m.from),setTimeout(function(){e.someProp("handleKeyDown",function(ce){return ce(e,ou(13,"Enter"))})},20));var q=S.start,B=S.endA,R,V,Z,W;if(j){if(O.pos==K.pos)Ne.ie&&Ne.ie_version<=11&&O.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(function(){return ga(e)},20)),R=e.state.tr.delete(q,B),V=_.resolve(S.start).marksAcross(_.resolve(S.endA));else if(S.endA==S.endB&&(W=_.resolve(S.start))&&(Z=a$(O.parent.content.cut(O.parentOffset,K.parentOffset),W.parent.content.cut(W.parentOffset,S.endA-W.start()))))R=e.state.tr,Z.type=="add"?R.addMark(q,B,Z.mark):R.removeMark(q,B,Z.mark);else if(O.parent.child(O.index()).isText&&O.index()==K.index()-(K.textOffset?0:1)){var ie=O.parent.textBetween(O.parentOffset,K.parentOffset);if(e.someProp("handleTextInput",function(ce){return ce(e,q,B,ie)}))return;R=e.state.tr.insertText(ie,q,B)}}if(R||(R=e.state.tr.replace(q,B,m.doc.slice(S.start-m.from,S.endB-m.from))),m.sel){var L=oS(e,R.doc,m.sel);L&&!(Ne.chrome&&Ne.android&&e.composing&&L.empty&&(S.start!=S.endB||e.lastAndroidDelete<Date.now()-100)&&(L.head==q||L.head==R.mapping.map(B)-1)||Ne.ie&&L.empty&&L.head==q)&&R.setSelection(L)}V&&R.ensureMarks(V),e.dispatch(R.scrollIntoView())}function oS(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:__(e,t.resolve(n.anchor),t.resolve(n.head))}function a$(e,t){for(var n=e.firstChild.marks,r=t.firstChild.marks,i=n,o=r,a,l,f,h=0;h<r.length;h++)i=r[h].removeFromSet(i);for(var p=0;p<n.length;p++)o=n[p].removeFromSet(o);if(i.length==1&&o.length==0)l=i[0],a="add",f=function(b){return b.mark(l.addToSet(b.marks))};else if(i.length==0&&o.length==1)l=o[0],a="remove",f=function(b){return b.mark(l.removeFromSet(b.marks))};else return null;for(var m=[],v=0;v<t.childCount;v++)m.push(f(t.child(v)));if(Ae.from(m).eq(e))return{mark:l,type:a}}function l$(e,t,n,r,i){if(!r.parent.isTextblock||n-t<=i.pos-r.pos||Yv(r,!0,!1)<i.pos)return!1;var o=e.resolve(t);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;var a=e.resolve(Yv(o,!0,!0));return!a.parent.isTextblock||a.pos>n||Yv(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function Yv(e,t,n){for(var r=e.depth,i=t?e.end():e.pos;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n)for(var o=e.node(r).maybeChild(e.indexAfter(r));o&&!o.isLeaf;)o=o.firstChild,i++;return i}function u$(e,t,n,r,i){var o=e.findDiffStart(t,n);if(o==null)return null;var a=e.findDiffEnd(t,n+e.size,n+t.size),l=a.a,f=a.b;if(i=="end"){var h=Math.max(0,o-Math.min(l,f));r-=l+h-o}if(l<o&&e.size<t.size){var p=r<=o&&r>=l?o-r:0;o-=p,f=o+(f-l),l=o}else if(f<o){var m=r<=o&&r>=f?o-r:0;o-=m,l=o+(l-f),f=o}return{start:o,endA:l,endB:f}}function nD(e,t){for(var n=[],r=t.content,i=t.openStart,o=t.openEnd;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;var a=r.firstChild;n.push(a.type.name,a.attrs!=a.type.defaultAttrs?a.attrs:null),r=a.content}var l=e.someProp("clipboardSerializer")||lr.fromSchema(e.state.schema),f=lD(),h=f.createElement("div");h.appendChild(l.serializeFragment(r,{document:f}));for(var p=h.firstChild,m;p&&p.nodeType==1&&(m=aD[p.nodeName.toLowerCase()]);){for(var v=m.length-1;v>=0;v--){for(var b=f.createElement(m[v]);h.firstChild;)b.appendChild(h.firstChild);h.appendChild(b),m[v]!="tbody"&&(i++,o++)}p=h.firstChild}p&&p.nodeType==1&&p.setAttribute("data-pm-slice",i+" "+o+" "+JSON.stringify(n));var _=e.someProp("clipboardTextSerializer",function(k){return k(t)})||t.content.textBetween(0,t.content.size,`

`);return{dom:h,text:_}}function rD(e,t,n,r,i){var o,a=i.parent.type.spec.code,l;if(!n&&!t)return null;var f=t&&(r||a||!n);if(f){if(e.someProp("transformPastedText",function(K){t=K(t,a||r)}),a)return t?new Je(Ae.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):Je.empty;var h=e.someProp("clipboardTextParser",function(K){return K(t,i,r)});if(h)l=h;else{var p=i.marks(),m=e.state,v=m.schema,b=lr.fromSchema(v);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(function(K){var j=o.appendChild(document.createElement("p"));K&&j.appendChild(b.serializeNode(v.text(K,p)))})}}else e.someProp("transformPastedHTML",function(K){n=K(n)}),o=d$(n),Ne.webkit&&h$(o);var _=o&&o.querySelector("[data-pm-slice]"),k=_&&/^(\d+) (\d+) (.*)/.exec(_.getAttribute("data-pm-slice"));if(!l){var C=e.someProp("clipboardParser")||e.someProp("domParser")||Yi.fromSchema(e.state.schema);l=C.parseSlice(o,{preserveWhitespace:!!(f||k),context:i,ruleFromNode:function(j){if(j.nodeName=="BR"&&!j.nextSibling&&j.parentNode&&!f$.test(j.parentNode.nodeName))return{ignore:!0}}})}if(k)l=p$(sS(l,+k[1],+k[2]),k[3]);else if(l=Je.maxOpen(c$(l.content,i),!0),l.openStart||l.openEnd){for(var E=0,S=0,F=l.content.firstChild;E<l.openStart&&!F.type.spec.isolating;E++,F=F.firstChild);for(var O=l.content.lastChild;S<l.openEnd&&!O.type.spec.isolating;S++,O=O.lastChild);l=sS(l,E,S)}return e.someProp("transformPasted",function(K){l=K(l)}),l}var f$=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function c$(e,t){if(e.childCount<2)return e;for(var n=function(o){var a=t.node(o),l=a.contentMatchAt(t.index(o)),f=void 0,h=[];if(e.forEach(function(p){if(!!h){var m=l.findWrapping(p.type),v;if(!m)return h=null;if(v=h.length&&f.length&&oD(m,f,p,h[h.length-1],0))h[h.length-1]=v;else{h.length&&(h[h.length-1]=sD(h[h.length-1],f.length));var b=iD(p,m);h.push(b),l=l.matchType(b.type,b.attrs),f=m}}}),h)return{v:Ae.from(h)}},r=t.depth;r>=0;r--){var i=n(r);if(i)return i.v}return e}function iD(e,t,n){n===void 0&&(n=0);for(var r=t.length-1;r>=n;r--)e=t[r].create(null,Ae.from(e));return e}function oD(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){var o=oD(e,t,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));var a=r.contentMatchAt(r.childCount);if(a.matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(Ae.from(iD(n,e,i+1))))}}function sD(e,t){if(t==0)return e;var n=e.content.replaceChild(e.childCount-1,sD(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Ae.empty,!0);return e.copy(n.append(r))}function yy(e,t,n,r,i,o){var a=t<0?e.firstChild:e.lastChild,l=a.content;return i<r-1&&(l=yy(l,t,n,r,i+1,o)),i>=n&&(l=t<0?a.contentMatchAt(0).fillBefore(l,e.childCount>1||o<=i).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(Ae.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(l))}function sS(e,t,n){return t<e.openStart&&(e=new Je(yy(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Je(yy(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}var aD={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},aS=null;function lD(){return aS||(aS=document.implementation.createHTMLDocument("title"))}function d$(e){var t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n=lD().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&aD[r[1].toLowerCase()])&&(e=i.map(function(a){return"<"+a+">"}).join("")+e+i.map(function(a){return"</"+a+">"}).reverse().join("")),n.innerHTML=e,i)for(var o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function h$(e){for(var t=e.querySelectorAll(Ne.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<t.length;n++){var r=t[n];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function p$(e,t){if(!e.size)return e;var n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}for(var i=e.content,o=e.openStart,a=e.openEnd,l=r.length-2;l>=0;l-=2){var f=n.nodes[r[l]];if(!f||f.hasRequiredAttrs())break;i=Ae.from(f.create(r[l+1],i)),o++,a++}return new Je(i,o,a)}var g$={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},w_=Ne.ie&&Ne.ie_version<=11,k_=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};k_.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset};k_.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var pi=function(t,n){var r=this;this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver(function(i){for(var o=0;o<i.length;o++)r.queue.push(i[o]);Ne.ie&&Ne.ie_version<=11&&i.some(function(a){return a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length})?r.flushSoon():r.flush()}),this.currentSelection=new k_,w_&&(this.onCharData=function(i){r.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),r.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};pi.prototype.flushSoon=function(){var t=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){t.flushingSoon=-1,t.flush()},20))};pi.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())};pi.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,g$),w_&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()};pi.prototype.stop=function(){var t=this;if(this.observer){var n=this.observer.takeRecords();if(n.length){for(var r=0;r<n.length;r++)this.queue.push(n[r]);window.setTimeout(function(){return t.flush()},20)}this.observer.disconnect()}w_&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()};pi.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)};pi.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)};pi.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return t.suppressingSelectionUpdates=!1},50)};pi.prototype.onSelectionChange=function(){if(!!QO(this.view)){if(this.suppressingSelectionUpdates)return ga(this.view);if(Ne.ie&&Ne.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&td(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}};pi.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())};pi.prototype.ignoreSelectionChange=function(t){if(t.rangeCount==0)return!0;var n=t.getRangeAt(0).commonAncestorContainer,r=this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0};pi.prototype.flush=function(){if(!(!this.view.docView||this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var n=this.view.root.getSelection(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&QO(this.view)&&!this.ignoreSelectionChange(n),i=-1,o=-1,a=!1,l=[];if(this.view.editable)for(var f=0;f<t.length;f++){var h=this.registerMutation(t[f],l);h&&(i=i<0?h.from:Math.min(h.from,i),o=o<0?h.to:Math.max(h.to,o),h.typeOver&&(a=!0))}if(Ne.gecko&&l.length>1){var p=l.filter(function(b){return b.nodeName=="BR"});if(p.length==2){var m=p[0],v=p[1];m.parentNode&&m.parentNode.parentNode==v.parentNode?v.remove():m.remove()}}(i>-1||r)&&(i>-1&&(this.view.docView.markDirty(i,o),m$(this.view)),this.handleDOMChange(i,o,a,l),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(n)||ga(this.view),this.currentSelection.set(n))}};pi.prototype.registerMutation=function(t,n){if(n.indexOf(t.target)>-1)return null;var r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(var i=0;i<t.addedNodes.length;i++)n.push(t.addedNodes[i]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};var o=t.previousSibling,a=t.nextSibling;if(Ne.ie&&Ne.ie_version<=11&&t.addedNodes.length)for(var l=0;l<t.addedNodes.length;l++){var f=t.addedNodes[l],h=f.previousSibling,p=f.nextSibling;(!h||Array.prototype.indexOf.call(t.addedNodes,h)<0)&&(o=h),(!p||Array.prototype.indexOf.call(t.addedNodes,p)<0)&&(a=p)}var m=o&&o.parentNode==t.target?ci(o)+1:0,v=r.localPosFromDOM(t.target,m,-1),b=a&&a.parentNode==t.target?ci(a):t.target.childNodes.length,_=r.localPosFromDOM(t.target,b,1);return{from:v,to:_}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var lS=!1;function m$(e){lS||(lS=!0,getComputedStyle(e.dom).whiteSpace=="normal"&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}var Xr={},$r={};function v$(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.lastAndroidDelete=0,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new pi(e,function(r,i,o,a){return s$(e,r,i,o,a)}),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(r){var i=Xr[r];e.dom.addEventListener(r,e.eventHandlers[r]=function(o){b$(e,o)&&!C_(e,o)&&(e.editable||!(o.type in $r))&&i(e,o)})};for(var n in Xr)t(n);Ne.safari&&e.dom.addEventListener("input",function(){return null}),x_(e)}function ul(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function y$(e){e.domObserver.stop();for(var t in e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}function x_(e){e.someProp("handleDOMEvents",function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(r){return C_(e,r)})})}function C_(e,t){return e.someProp("handleDOMEvents",function(n){var r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function b$(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function _$(e,t){!C_(e,t)&&Xr[t.type]&&(e.editable||!(t.type in $r))&&Xr[t.type](e,t)}$r.keydown=function(e,t){if(e.shiftKey=t.keyCode==16||t.shiftKey,!fD(e,t)&&(e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!(Ne.android&&Ne.chrome&&t.keyCode==13)))if(t.keyCode!=229&&e.domObserver.forceFlush(),Ne.ios&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){var n=Date.now();e.lastIOSEnter=n,e.lastIOSEnterFallbackTimeout=setTimeout(function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",function(r){return r(e,ou(13,"Enter"))}),e.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",function(r){return r(e,t)})||r$(e,t)?t.preventDefault():ul(e,"key")};$r.keyup=function(e,t){t.keyCode==16&&(e.shiftKey=!1)};$r.keypress=function(e,t){if(!(fD(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||Ne.mac&&t.metaKey)){if(e.someProp("handleKeyPress",function(i){return i(e,t)})){t.preventDefault();return}var n=e.state.selection;if(!(n instanceof Ct)||!n.$from.sameParent(n.$to)){var r=String.fromCharCode(t.charCode);e.someProp("handleTextInput",function(i){return i(e,n.$from.pos,n.$to.pos,r)})||e.dispatch(e.state.tr.insertText(r).scrollIntoView()),t.preventDefault()}}};function Qg(e){return{left:e.clientX,top:e.clientY}}function w$(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function S_(e,t,n,r,i){if(r==-1)return!1;for(var o=e.state.doc.resolve(r),a=function(h){if(e.someProp(t,function(p){return h>o.depth?p(e,n,o.nodeAfter,o.before(h),i,!0):p(e,n,o.node(h),o.before(h),i,!1)}))return{v:!0}},l=o.depth+1;l>0;l--){var f=a(l);if(f)return f.v}return!1}function ku(e,t,n){e.focused||e.focus();var r=e.state.tr.setSelection(t);n=="pointer"&&r.setMeta("pointer",!0),e.dispatch(r)}function k$(e,t){if(t==-1)return!1;var n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&vt.isSelectable(r)?(ku(e,new vt(n),"pointer"),!0):!1}function x$(e,t){if(t==-1)return!1;var n=e.state.selection,r,i;n instanceof vt&&(r=n.node);for(var o=e.state.doc.resolve(t),a=o.depth+1;a>0;a--){var l=a>o.depth?o.nodeAfter:o.node(a);if(vt.isSelectable(l)){r&&n.$from.depth>0&&a>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(a);break}}return i!=null?(ku(e,vt.create(e.state.doc,i),"pointer"),!0):!1}function C$(e,t,n,r,i){return S_(e,"handleClickOn",t,n,r)||e.someProp("handleClick",function(o){return o(e,t,r)})||(i?x$(e,n):k$(e,n))}function S$(e,t,n,r){return S_(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",function(i){return i(e,t,r)})}function T$(e,t,n,r){return S_(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",function(i){return i(e,t,r)})||E$(e,n,r)}function E$(e,t,n){if(n.button!=0)return!1;var r=e.state.doc;if(t==-1)return r.inlineContent?(ku(e,Ct.create(r,0,r.content.size),"pointer"),!0):!1;for(var i=r.resolve(t),o=i.depth+1;o>0;o--){var a=o>i.depth?i.nodeAfter:i.node(o),l=i.before(o);if(a.inlineContent)ku(e,Ct.create(r,l+1,l+1+a.content.size),"pointer");else if(vt.isSelectable(a))ku(e,vt.create(r,l),"pointer");else continue;return!0}}function T_(e){return Dp(e)}var uD=Ne.mac?"metaKey":"ctrlKey";Xr.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=T_(e),r=Date.now(),i="singleClick";r-e.lastClick.time<500&&w$(t,e.lastClick)&&!t[uD]&&(e.lastClick.type=="singleClick"?i="doubleClick":e.lastClick.type=="doubleClick"&&(i="tripleClick")),e.lastClick={time:r,x:t.clientX,y:t.clientY,type:i};var o=e.posAtCoords(Qg(t));!o||(i=="singleClick"?(e.mouseDown&&e.mouseDown.done(),e.mouseDown=new em(e,o,t,n)):(i=="doubleClick"?S$:T$)(e,o.pos,o.inside,t)?t.preventDefault():ul(e,"pointer"))};var em=function(t,n,r,i){var o=this;this.view=t,this.startDoc=t.state.doc,this.pos=n,this.event=r,this.flushed=i,this.selectNode=r[uD],this.allowDefault=r.shiftKey,this.delayedSelectionSync=!1;var a,l;if(n.inside>-1)a=t.state.doc.nodeAt(n.inside),l=n.inside;else{var f=t.state.doc.resolve(n.pos);a=f.parent,l=f.depth?f.before():0}this.mightDrag=null;var h=i?null:r.target,p=h?t.docView.nearestDesc(h,!0):null;this.target=p?p.dom:null;var m=t.state,v=m.selection;(r.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||v instanceof vt&&v.from<=l&&v.to>l)&&(this.mightDrag={node:a,pos:l,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&Ne.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){o.view.mouseDown==o&&o.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),ul(t,"pointer")};em.prototype.done=function(){var t=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return ga(t.view)}),this.view.mouseDown=null};em.prototype.up=function(t){if(this.done(),!!this.view.dom.contains(t.target.nodeType==3?t.target.parentNode:t.target)){var n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Qg(t))),this.allowDefault||!n?ul(this.view,"pointer"):C$(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Ne.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||Ne.chrome&&!(this.view.state.selection instanceof Ct)&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ku(this.view,yt.near(this.view.state.doc.resolve(n.pos)),"pointer"),t.preventDefault()):ul(this.view,"pointer")}};em.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),ul(this.view,"pointer"),t.buttons==0&&this.done()};Xr.touchdown=function(e){T_(e),ul(e,"pointer")};Xr.contextmenu=function(e){return T_(e)};function fD(e,t){return e.composing?!0:Ne.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500?(e.compositionEndedAt=-2e8,!0):!1}var A$=Ne.android?5e3:-1;$r.compositionstart=$r.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(function(l){return l.type.spec.inclusive===!1})))e.markCursor=e.state.storedMarks||n.marks(),Dp(e,!0),e.markCursor=null;else if(Dp(e),Ne.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=e.root.getSelection(),i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){var a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){r.collapse(a,a.nodeValue.length);break}else i=a,o=-1}e.composing=!0}cD(e,A$)};$r.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,cD(e,20))};function cD(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout(function(){return Dp(e)},t))}function dD(e){for(e.composing&&(e.composing=!1,e.compositionEndedAt=O$());e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty()}function O$(){var e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Dp(e,t){if(!(Ne.android&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),dD(e),t||e.docView&&e.docView.dirty){var n=YO(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}}function D$(e,t){if(!!e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}}var zu=Ne.ie&&Ne.ie_version<15||Ne.ios&&Ne.webkit_version<604;Xr.copy=$r.cut=function(e,t){var n=e.state.selection,r=t.type=="cut";if(!n.empty){var i=zu?null:t.clipboardData,o=n.content(),a=nD(e,o),l=a.dom,f=a.text;i?(t.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",f)):D$(e,l),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}};function M$(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function N$(e,t){if(!!e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(function(){e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?by(e,r.value,null,t):by(e,r.textContent,r.innerHTML,t)},50)}}function by(e,t,n,r){var i=rD(e,t,n,e.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",function(l){return l(e,r,i||Je.empty)}))return!0;if(!i)return!1;var o=M$(i),a=o?e.state.tr.replaceSelectionWith(o,e.shiftKey):e.state.tr.replaceSelection(i);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}$r.paste=function(e,t){if(!(e.composing&&!Ne.android)){var n=zu?null:t.clipboardData;n&&by(e,n.getData("text/plain"),n.getData("text/html"),t)?t.preventDefault():N$(e,t)}};var L$=function(t,n){this.slice=t,this.move=n},hD=Ne.mac?"altKey":"ctrlKey";Xr.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),!!t.dataTransfer){var r=e.state.selection,i=r.empty?null:e.posAtCoords(Qg(t));if(!(i&&i.pos>=r.from&&i.pos<=(r instanceof vt?r.to-1:r.to))){if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(vt.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&t.target.nodeType==1){var o=e.docView.nearestDesc(t.target,!0);o&&o.node.type.spec.draggable&&o!=e.docView&&e.dispatch(e.state.tr.setSelection(vt.create(e.state.doc,o.posBefore)))}}var a=e.state.selection.content(),l=nD(e,a),f=l.dom,h=l.text;t.dataTransfer.clearData(),t.dataTransfer.setData(zu?"Text":"text/html",f.innerHTML),t.dataTransfer.effectAllowed="copyMove",zu||t.dataTransfer.setData("text/plain",h),e.dragging=new L$(a,!t[hD])}};Xr.dragend=function(e){var t=e.dragging;window.setTimeout(function(){e.dragging==t&&(e.dragging=null)},50)};$r.dragover=$r.dragenter=function(e,t){return t.preventDefault()};$r.drop=function(e,t){var n=e.dragging;if(e.dragging=null,!!t.dataTransfer){var r=e.posAtCoords(Qg(t));if(!!r){var i=e.state.doc.resolve(r.pos);if(!!i){var o=n&&n.slice;o?e.someProp("transformPasted",function(_){o=_(o)}):o=rD(e,t.dataTransfer.getData(zu?"Text":"text/plain"),zu?null:t.dataTransfer.getData("text/html"),!1,i);var a=n&&!t[hD];if(e.someProp("handleDrop",function(_){return _(e,t,o||Je.empty,a)})){t.preventDefault();return}if(!!o){t.preventDefault();var l=o?hO(e.state.doc,i.pos,o):i.pos;l==null&&(l=i.pos);var f=e.state.tr;a&&f.deleteSelection();var h=f.mapping.map(l),p=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,m=f.doc;if(p?f.replaceRangeWith(h,h,o.content.firstChild):f.replaceRange(h,h,o),!f.doc.eq(m)){var v=f.doc.resolve(h);if(p&&vt.isSelectable(o.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(o.content.firstChild))f.setSelection(new vt(v));else{var b=f.mapping.map(l);f.mapping.maps[f.mapping.maps.length-1].forEach(function(_,k,C,E){return b=E}),f.setSelection(__(e,v,f.doc.resolve(b)))}e.focus(),e.dispatch(f.setMeta("uiEvent","drop"))}}}}}};Xr.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&ga(e)},20))};Xr.blur=function(e,t){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),t.relatedTarget&&e.dom.contains(t.relatedTarget)&&e.domObserver.currentSelection.set({}),e.focused=!1)};Xr.beforeinput=function(e,t){if(Ne.chrome&&Ne.android&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();var n=e.domChangeCount;setTimeout(function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",function(o){return o(e,ou(8,"Backspace"))}))){var r=e.state.selection,i=r.$cursor;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())}},50)}};for(var uS in $r)Xr[uS]=$r[uS];function nd(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1;return!0}var $u=function(t,n){this.spec=n||Cl,this.side=this.spec.side||0,this.toDOM=t};$u.prototype.map=function(t,n,r,i){var o=t.mapResult(n.from+i,this.side<0?-1:1),a=o.pos,l=o.deleted;return l?null:new qn(a-r,a-r,this)};$u.prototype.valid=function(){return!0};$u.prototype.eq=function(t){return this==t||t instanceof $u&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&nd(this.spec,t.spec))};$u.prototype.destroy=function(t){this.spec.destroy&&this.spec.destroy(t)};var Qi=function(t,n){this.spec=n||Cl,this.attrs=t};Qi.prototype.map=function(t,n,r,i){var o=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=a?null:new qn(o,a,this)};Qi.prototype.valid=function(t,n){return n.from<n.to};Qi.prototype.eq=function(t){return this==t||t instanceof Qi&&nd(this.attrs,t.attrs)&&nd(this.spec,t.spec)};Qi.is=function(t){return t.type instanceof Qi};var rd=function(t,n){this.spec=n||Cl,this.attrs=t};rd.prototype.map=function(t,n,r,i){var o=t.mapResult(n.from+i,1);if(o.deleted)return null;var a=t.mapResult(n.to+i,-1);return a.deleted||a.pos<=o.pos?null:new qn(o.pos-r,a.pos-r,this)};rd.prototype.valid=function(t,n){var r=t.content.findIndex(n.from),i=r.index,o=r.offset,a;return o==n.from&&!(a=t.child(i)).isText&&o+a.nodeSize==n.to};rd.prototype.eq=function(t){return this==t||t instanceof rd&&nd(this.attrs,t.attrs)&&nd(this.spec,t.spec)};var qn=function(t,n,r){this.from=t,this.to=n,this.type=r},E_={spec:{configurable:!0},inline:{configurable:!0}};qn.prototype.copy=function(t,n){return new qn(t,n,this.type)};qn.prototype.eq=function(t,n){return n===void 0&&(n=0),this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to};qn.prototype.map=function(t,n,r){return this.type.map(t,this,n,r)};qn.widget=function(t,n,r){return new qn(t,t,new $u(n,r))};qn.inline=function(t,n,r,i){return new qn(t,n,new Qi(r,i))};qn.node=function(t,n,r,i){return new qn(t,n,new rd(r,i))};E_.spec.get=function(){return this.type.spec};E_.inline.get=function(){return this.type instanceof Qi};Object.defineProperties(qn.prototype,E_);var Mp=[],Cl={},Jt=function(t,n){this.local=t&&t.length?t:Mp,this.children=n&&n.length?n:Mp};Jt.create=function(t,n){return n.length?tm(n,t,0,Cl):ur};Jt.prototype.find=function(t,n,r){var i=[];return this.findInner(t==null?0:t,n==null?1e9:n,i,0,r),i};Jt.prototype.findInner=function(t,n,r,i,o){for(var a=0;a<this.local.length;a++){var l=this.local[a];l.from<=n&&l.to>=t&&(!o||o(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(var f=0;f<this.children.length;f+=3)if(this.children[f]<n&&this.children[f+1]>t){var h=this.children[f]+1;this.children[f+2].findInner(t-h,n-h,r,i+h,o)}};Jt.prototype.map=function(t,n,r){return this==ur||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Cl)};Jt.prototype.mapInner=function(t,n,r,i,o){for(var a,l=0;l<this.local.length;l++){var f=this.local[l].map(t,r,i);f&&f.type.valid(n,f)?(a||(a=[])).push(f):o.onRemove&&o.onRemove(this.local[l].spec)}return this.children.length?P$(this.children,a,t,n,r,i,o):a?new Jt(a.sort(Sl)):ur};Jt.prototype.add=function(t,n){return n.length?this==ur?Jt.create(t,n):this.addInner(t,n,0):this};Jt.prototype.addInner=function(t,n,r){var i=this,o,a=0;t.forEach(function(h,p){var m=p+r,v;if(!!(v=gD(n,h,m))){for(o||(o=i.children.slice());a<o.length&&o[a]<p;)a+=3;o[a]==p?o[a+2]=o[a+2].addInner(h,v,m+1):o.splice(a,0,p,p+h.nodeSize,tm(v,h,m+1,Cl)),a+=3}});for(var l=pD(a?mD(n):n,-r),f=0;f<l.length;f++)l[f].type.valid(t,l[f])||l.splice(f--,1);return new Jt(l.length?this.local.concat(l).sort(Sl):this.local,o||this.children)};Jt.prototype.remove=function(t){return t.length==0||this==ur?this:this.removeInner(t,0)};Jt.prototype.removeInner=function(t,n){for(var r=this.children,i=this.local,o=0;o<r.length;o+=3){for(var a=void 0,l=r[o]+n,f=r[o+1]+n,h=0,p=void 0;h<t.length;h++)(p=t[h])&&p.from>l&&p.to<f&&(t[h]=null,(a||(a=[])).push(p));if(!!a){r==this.children&&(r=this.children.slice());var m=r[o+2].removeInner(a,l+1);m!=ur?r[o+2]=m:(r.splice(o,3),o-=3)}}if(i.length){for(var v=0,b=void 0;v<t.length;v++)if(b=t[v])for(var _=0;_<i.length;_++)i[_].eq(b,n)&&(i==this.local&&(i=this.local.slice()),i.splice(_--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Jt(i,r):ur};Jt.prototype.forChild=function(t,n){if(this==ur)return this;if(n.isLeaf)return Jt.empty;for(var r,i,o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(r=this.children[o+2]);break}for(var a=t+1,l=a+n.content.size,f=0;f<this.local.length;f++){var h=this.local[f];if(h.from<l&&h.to>a&&h.type instanceof Qi){var p=Math.max(a,h.from)-a,m=Math.min(l,h.to)-a;p<m&&(i||(i=[])).push(h.copy(p,m))}}if(i){var v=new Jt(i.sort(Sl));return r?new Ti([v,r]):v}return r||ur};Jt.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof Jt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(var r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0};Jt.prototype.locals=function(t){return A_(this.localsInner(t))};Jt.prototype.localsInner=function(t){if(this==ur)return Mp;if(t.inlineContent||!this.local.some(Qi.is))return this.local;for(var n=[],r=0;r<this.local.length;r++)this.local[r].type instanceof Qi||n.push(this.local[r]);return n};var ur=new Jt;Jt.empty=ur;Jt.removeOverlap=A_;var Ti=function(t){this.members=t};Ti.prototype.map=function(t,n){var r=this.members.map(function(i){return i.map(t,n,Cl)});return Ti.from(r)};Ti.prototype.forChild=function(t,n){if(n.isLeaf)return Jt.empty;for(var r=[],i=0;i<this.members.length;i++){var o=this.members[i].forChild(t,n);o!=ur&&(o instanceof Ti?r=r.concat(o.members):r.push(o))}return Ti.from(r)};Ti.prototype.eq=function(t){if(!(t instanceof Ti)||t.members.length!=this.members.length)return!1;for(var n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0};Ti.prototype.locals=function(t){for(var n,r=!0,i=0;i<this.members.length;i++){var o=this.members[i].localsInner(t);if(!!o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(var a=0;a<o.length;a++)n.push(o[a])}}return n?A_(r?n:n.sort(Sl)):Mp};Ti.from=function(t){switch(t.length){case 0:return ur;case 1:return t[0];default:return new Ti(t)}};function P$(e,t,n,r,i,o,a){for(var l=e.slice(),f=function(V,Z,W,ie){for(var L=0;L<l.length;L+=3){var ce=l[L+1],pe=void 0;if(!(ce<0||V>ce+o)){var Te=l[L]+o;Z>=Te?l[L+1]=V<=Te?-2:-1:W>=i&&(pe=ie-W-(Z-V))&&(l[L]+=pe,l[L+1]+=pe)}}},h=0;h<n.maps.length;h++)n.maps[h].forEach(f);for(var p=!1,m=0;m<l.length;m+=3)if(l[m+1]<0){if(l[m+1]==-2){p=!0,l[m+1]=-1;continue}var v=n.map(e[m]+o),b=v-i;if(b<0||b>=r.content.size){p=!0;continue}var _=n.map(e[m+1]+o,-1),k=_-i,C=r.content.findIndex(b),E=C.index,S=C.offset,F=r.maybeChild(E);if(F&&S==b&&S+F.nodeSize==k){var O=l[m+2].mapInner(n,F,v+1,e[m]+o+1,a);O!=ur?(l[m]=b,l[m+1]=k,l[m+2]=O):(l[m+1]=-2,p=!0)}else p=!0}if(p){var K=I$(l,e,t||[],n,i,o,a),j=tm(K,r,0,a);t=j.local;for(var U=0;U<l.length;U+=3)l[U+1]<0&&(l.splice(U,3),U-=3);for(var q=0,B=0;q<j.children.length;q+=3){for(var R=j.children[q];B<l.length&&l[B]<R;)B+=3;l.splice(B,0,j.children[q],j.children[q+1],j.children[q+2])}}return new Jt(t&&t.sort(Sl),l)}function pD(e,t){if(!t||!e.length)return e;for(var n=[],r=0;r<e.length;r++){var i=e[r];n.push(new qn(i.from+t,i.to+t,i.type))}return n}function I$(e,t,n,r,i,o,a){function l(h,p){for(var m=0;m<h.local.length;m++){var v=h.local[m].map(r,i,p);v?n.push(v):a.onRemove&&a.onRemove(h.local[m].spec)}for(var b=0;b<h.children.length;b+=3)l(h.children[b+2],h.children[b]+p+1)}for(var f=0;f<e.length;f+=3)e[f+1]==-1&&l(e[f+2],t[f]+o+1);return n}function gD(e,t,n){if(t.isLeaf)return null;for(var r=n+t.nodeSize,i=null,o=0,a=void 0;o<e.length;o++)(a=e[o])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),e[o]=null);return i}function mD(e){for(var t=[],n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function tm(e,t,n,r){var i=[],o=!1;t.forEach(function(f,h){var p=gD(e,f,h+n);if(p){o=!0;var m=tm(p,f,n+h+1,r);m!=ur&&i.push(h,h+f.nodeSize,m)}});for(var a=pD(o?mD(e):e,-n).sort(Sl),l=0;l<a.length;l++)a[l].type.valid(t,a[l])||(r.onRemove&&r.onRemove(a[l].spec),a.splice(l--,1));return a.length||i.length?new Jt(a,i):ur}function Sl(e,t){return e.from-t.from||e.to-t.to}function A_(e){for(var t=e,n=0;n<t.length-1;n++){var r=t[n];if(r.from!=r.to)for(var i=n+1;i<t.length;i++){var o=t[i];if(o.from==r.from){o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),fS(t,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),fS(t,i,r.copy(o.from,r.to)));break}}}return t}function fS(e,t,n){for(;t<e.length&&Sl(n,e[t])>0;)t++;e.splice(t,0,n)}function O_(e){var t=[];return e.someProp("decorations",function(n){var r=n(e.state);r&&r!=ur&&t.push(r)}),e.cursorWrapper&&t.push(Jt.create(e.state.doc,[e.cursorWrapper.deco])),Ti.from(t)}var zn=function(t,n){this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(wD),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=bD(this),this.markCursor=null,this.cursorWrapper=null,yD(this),this.nodeViews=_D(this),this.docView=WO(this.state.doc,vD(this),O_(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,v$(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},nm={props:{configurable:!0},root:{configurable:!0},isDestroyed:{configurable:!0}};nm.props.get=function(){if(this._props.state!=this.state){var e=this._props;this._props={};for(var t in e)this._props[t]=e[t];this._props.state=this.state}return this._props};zn.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&x_(this),this._props=t,t.plugins&&(t.plugins.forEach(wD),this.directPlugins=t.plugins),this.updateStateInner(t.state,!0)};zn.prototype.setProps=function(t){var n={};for(var r in this._props)n[r]=this._props[r];n.state=this.state;for(var i in t)n[i]=t[i];this.update(n)};zn.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)};zn.prototype.updateStateInner=function(t,n){var r=this,i=this.state,o=!1,a=!1;if(t.storedMarks&&this.composing&&(dD(this),a=!0),this.state=t,n){var l=_D(this);R$(l,this.nodeViews)&&(this.nodeViews=l,o=!0),x_(this)}this.editable=bD(this),yD(this);var f=O_(this),h=vD(this),p=n?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",m=o||!this.docView.matchesNode(t.doc,h,f);(m||!t.selection.eq(i.selection))&&(a=!0);var v=p=="preserve"&&a&&this.dom.style.overflowAnchor==null&&D9(this);if(a){this.domObserver.stop();var b=m&&(Ne.ie||Ne.chrome)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&F$(i.selection,t.selection);if(m){var _=Ne.chrome?this.trackWrites=this.root.getSelection().focusNode:null;(o||!this.docView.update(t.doc,h,f,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=WO(t.doc,h,f,this.dom,this)),_&&!this.trackWrites&&(b=!0)}b||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&e$(this))?ga(this,b):(ZO(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(i),p=="reset")this.dom.scrollTop=0;else if(p=="to selection"){var k=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",function(C){return C(r)})||(t.selection instanceof vt?KC(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),k):KC(this,this.coordsAtPos(t.selection.head,1),k))}else v&&M9(v)};zn.prototype.destroyPluginViews=function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()};zn.prototype.updatePluginViews=function(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var n=0;n<this.directPlugins.length;n++){var r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(var i=0;i<this.state.plugins.length;i++){var o=this.state.plugins[i];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}else for(var a=0;a<this.pluginViews.length;a++){var l=this.pluginViews[a];l.update&&l.update(this,t)}};zn.prototype.someProp=function(t,n){var r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(var o=0;o<this.directPlugins.length;o++){var a=this.directPlugins[o].props[t];if(a!=null&&(i=n?n(a):a))return i}var l=this.state.plugins;if(l)for(var f=0;f<l.length;f++){var h=l[f].props[t];if(h!=null&&(i=n?n(h):h))return i}};zn.prototype.hasFocus=function(){return this.root.activeElement==this.dom};zn.prototype.focus=function(){this.domObserver.stop(),this.editable&&N9(this.dom),ga(this),this.domObserver.start()};nm.root.get=function(){var e=this._root;if(e==null){for(var t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t}return e||document};zn.prototype.posAtCoords=function(t){return R9(this,t)};zn.prototype.coordsAtPos=function(t,n){return n===void 0&&(n=1),$O(this,t,n)};zn.prototype.domAtPos=function(t,n){return n===void 0&&(n=0),this.docView.domFromPos(t,n)};zn.prototype.nodeDOM=function(t){var n=this.docView.descAt(t);return n?n.nodeDOM:null};zn.prototype.posAtDOM=function(t,n,r){r===void 0&&(r=-1);var i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i};zn.prototype.endOfTextblock=function(t,n){return j9(this,n||this.state,t)};zn.prototype.destroy=function(){!this.docView||(y$(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],O_(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)};nm.isDestroyed.get=function(){return this.docView==null};zn.prototype.dispatchEvent=function(t){return _$(this,t)};zn.prototype.dispatch=function(t){var n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))};Object.defineProperties(zn.prototype,nm);function vD(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",function(n){if(typeof n=="function"&&(n=n(e.state)),n)for(var r in n)r=="class"&&(t.class+=" "+n[r]),r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),[qn.node(0,e.state.doc.content.size,t)]}function yD(e){if(e.markCursor){var t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:qn.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function bD(e){return!e.someProp("editable",function(t){return t(e.state)===!1})}function F$(e,t){var n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function _D(e){var t={};return e.someProp("nodeViews",function(n){for(var r in n)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=n[r])}),t}function R$(e,t){var n=0,r=0;for(var i in e){if(e[i]!=t[i])return!0;n++}for(var o in t)r++;return n!=r}function wD(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var oa={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Np={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},cS=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),B$=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),z$=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),dS=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),$$=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),H$=cS&&(dS||+cS[1]<57)||z$&&dS;for(var or=0;or<10;or++)oa[48+or]=oa[96+or]=String(or);for(var or=1;or<=24;or++)oa[or+111]="F"+or;for(var or=65;or<=90;or++)oa[or]=String.fromCharCode(or+32),Np[or]=String.fromCharCode(or);for(var Xv in oa)Np.hasOwnProperty(Xv)||(Np[Xv]=oa[Xv]);function j$(e){var t=H$&&(e.ctrlKey||e.altKey||e.metaKey)||(B$||$$)&&e.shiftKey&&e.key&&e.key.length==1,n=!t&&e.key||(e.shiftKey?Np:oa)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}var V$=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function W$(e){var t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");for(var r,i,o,a,l=0;l<t.length-1;l++){var f=t[l];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))V$?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function U$(e){var t=Object.create(null);for(var n in e)t[W$(n)]=e[n];return t}function Zv(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n!==!1&&t.shiftKey&&(e="Shift-"+e),e}function K$(e){return new bn({props:{handleKeyDown:kD(e)}})}function kD(e){var t=U$(e);return function(n,r){var i=j$(r),o=i.length==1&&i!=" ",a,l=t[Zv(i,r,!o)];if(l&&l(n.state,n.dispatch,n))return!0;if(o&&(r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(a=oa[r.keyCode])&&a!=i){var f=t[Zv(a,r,!0)];if(f&&f(n.state,n.dispatch,n))return!0}else if(o&&r.shiftKey){var h=t[Zv(i,r,!0)];if(h&&h(n.state,n.dispatch,n))return!0}return!1}}function q$(e){return Object.prototype.toString.call(e).slice(8,-1)}function Qv(e){return q$(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function rm(e,t){const n=ve({},e);return Qv(e)&&Qv(t)&&Object.keys(t).forEach(r=>{Qv(t[r])?r in e?n[r]=rm(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})}),n}function xD(e){return typeof e=="function"}function kt(e,t=void 0,...n){return xD(e)?t?e.bind(t)(...n):e(...n):e}function tt(e,t,n){return e.config[t]===void 0&&e.parent?tt(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind(Xt(ve({},n),{parent:e.parent?tt(e.parent,t,n):null})):e.config[t]}class Cr{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=ve(ve({},this.config),t),this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=kt(tt(this,"addOptions",{name:this.name}))),this.storage=kt(tt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Cr(t)}configure(t={}){const n=this.extend();return n.options=rm(this.options,t),n.storage=kt(tt(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){const n=new Cr(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=kt(tt(n,"addOptions",{name:n.name})),n.storage=kt(tt(n,"addStorage",{name:n.name,options:n.options})),n}}function CD(e,t,n){const{from:r,to:i}=t,{blockSeparator:o=`

`,textSerializers:a={}}=n||{};let l="",f=!0;return e.nodesBetween(r,i,(h,p,m,v)=>{var b;const _=a==null?void 0:a[h.type.name];_?(h.isBlock&&!f&&(l+=o,f=!0),l+=_({node:h,pos:p,parent:m,index:v})):h.isText?(l+=(b=h==null?void 0:h.text)===null||b===void 0?void 0:b.slice(Math.max(r,p)-p,i-p),f=!1):h.isBlock&&!f&&(l+=o,f=!0)}),l}function SD(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}const G$=Cr.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new bn({key:new Gn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:o}=i,a=Math.min(...o.map(p=>p.$from.pos)),l=Math.max(...o.map(p=>p.$to.pos)),f=SD(n);return CD(r,{from:a,to:l},{textSerializers:f})}}})]}}),J$=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0);var Y$=Object.freeze({__proto__:null,blur:J$});const X$=(e=!1)=>({commands:t})=>t.setContent("",e);var Z$=Object.freeze({__proto__:null,clearContent:X$});const Q$=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:a})=>{e.doc.nodesBetween(o.pos,a.pos,(l,f)=>{if(l.type.isText)return;const{doc:h,mapping:p}=t,m=h.resolve(p.map(f)),v=h.resolve(p.map(f+l.nodeSize)),b=m.blockRange(v);if(!b)return;const _=Zu(b);if(l.type.isTextblock){const{defaultType:k}=m.parent.contentMatchAt(m.index());t.setNodeMarkup(b.start,k)}(_||_===0)&&t.lift(b,_)})}),!0};var eH=Object.freeze({__proto__:null,clearNodes:Q$});const tH=e=>t=>e(t);var nH=Object.freeze({__proto__:null,command:tH});const rH=()=>({state:e,dispatch:t})=>DO(e,t);var iH=Object.freeze({__proto__:null,createParagraphNear:rH});function Zn(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}const oH=e=>({tr:t,state:n,dispatch:r})=>{const i=Zn(e,n.schema),o=t.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===i){if(r){const f=o.before(a),h=o.after(a);t.delete(f,h).scrollIntoView()}return!0}return!1};var sH=Object.freeze({__proto__:null,deleteNode:oH});const aH=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0};var lH=Object.freeze({__proto__:null,deleteRange:aH});const uH=()=>({state:e,dispatch:t})=>p_(e,t);var fH=Object.freeze({__proto__:null,deleteSelection:uH});const cH=()=>({commands:e})=>e.keyboardShortcut("Enter");var dH=Object.freeze({__proto__:null,enter:cH});const hH=()=>({state:e,dispatch:t})=>OO(e,t);var pH=Object.freeze({__proto__:null,exitCode:hH});function ma(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}function D_(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Lp(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:D_(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function _y(e,t,n={}){return e.find(r=>r.type===t&&Lp(r.attrs,n))}function gH(e,t,n={}){return!!_y(e,t,n)}function M_(e,t,n={}){if(!e||!t)return;const r=e.parent.childAfter(e.parentOffset);if(!r.node)return;const i=_y(r.node.marks,t,n);if(!i)return;let o=e.index(),a=e.start()+r.offset,l=o+1,f=a+r.node.nodeSize;for(_y(r.node.marks,t,n);o>0&&i.isInSet(e.parent.child(o-1).marks);)o-=1,a-=e.parent.child(o).nodeSize;for(;l<e.parent.childCount&&gH(e.parent.child(l).marks,t,n);)f+=e.parent.child(l).nodeSize,l+=1;return{from:a,to:f}}const mH=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const o=ma(e,r.schema),{doc:a,selection:l}=n,{$from:f,from:h,to:p}=l;if(i){const m=M_(f,o,t);if(m&&m.from<=h&&m.to>=p){const v=Ct.create(a,m.from,m.to);n.setSelection(v)}}return!0};var vH=Object.freeze({__proto__:null,extendMarkRange:mH});const yH=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};var bH=Object.freeze({__proto__:null,first:yH});function _H(e){var t;return((t=e.constructor)===null||t===void 0?void 0:t.toString().substring(0,5))==="class"}function TD(e){return e&&typeof e=="object"&&!Array.isArray(e)&&!_H(e)}function ED(e){return TD(e)&&e instanceof Ct}function im(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function Ko(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function AD(e,t=null){if(!t)return null;const n=yt.atStart(e),r=yt.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const i=n.from,o=r.to;return t==="all"?Ct.create(e,Ko(0,i,o),Ko(e.content.size,i,o)):Ct.create(e,Ko(t,i,o),Ko(t,i,o))}const wH=(e=null,t)=>({editor:n,view:r,tr:i,dispatch:o})=>{t=ve({scrollIntoView:!0},t);const a=()=>{im()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(o&&e===null&&!ED(n.state.selection))return a(),!0;const l=AD(n.state.doc,e)||n.state.selection,f=n.state.selection.eq(l);return o&&(f||i.setSelection(l),f&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0};var kH=Object.freeze({__proto__:null,focus:wH});const xH=(e,t)=>n=>e.every((r,i)=>t(r,Xt(ve({},n),{index:i})));var CH=Object.freeze({__proto__:null,forEach:xH});const SH=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t);var TH=Object.freeze({__proto__:null,insertContent:SH});function hS(e){const t=`<body>${e}</body>`;return new window.DOMParser().parseFromString(t,"text/html").body}function Pp(e,t,n){if(n=ve({slice:!0,parseOptions:{}},n),typeof e=="object"&&e!==null)try{return Array.isArray(e)?Ae.fromArray(e.map(r=>t.nodeFromJSON(r))):t.nodeFromJSON(e)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",r),Pp("",t,n)}if(typeof e=="string"){const r=Yi.fromSchema(t);return n.slice?r.parseSlice(hS(e),n.parseOptions).content:r.parse(hS(e),n.parseOptions)}return Pp("",t,n)}function EH(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof ms||i instanceof Yr))return;const o=e.mapping.maps[r];let a=0;o.forEach((l,f,h,p)=>{a===0&&(a=p)}),e.setSelection(yt.near(e.doc.resolve(a),n))}const AH=e=>e.toString().startsWith("<"),OH=(e,t,n)=>({tr:r,dispatch:i,editor:o})=>{if(i){n=ve({parseOptions:{},updateSelection:!0},n);const a=Pp(t,o.schema,{parseOptions:ve({preserveWhitespace:"full"},n.parseOptions)});if(a.toString()==="<>")return!0;let{from:l,to:f}=typeof e=="number"?{from:e,to:e}:e,h=!0,p=!0;if((AH(a)?a:[a]).forEach(v=>{v.check(),h=h?v.isText&&v.marks.length===0:!1,p=p?v.isBlock:!1}),l===f&&p){const{parent:v}=r.doc.resolve(l);v.isTextblock&&!v.type.spec.code&&!v.childCount&&(l-=1,f+=1)}h?r.insertText(t,l,f):r.replaceWith(l,f,a),n.updateSelection&&EH(r,r.steps.length-1,-1)}return!0};var DH=Object.freeze({__proto__:null,insertContentAt:OH});const MH=()=>({state:e,dispatch:t})=>kO(e,t);var NH=Object.freeze({__proto__:null,joinBackward:MH});const LH=()=>({state:e,dispatch:t})=>SO(e,t);var PH=Object.freeze({__proto__:null,joinForward:LH});function OD(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function IH(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,i,o,a;for(let l=0;l<t.length-1;l+=1){const f=t[l];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))im()||OD()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const FH=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const o=IH(e).split(/-(?!$)/),a=o.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),l=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),f=t.captureTransaction(()=>{n.someProp("handleKeyDown",h=>h(n,l))});return f==null||f.steps.forEach(h=>{const p=h.map(r.mapping);p&&i&&r.maybeStep(p)}),!0};var RH=Object.freeze({__proto__:null,keyboardShortcut:FH});function id(e,t,n={}){const{from:r,to:i,empty:o}=e.selection,a=t?Zn(t,e.schema):null,l=[];e.doc.nodesBetween(r,i,(m,v)=>{if(m.isText)return;const b=Math.max(r,v),_=Math.min(i,v+m.nodeSize);l.push({node:m,from:b,to:_})});const f=i-r,h=l.filter(m=>a?a.name===m.node.type.name:!0).filter(m=>Lp(m.node.attrs,n,{strict:!1}));return o?!!h.length:h.reduce((m,v)=>m+v.to-v.from,0)>=f}const BH=(e,t={})=>({state:n,dispatch:r})=>{const i=Zn(e,n.schema);return id(n,i,t)?d9(n,r):!1};var zH=Object.freeze({__proto__:null,lift:BH});const $H=()=>({state:e,dispatch:t})=>MO(e,t);var HH=Object.freeze({__proto__:null,liftEmptyBlock:$H});const jH=e=>({state:t,dispatch:n})=>{const r=Zn(e,t.schema);return w9(r)(t,n)};var VH=Object.freeze({__proto__:null,liftListItem:jH});const WH=()=>({state:e,dispatch:t})=>AO(e,t);var UH=Object.freeze({__proto__:null,newlineInCode:WH});function om(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function pS(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}const KH=(e,t)=>({tr:n,state:r,dispatch:i})=>{let o=null,a=null;const l=om(typeof e=="string"?e:e.name,r.schema);return l?(l==="node"&&(o=Zn(e,r.schema)),l==="mark"&&(a=ma(e,r.schema)),i&&n.selection.ranges.forEach(f=>{r.doc.nodesBetween(f.$from.pos,f.$to.pos,(h,p)=>{o&&o===h.type&&n.setNodeMarkup(p,void 0,pS(h.attrs,t)),a&&h.marks.length&&h.marks.forEach(m=>{a===m.type&&n.addMark(p,p+h.nodeSize,a.create(pS(m.attrs,t)))})})}),!0):!1};var qH=Object.freeze({__proto__:null,resetAttributes:KH});const GH=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0);var JH=Object.freeze({__proto__:null,scrollIntoView:GH});const YH=()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size});var XH=Object.freeze({__proto__:null,selectAll:YH});const ZH=()=>({state:e,dispatch:t})=>xO(e,t);var QH=Object.freeze({__proto__:null,selectNodeBackward:ZH});const ej=()=>({state:e,dispatch:t})=>TO(e,t);var tj=Object.freeze({__proto__:null,selectNodeForward:ej});const nj=()=>({state:e,dispatch:t})=>p9(e,t);var rj=Object.freeze({__proto__:null,selectParentNode:nj});const ij=()=>({state:e,dispatch:t})=>IO(e,t);var oj=Object.freeze({__proto__:null,selectTextblockEnd:ij});const sj=()=>({state:e,dispatch:t})=>PO(e,t);var aj=Object.freeze({__proto__:null,selectTextblockStart:sj});function DD(e,t,n={}){return Pp(e,t,{slice:!1,parseOptions:n})}const lj=(e,t=!1,n={})=>({tr:r,editor:i,dispatch:o})=>{const{doc:a}=r,l=DD(e,i.schema,n),f=Ct.create(a,0,a.content.size);return o&&r.setSelection(f).replaceSelectionWith(l,!1).setMeta("preventUpdate",!t),!0};var uj=Object.freeze({__proto__:null,setContent:lj});function MD(e,t){const n=ma(t,e.schema),{from:r,to:i,empty:o}=e.selection,a=[];o?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,f=>{a.push(...f.marks)});const l=a.find(f=>f.type.name===n.name);return l?ve({},l.attrs):{}}const fj=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:a,ranges:l}=o,f=ma(e,r.schema);if(i)if(a){const h=MD(r,f);n.addStoredMark(f.create(ve(ve({},h),t)))}else l.forEach(h=>{const p=h.$from.pos,m=h.$to.pos;r.doc.nodesBetween(p,m,(v,b)=>{const _=Math.max(b,p),k=Math.min(b+v.nodeSize,m);v.marks.find(E=>E.type===f)?v.marks.forEach(E=>{f===E.type&&n.addMark(_,k,f.create(ve(ve({},E.attrs),t)))}):n.addMark(_,k,f.create(t))})});return!0};var cj=Object.freeze({__proto__:null,setMark:fj});const dj=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0);var hj=Object.freeze({__proto__:null,setMeta:dj});const pj=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const o=Zn(e,n.schema);return o.isTextblock?i().command(({commands:a})=>$C(o,t)(n)?!0:a.clearNodes()).command(({state:a})=>$C(o,t)(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)};var gj=Object.freeze({__proto__:null,setNode:pj});const mj=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,i=yt.atStart(r).from,o=yt.atEnd(r).to,a=Ko(e,i,o),l=vt.create(r,a);t.setSelection(l)}return!0};var vj=Object.freeze({__proto__:null,setNodeSelection:mj});const yj=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:i,to:o}=typeof e=="number"?{from:e,to:e}:e,a=Ct.atStart(r).from,l=Ct.atEnd(r).to,f=Ko(i,a,l),h=Ko(o,a,l),p=Ct.create(r,f,h);t.setSelection(p)}return!0};var bj=Object.freeze({__proto__:null,setTextSelection:yj});const _j=e=>({state:t,dispatch:n})=>{const r=Zn(e,t.schema);return C9(r)(t,n)};var wj=Object.freeze({__proto__:null,sinkListItem:_j});function jh(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=e.find(o=>o.type===t&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function kj(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function gS(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(i=>t==null?void 0:t.includes(i.type.name));e.tr.ensureMarks(r)}}const xj=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:a}=t,{$from:l,$to:f}=o,h=i.extensionManager.attributes,p=jh(h,l.node().type.name,l.node().attrs);if(o instanceof vt&&o.node.isBlock)return!l.parentOffset||!Qo(a,l.pos)?!1:(r&&(e&&gS(n,i.extensionManager.splittableMarks),t.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(r){const m=f.parentOffset===f.parent.content.size;o instanceof Ct&&t.deleteSelection();const v=l.depth===0?void 0:kj(l.node(-1).contentMatchAt(l.indexAfter(-1)));let b=m&&v?[{type:v,attrs:p}]:void 0,_=Qo(t.doc,t.mapping.map(l.pos),1,b);if(!b&&!_&&Qo(t.doc,t.mapping.map(l.pos),1,v?[{type:v}]:void 0)&&(_=!0,b=v?[{type:v,attrs:p}]:void 0),_&&(t.split(t.mapping.map(l.pos),1,b),v&&!m&&!l.parentOffset&&l.parent.type!==v)){const k=t.mapping.map(l.before()),C=t.doc.resolve(k);l.node(-1).canReplaceWith(C.index(),C.index()+1,v)&&t.setNodeMarkup(t.mapping.map(l.before()),v)}e&&gS(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return!0};var Cj=Object.freeze({__proto__:null,splitBlock:xj});const Sj=e=>({tr:t,state:n,dispatch:r,editor:i})=>{var o;const a=Zn(e,n.schema),{$from:l,$to:f}=n.selection,h=n.selection.node;if(h&&h.isBlock||l.depth<2||!l.sameParent(f))return!1;const p=l.node(-1);if(p.type!==a)return!1;const m=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let C=Ae.empty;const E=l.index(-1)?1:l.index(-2)?2:3;for(let U=l.depth-E;U>=l.depth-3;U-=1)C=Ae.from(l.node(U).copy(C));const S=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,F=jh(m,l.node().type.name,l.node().attrs),O=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(F))||void 0;C=C.append(Ae.from(a.createAndFill(null,O)||void 0));const K=l.before(l.depth-(E-1));t.replace(K,l.after(-S),new Je(C,4-E,0));let j=-1;t.doc.nodesBetween(K,t.doc.content.size,(U,q)=>{if(j>-1)return!1;U.isTextblock&&U.content.size===0&&(j=q+1)}),j>-1&&t.setSelection(Ct.near(t.doc.resolve(j))),t.scrollIntoView()}return!0}const v=f.pos===l.end()?p.contentMatchAt(0).defaultType:null,b=jh(m,p.type.name,p.attrs),_=jh(m,l.node().type.name,l.node().attrs);t.delete(l.pos,f.pos);const k=v?[{type:a,attrs:b},{type:v,attrs:_}]:[{type:a,attrs:b}];return Qo(t.doc,l.pos,2)?(r&&t.split(l.pos,2,k).scrollIntoView(),!0):!1};var Tj=Object.freeze({__proto__:null,splitListItem:Sj});function Ej(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function N_(e){return t=>Ej(t.$from,e)}function sm(e){const t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function mS(e,t){const{nodeExtensions:n}=sm(t),r=n.find(a=>a.name===e);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=kt(tt(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}const vS=(e,t)=>{const n=N_(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&_d(e.doc,n.pos)&&e.join(n.pos),!0},yS=(e,t)=>{const n=N_(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&_d(e.doc,r)&&e.join(r),!0},Aj=(e,t)=>({editor:n,tr:r,state:i,dispatch:o,chain:a,commands:l,can:f})=>{const{extensions:h}=n.extensionManager,p=Zn(e,i.schema),m=Zn(t,i.schema),{selection:v}=i,{$from:b,$to:_}=v,k=b.blockRange(_);if(!k)return!1;const C=N_(E=>mS(E.type.name,h))(v);if(k.depth>=1&&C&&k.depth-C.depth<=1){if(C.node.type===p)return l.liftListItem(m);if(mS(C.node.type.name,h)&&p.validContent(C.node.content)&&o)return a().command(()=>(r.setNodeMarkup(C.pos,p),!0)).command(()=>vS(r,p)).command(()=>yS(r,p)).run()}return a().command(()=>f().wrapInList(p)?!0:l.clearNodes()).wrapInList(p).command(()=>vS(r,p)).command(()=>yS(r,p)).run()};var Oj=Object.freeze({__proto__:null,toggleList:Aj});function wy(e,t,n={}){const{empty:r,ranges:i}=e.selection,o=t?ma(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(m=>o?o.name===m.type.name:!0).find(m=>Lp(m.attrs,n,{strict:!1}));let a=0;const l=[];if(i.forEach(({$from:m,$to:v})=>{const b=m.pos,_=v.pos;e.doc.nodesBetween(b,_,(k,C)=>{if(!k.isText&&!k.marks.length)return;const E=Math.max(b,C),S=Math.min(_,C+k.nodeSize);a+=S-E,l.push(...k.marks.map(O=>({mark:O,from:E,to:S})))})}),a===0)return!1;const f=l.filter(m=>o?o.name===m.mark.type.name:!0).filter(m=>Lp(m.mark.attrs,n,{strict:!1})).reduce((m,v)=>m+v.to-v.from,0),h=l.filter(m=>o?m.mark.type!==o&&m.mark.type.excludes(o):!0).reduce((m,v)=>m+v.to-v.from,0);return(f>0?f+h:f)>=a}const Dj=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,a=ma(e,r.schema);return wy(r,a,t)?i.unsetMark(a,{extendEmptyMarkRange:o}):i.setMark(a,t)};var Mj=Object.freeze({__proto__:null,toggleMark:Dj});const Nj=(e,t,n={})=>({state:r,commands:i})=>{const o=Zn(e,r.schema),a=Zn(t,r.schema);return id(r,o,n)?i.setNode(a):i.setNode(o,n)};var Lj=Object.freeze({__proto__:null,toggleNode:Nj});const Pj=(e,t={})=>({state:n,commands:r})=>{const i=Zn(e,n.schema);return id(n,i,t)?r.lift(i):r.wrapIn(i,t)};var Ij=Object.freeze({__proto__:null,toggleWrap:Pj});const Fj=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){const a=e.tr,l=o.transform;for(let f=l.steps.length-1;f>=0;f-=1)a.step(l.steps[f].invert(l.docs[f]));if(o.text){const f=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,e.schema.text(o.text,f))}else a.delete(o.from,o.to)}return!0}}return!1};var Rj=Object.freeze({__proto__:null,undoInputRule:Fj});const Bj=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(o=>{e.removeMark(o.$from.pos,o.$to.pos)}),!0};var zj=Object.freeze({__proto__:null,unsetAllMarks:Bj});const $j=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:a=!1}=t,{selection:l}=n,f=ma(e,r.schema),{$from:h,empty:p,ranges:m}=l;if(!i)return!0;if(p&&a){let{from:v,to:b}=l;const _=(o=h.marks().find(C=>C.type===f))===null||o===void 0?void 0:o.attrs,k=M_(h,f,_);k&&(v=k.from,b=k.to),n.removeMark(v,b,f)}else m.forEach(v=>{n.removeMark(v.$from.pos,v.$to.pos,f)});return n.removeStoredMark(f),!0};var Hj=Object.freeze({__proto__:null,unsetMark:$j});const jj=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let o=null,a=null;const l=om(typeof e=="string"?e:e.name,r.schema);return l?(l==="node"&&(o=Zn(e,r.schema)),l==="mark"&&(a=ma(e,r.schema)),i&&n.selection.ranges.forEach(f=>{const h=f.$from.pos,p=f.$to.pos;r.doc.nodesBetween(h,p,(m,v)=>{o&&o===m.type&&n.setNodeMarkup(v,void 0,ve(ve({},m.attrs),t)),a&&m.marks.length&&m.marks.forEach(b=>{if(a===b.type){const _=Math.max(v,h),k=Math.min(v+m.nodeSize,p);n.addMark(_,k,a.create(ve(ve({},b.attrs),t)))}})})}),!0):!1};var Vj=Object.freeze({__proto__:null,updateAttributes:jj});const Wj=(e,t={})=>({state:n,dispatch:r})=>{const i=Zn(e,n.schema);return v9(i,t)(n,r)};var Uj=Object.freeze({__proto__:null,wrapIn:Wj});const Kj=(e,t={})=>({state:n,dispatch:r})=>{const i=Zn(e,n.schema);return b9(i,t)(n,r)};var qj=Object.freeze({__proto__:null,wrapInList:Kj});const Gj=Cr.create({name:"commands",addCommands(){return ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(ve({},Y$),Z$),eH),nH),iH),sH),lH),fH),dH),pH),vH),bH),kH),CH),TH),DH),NH),PH),RH),zH),HH),VH),UH),qH),JH),XH),QH),tj),rj),oj),aj),uj),cj),hj),gj),vj),bj),wj),Cj),Tj),Oj),Mj),Lj),Ij),Rj),zj),Hj),Vj),Uj),qj)}}),Jj=Cr.create({name:"editable",addProseMirrorPlugins(){return[new bn({key:new Gn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Yj=Cr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new bn({key:new Gn("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}});function am(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return Xt(ve({},t),{schema:t.schema,plugins:t.plugins,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}})}class lm{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,a=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([l,f])=>[l,(...p)=>{const m=f(...p)(a);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:a}=i,l=[],f=!!t,h=t||o.tr,p=()=>(!f&&n&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(h),l.every(v=>v===!0)),m=Xt(ve({},Object.fromEntries(Object.entries(r).map(([v,b])=>[v,(...k)=>{const C=this.buildProps(h,n),E=b(...k)(C);return l.push(E),m}]))),{run:p});return m}createCan(t){const{rawCommands:n,state:r}=this,i=void 0,o=t||r.tr,a=this.buildProps(o,i),l=Object.fromEntries(Object.entries(n).map(([f,h])=>[f,(...p)=>h(...p)(Xt(ve({},a),{dispatch:i}))]));return Xt(ve({},l),{chain:()=>this.createChain(o,i)})}buildProps(t,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:a}=i;o.storedMarks&&t.setStoredMarks(o.storedMarks);const l={tr:t,editor:i,view:a,state:am({state:o,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([f,h])=>[f,(...p)=>h(...p)(l)]))}};return l}}const Xj=Cr.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:l})=>{const{selection:f,doc:h}=l,{empty:p,$anchor:m}=f,{pos:v,parent:b}=m,_=yt.atStart(h).from===v;return!p||!_||!b.type.isTextblock||b.textContent.length?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i=ve({},r),o=Xt(ve({},r),{"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return im()||OD()?o:i},addProseMirrorPlugins(){return[new bn({key:new Gn("clearDocument"),appendTransaction:(e,t,n)=>{if(!(e.some(_=>_.docChanged)&&!t.doc.eq(n.doc)))return;const{empty:i,from:o,to:a}=t.selection,l=yt.atStart(t.doc).from,f=yt.atEnd(t.doc).to,h=o===l&&a===f,p=n.doc.textBetween(0,n.doc.content.size," "," ").length===0;if(i||!h||!p)return;const m=n.tr,v=am({state:n,transaction:m}),{commands:b}=new lm({editor:this.editor,state:v});if(b.clearNodes(),!!m.steps.length)return m}})]}}),Zj=Cr.create({name:"tabindex",addProseMirrorPlugins(){return[new bn({key:new Gn("tabindex"),props:{attributes:()=>{if(this.editor.isEditable)return{tabindex:"0"}}}})]}});var Qj=Object.freeze({__proto__:null,ClipboardTextSerializer:G$,Commands:Gj,Editable:Jj,FocusEvents:Yj,Keymap:Xj,Tabindex:Zj});function eV(e,t){const n=Zn(t,e.schema),{from:r,to:i}=e.selection,o=[];e.doc.nodesBetween(r,i,l=>{o.push(l)});const a=o.reverse().find(l=>l.type.name===n.name);return a?ve({},a.attrs):{}}function ND(e,t){const n=om(typeof t=="string"?t:t.name,e.schema);return n==="node"?eV(e,t):n==="mark"?MD(e,t):{}}function tV(e,t,n={}){if(!t)return id(e,null,n)||wy(e,null,n);const r=om(t,e.schema);return r==="node"?id(e,t,n):r==="mark"?wy(e,t,n):!1}function nV(e,t){const n=lr.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function rV(e,t){const n={from:0,to:e.content.size};return CD(e,n,t)}function iV(e){var t;const n=(t=e.type.createAndFill())===null||t===void 0?void 0:t.toJSON(),r=e.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function oV(e){const t=document.querySelector("style[data-tiptap-style]");if(t!==null)return t;const n=document.createElement("style");return n.setAttribute("data-tiptap-style",""),n.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(n),n}class um{constructor(t){this.find=t.find,this.handler=t.handler}}const sV=(e,t)=>{if(D_(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[];return r.push(n.text),r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function e0(e){var t;const{editor:n,from:r,to:i,text:o,rules:a,plugin:l}=e,{view:f}=n;if(f.composing)return!1;const h=f.state.doc.resolve(r);if(h.parent.type.spec.code||!!(!((t=h.nodeBefore||h.nodeAfter)===null||t===void 0)&&t.marks.find(b=>b.type.spec.code)))return!1;let p=!1;const m=500,v=h.parent.textBetween(Math.max(0,h.parentOffset-m),h.parentOffset,void 0," ")+o;return a.forEach(b=>{if(p)return;const _=sV(v,b.find);if(!_)return;const k=f.state.tr,C=am({state:f.state,transaction:k}),E={from:r-(_[0].length-o.length),to:i},{commands:S,chain:F,can:O}=new lm({editor:n,state:C});b.handler({state:C,range:E,match:_,commands:S,chain:F,can:O})===null||!k.steps.length||(k.setMeta(l,{transform:k,from:r,to:i,text:o}),f.dispatch(k),p=!0)}),p}function aV(e){const{editor:t,rules:n}=e,r=new bn({state:{init(){return null},apply(i,o){const a=i.getMeta(this);return a||(i.selectionSet||i.docChanged?null:o)}},props:{handleTextInput(i,o,a,l){return e0({editor:t,from:o,to:a,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&e0({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?e0({editor:t,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function lV(e){return typeof e=="number"}class uV{constructor(t){this.find=t.find,this.handler=t.handler}}const fV=(e,t)=>{if(D_(t))return[...e.matchAll(t)];const n=t(e);return n?n.map(r=>{const i=[];return i.push(r.text),i.index=r.index,i.input=e,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function cV(e){const{editor:t,state:n,from:r,to:i,rule:o}=e,{commands:a,chain:l,can:f}=new lm({editor:t,state:n}),h=[];return n.doc.nodesBetween(r,i,(m,v)=>{if(!m.isTextblock||m.type.spec.code)return;const b=Math.max(r,v),_=Math.min(i,v+m.content.size),k=m.textBetween(b-v,_-v,void 0,"\uFFFC");fV(k,o.find).forEach(E=>{if(E.index===void 0)return;const S=b+E.index+1,F=S+E[0].length,O={from:n.tr.mapping.map(S),to:n.tr.mapping.map(F)},K=o.handler({state:n,range:O,match:E,commands:a,chain:l,can:f});h.push(K)})}),h.every(m=>m!==null)}function dV(e){const{editor:t,rules:n}=e;let r=null,i=!1,o=!1;return n.map(l=>new bn({view(f){const h=p=>{var m;r=!((m=f.dom.parentElement)===null||m===void 0)&&m.contains(p.target)?f.dom.parentElement:null};return window.addEventListener("dragstart",h),{destroy(){window.removeEventListener("dragstart",h)}}},props:{handleDOMEvents:{drop:f=>(o=r===f.dom.parentElement,!1),paste:(f,h)=>{var p;const m=(p=h.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return i=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(f,h,p)=>{const m=f[0],v=m.getMeta("uiEvent")==="paste"&&!i,b=m.getMeta("uiEvent")==="drop"&&!o;if(!v&&!b)return;const _=h.doc.content.findDiffStart(p.doc.content),k=h.doc.content.findDiffEnd(p.doc.content);if(!lV(_)||!k||_===k.b)return;const C=p.tr,E=am({state:p,transaction:C});if(!(!cV({editor:t,state:E,from:Math.max(_-1,0),to:k.b,rule:l})||!C.steps.length))return C}}))}function LD(e){const t=[],{nodeExtensions:n,markExtensions:r}=sm(e),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0};return e.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},f=tt(a,"addGlobalAttributes",l);if(!f)return;f().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([v,b])=>{t.push({type:m,name:v,attribute:ve(ve({},o),b)})})})})}),i.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},f=tt(a,"addAttributes",l);if(!f)return;const h=f();Object.entries(h).forEach(([p,m])=>{t.push({type:a.name,name:p,attribute:ve(ve({},o),m)})})}),t}function Ln(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r=ve({},t);return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}i==="class"?r[i]=[r[i],o].join(" "):i==="style"?r[i]=[r[i],o].join("; "):r[i]=o}),r},{})}function ky(e,t){return t.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>Ln(n,r),{})}function hV(e={}){return Object.keys(e).length===0&&e.constructor===Object}function pV(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function bS(e,t){return e.style?e:Xt(ve({},e),{getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const i=t.reduce((o,a)=>{const l=a.attribute.parseHTML?a.attribute.parseHTML(n):pV(n.getAttribute(a.name));return l==null?o:Xt(ve({},o),{[a.name]:l})},{});return ve(ve({},r),i)}})}function _S(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&hV(n)?!1:n!=null))}function gV(e){var t;const n=LD(e),{nodeExtensions:r,markExtensions:i}=sm(e),o=(t=r.find(f=>tt(f,"topNode")))===null||t===void 0?void 0:t.name,a=Object.fromEntries(r.map(f=>{const h=n.filter(C=>C.type===f.name),p={name:f.name,options:f.options,storage:f.storage},m=e.reduce((C,E)=>{const S=tt(E,"extendNodeSchema",p);return ve(ve({},C),S?S(f):{})},{}),v=_S(Xt(ve({},m),{content:kt(tt(f,"content",p)),marks:kt(tt(f,"marks",p)),group:kt(tt(f,"group",p)),inline:kt(tt(f,"inline",p)),atom:kt(tt(f,"atom",p)),selectable:kt(tt(f,"selectable",p)),draggable:kt(tt(f,"draggable",p)),code:kt(tt(f,"code",p)),defining:kt(tt(f,"defining",p)),isolating:kt(tt(f,"isolating",p)),attrs:Object.fromEntries(h.map(C=>{var E;return[C.name,{default:(E=C==null?void 0:C.attribute)===null||E===void 0?void 0:E.default}]}))})),b=kt(tt(f,"parseHTML",p));b&&(v.parseDOM=b.map(C=>bS(C,h)));const _=tt(f,"renderHTML",p);_&&(v.toDOM=C=>_({node:C,HTMLAttributes:ky(C,h)}));const k=tt(f,"renderText",p);return k&&(v.toText=k),[f.name,v]})),l=Object.fromEntries(i.map(f=>{const h=n.filter(k=>k.type===f.name),p={name:f.name,options:f.options,storage:f.storage},m=e.reduce((k,C)=>{const E=tt(C,"extendMarkSchema",p);return ve(ve({},k),E?E(f):{})},{}),v=_S(Xt(ve({},m),{inclusive:kt(tt(f,"inclusive",p)),excludes:kt(tt(f,"excludes",p)),group:kt(tt(f,"group",p)),spanning:kt(tt(f,"spanning",p)),code:kt(tt(f,"code",p)),attrs:Object.fromEntries(h.map(k=>{var C;return[k.name,{default:(C=k==null?void 0:k.attribute)===null||C===void 0?void 0:C.default}]}))})),b=kt(tt(f,"parseHTML",p));b&&(v.parseDOM=b.map(k=>bS(k,h)));const _=tt(f,"renderHTML",p);return _&&(v.toDOM=k=>_({mark:k,HTMLAttributes:ky(k,h)})),[f.name,v]}));return new xl({topNode:o,nodes:a,marks:l})}function t0(e,t){return t.nodes[e]||t.marks[e]||null}function wS(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function mV(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return[...new Set(t)]}class su{constructor(t,n){this.splittableMarks=[],this.editor=n,this.extensions=su.resolve(t),this.schema=gV(this.extensions),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const o={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:t0(r.name,this.schema)};r.type==="mark"&&((i=kt(tt(r,"keepOnSplit",o)))!==null&&i!==void 0?i:!0)&&this.splittableMarks.push(r.name);const a=tt(r,"onBeforeCreate",o);a&&this.editor.on("beforeCreate",a);const l=tt(r,"onCreate",o);l&&this.editor.on("create",l);const f=tt(r,"onUpdate",o);f&&this.editor.on("update",f);const h=tt(r,"onSelectionUpdate",o);h&&this.editor.on("selectionUpdate",h);const p=tt(r,"onTransaction",o);p&&this.editor.on("transaction",p);const m=tt(r,"onFocus",o);m&&this.editor.on("focus",m);const v=tt(r,"onBlur",o);v&&this.editor.on("blur",v);const b=tt(r,"onDestroy",o);b&&this.editor.on("destroy",b)})}static resolve(t){const n=su.sort(su.flatten(t)),r=mV(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(t){return t.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=tt(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(t){return t.sort((r,i)=>{const o=tt(r,"priority")||100,a=tt(i,"priority")||100;return o>a?-1:o<a?1:0})}get commands(){return this.extensions.reduce((t,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:t0(n.name,this.schema)},i=tt(n,"addCommands",r);return i?ve(ve({},t),i()):t},{})}get plugins(){const{editor:t}=this,n=su.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(a=>{const l={name:a.name,options:a.options,storage:a.storage,editor:t,type:t0(a.name,this.schema)},f=[],h=tt(a,"addKeyboardShortcuts",l);if(h){const b=Object.fromEntries(Object.entries(h()).map(([k,C])=>[k,()=>C({editor:t})])),_=K$(b);f.push(_)}const p=tt(a,"addInputRules",l);wS(a,t.options.enableInputRules)&&p&&r.push(...p());const m=tt(a,"addPasteRules",l);wS(a,t.options.enablePasteRules)&&m&&i.push(...m());const v=tt(a,"addProseMirrorPlugins",l);if(v){const b=v();f.push(...b)}return f}).flat();return[aV({editor:t,rules:r}),...dV({editor:t,rules:i}),...o]}get attributes(){return LD(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:n}=sm(this.extensions);return Object.fromEntries(n.filter(r=>!!tt(r,"addNodeView")).map(r=>{const i=this.attributes.filter(f=>f.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:t,type:Zn(r.name,this.schema)},a=tt(r,"addNodeView",o);if(!a)return[];const l=(f,h,p,m)=>{const v=ky(f,i);return a()({editor:t,node:f,getPos:p,decorations:m,HTMLAttributes:v,extension:r})};return[r.name,l]}))}}class vV{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(i=>i.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(i=>i!==n):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}const yV=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;class bV extends vV{constructor(t={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=oV(yV))}setOptions(t={}){this.options=ve(ve({},this.options),t),!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t){this.setOptions({editable:t})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,n){const r=xD(n)?n(t,this.state.plugins):[...this.state.plugins,t],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(t){if(this.isDestroyed)return;const n=typeof t=="string"?`${t}$`:t.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(Qj):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new su(n,this)}createCommandManager(){this.commandManager=new lm({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const t=DD(this.options.content,this.schema,this.options.parseOptions),n=AD(t,this.options.autofocus);this.view=new zn(this.options.element,Xt(ve({},this.options.editorProps),{dispatchTransaction:this.dispatchTransaction.bind(this),state:xr.create({doc:t,selection:n})}));const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(a=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(a)});return}const n=this.state.apply(t),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const i=t.getMeta("focus"),o=t.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:t}),o&&this.emit("blur",{editor:this,event:o.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return ND(this.state,t)}isActive(t,n){const r=typeof t=="string"?t:null,i=typeof t=="string"?n:t;return tV(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return nV(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:n=`

`,textSerializers:r={}}=t||{};return rV(this.state.doc,{blockSeparator:n,textSerializers:ve(ve({},r),SD(this.schema))})}get isEmpty(){return iV(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}}class Sr{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=ve(ve({},this.config),t),this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=kt(tt(this,"addOptions",{name:this.name}))),this.storage=kt(tt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Sr(t)}configure(t={}){const n=this.extend();return n.options=rm(this.options,t),n.storage=kt(tt(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){const n=new Sr(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=kt(tt(n,"addOptions",{name:n.name})),n.storage=kt(tt(n,"addStorage",{name:n.name,options:n.options})),n}}class Oi{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=ve(ve({},this.config),t),this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=kt(tt(this,"addOptions",{name:this.name}))),this.storage=kt(tt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Oi(t)}configure(t={}){const n=this.extend();return n.options=rm(this.options,t),n.storage=kt(tt(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){const n=new Oi(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=kt(tt(n,"addOptions",{name:n.name})),n.storage=kt(tt(n,"addStorage",{name:n.name,options:n.options})),n}}class _V{constructor(t,n,r){this.isDragging=!1,this.component=t,this.editor=n.editor,this.options=ve({stopEvent:null,ignoreMutation:null},r),this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return null}get contentDOM(){return null}onDragStart(t){var n,r,i;const{view:o}=this.editor,a=t.target,l=a.nodeType===3?(n=a.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):a.closest("[data-drag-handle]");if(!this.dom||((r=this.contentDOM)===null||r===void 0?void 0:r.contains(a))||!l)return;let f=0,h=0;if(this.dom!==l){const v=this.dom.getBoundingClientRect(),b=l.getBoundingClientRect();f=b.x-v.x+t.offsetX,h=b.y-v.y+t.offsetY}(i=t.dataTransfer)===null||i===void 0||i.setDragImage(this.dom,f,h);const p=vt.create(o.state.doc,this.getPos()),m=o.state.tr.setSelection(p);o.dispatch(m)}stopEvent(t){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:t});const r=t.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const o=t.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!o)return!0;const{isEditable:l}=this.editor,{isDragging:f}=this,h=!!this.node.type.spec.draggable,p=vt.isSelectable(this.node),m=t.type==="copy",v=t.type==="paste",b=t.type==="cut",_=t.type==="mousedown",k=t.type.startsWith("drag");if(!h&&p&&k&&t.preventDefault(),h&&k&&!f)return t.preventDefault(),!1;if(h&&l&&!f&&_){const C=r.closest("[data-drag-handle]");C&&(this.dom===C||this.dom.contains(C))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(f||o||m||v||b||_&&p)}ignoreMutation(t){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:t}):this.node.isLeaf||this.node.isAtom?!0:t.type==="selection"||this.dom.contains(t.target)&&t.type==="childList"&&im()&&this.editor.isFocused&&[...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===t.target&&t.type==="attributes"?!0:!this.contentDOM.contains(t.target)}updateAttributes(t){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return n.setNodeMarkup(r,void 0,ve(ve({},this.node.attrs),t)),!0})}deleteNode(){const t=this.getPos(),n=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:n})}}function PD(e){return new um({find:e.find,handler:({state:t,range:n,match:r})=>{const i=kt(e.getAttributes,void 0,r)||{},{tr:o}=t,a=n.from;let l=n.to;if(r[1]){const f=r[0].lastIndexOf(r[1]);let h=a+f;h>l?h=l:l=h+r[1].length;const p=r[0][r[0].length-1];o.insertText(p,a+r[0].length-1),o.replaceWith(h,l,e.type.create(i))}else r[0]&&o.replaceWith(a,l,e.type.create(i))}})}function Ip(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(i=>{const o=n.resolve(e-1),a=M_(o,i.type);!a||r.push(ve({mark:i},a))}):n.nodesBetween(e,t,(i,o)=>{r.push(...i.marks.map(a=>({from:o,to:o+i.nodeSize,mark:a})))}),r}function fl(e){return new um({find:e.find,handler:({state:t,range:n,match:r})=>{const i=kt(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=t,a=r[r.length-1],l=r[0];let f=n.to;if(a){const h=l.search(/\S/),p=n.from+l.indexOf(a),m=p+a.length;if(Ip(n.from,n.to,t.doc).filter(b=>b.mark.type.excluded.find(k=>k===e.type&&k!==b.mark.type)).filter(b=>b.to>p).length)return null;m<n.to&&o.delete(m,n.to),p>n.from&&o.delete(n.from+h,p),f=n.from+h+a.length,o.addMark(n.from+h,f,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}function xy(e){return new um({find:e.find,handler:({state:t,range:n,match:r})=>{const i=t.doc.resolve(n.from),o=kt(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,o)}})}function L_(e){return new um({find:e.find,handler:({state:t,range:n,match:r})=>{const i=kt(e.getAttributes,void 0,r)||{},o=t.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),f=l&&l_(l,e.type,i);if(!f)return null;o.wrap(l,f);const h=o.doc.resolve(n.from-1).nodeBefore;h&&h.type===e.type&&_d(o.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,h))&&o.join(n.from-1)}})}function sa(e){return new uV({find:e.find,handler:({state:t,range:n,match:r})=>{const i=kt(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=t,a=r[r.length-1],l=r[0];let f=n.to;if(a){const h=l.search(/\S/),p=n.from+l.indexOf(a),m=p+a.length;if(Ip(n.from,n.to,t.doc).filter(b=>b.mark.type.excluded.find(k=>k===e.type&&k!==b.mark.type)).filter(b=>b.to>p).length)return null;m<n.to&&o.delete(m,n.to),p>n.from&&o.delete(n.from+h,p),f=n.from+h+a.length,o.addMark(n.from+h,f,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}function wV(e,t){const n=new Cn(e);return t.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function kV(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function xV(e,t=JSON.stringify){const n={};return e.filter(r=>{const i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function CV(e){const t=xV(e);return t.length===1?t:t.filter((n,r)=>!t.filter((o,a)=>a!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function SV(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((i,o)=>{const a=[];if(i.ranges.length)i.forEach((l,f)=>{a.push({from:l,to:f})});else{const{from:l,to:f}=n[o];if(l===void 0||f===void 0)return;a.push({from:l,to:f})}a.forEach(({from:l,to:f})=>{const h=t.slice(o).map(l,-1),p=t.slice(o).map(f),m=t.invert().map(h,-1),v=t.invert().map(p);r.push({oldRange:{from:m,to:v},newRange:{from:h,to:p}})})}),CV(r)}function TV(e){return TD(e)&&e instanceof vt}function ID(e,t,n){const i=e.state.doc.content.size,o=Ko(t,0,i),a=Ko(n,0,i),l=e.coordsAtPos(o),f=e.coordsAtPos(a,-1),h=Math.min(l.top,f.top),p=Math.max(l.bottom,f.bottom),m=Math.min(l.left,f.left),v=Math.max(l.right,f.right),b=v-m,_=p-h,E={top:h,bottom:p,left:m,right:v,width:b,height:_,x:m,y:h};return Xt(ve({},E),{toJSON:()=>E})}var Gr="top",Di="bottom",Mi="right",Jr="left",P_="auto",Cd=[Gr,Di,Mi,Jr],Hu="start",od="end",EV="clippingParents",FD="viewport",jf="popper",AV="reference",kS=Cd.reduce(function(e,t){return e.concat([t+"-"+Hu,t+"-"+od])},[]),RD=[].concat(Cd,[P_]).reduce(function(e,t){return e.concat([t,t+"-"+Hu,t+"-"+od])},[]),OV="beforeRead",DV="read",MV="afterRead",NV="beforeMain",LV="main",PV="afterMain",IV="beforeWrite",FV="write",RV="afterWrite",BV=[OV,DV,MV,NV,LV,PV,IV,FV,RV];function So(e){return e?(e.nodeName||"").toLowerCase():null}function no(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ju(e){var t=no(e).Element;return e instanceof t||e instanceof Element}function Ei(e){var t=no(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function I_(e){if(typeof ShadowRoot=="undefined")return!1;var t=no(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function zV(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!Ei(o)||!So(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var l=i[a];l===!1?o.removeAttribute(a):o.setAttribute(a,l===!0?"":l)}))})}function $V(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=a.reduce(function(f,h){return f[h]="",f},{});!Ei(i)||!So(i)||(Object.assign(i.style,l),Object.keys(o).forEach(function(f){i.removeAttribute(f)}))})}}var BD={name:"applyStyles",enabled:!0,phase:"write",fn:zV,effect:$V,requires:["computeStyles"]};function ko(e){return e.split("-")[0]}var rl=Math.max,Fp=Math.min,Vu=Math.round;function Wu(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(Ei(e)&&t){var o=e.offsetHeight,a=e.offsetWidth;a>0&&(r=Vu(n.width)/a||1),o>0&&(i=Vu(n.height)/o||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function F_(e){var t=Wu(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function zD(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&I_(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ss(e){return no(e).getComputedStyle(e)}function HV(e){return["table","td","th"].indexOf(So(e))>=0}function va(e){return((ju(e)?e.ownerDocument:e.document)||window.document).documentElement}function fm(e){return So(e)==="html"?e:e.assignedSlot||e.parentNode||(I_(e)?e.host:null)||va(e)}function xS(e){return!Ei(e)||ss(e).position==="fixed"?null:e.offsetParent}function jV(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Ei(e)){var r=ss(e);if(r.position==="fixed")return null}var i=fm(e);for(I_(i)&&(i=i.host);Ei(i)&&["html","body"].indexOf(So(i))<0;){var o=ss(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Sd(e){for(var t=no(e),n=xS(e);n&&HV(n)&&ss(n).position==="static";)n=xS(n);return n&&(So(n)==="html"||So(n)==="body"&&ss(n).position==="static")?t:n||jV(e)||t}function R_(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function kc(e,t,n){return rl(e,Fp(t,n))}function VV(e,t,n){var r=kc(e,t,n);return r>n?n:r}function $D(){return{top:0,right:0,bottom:0,left:0}}function HD(e){return Object.assign({},$D(),e)}function jD(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var WV=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,HD(typeof t!="number"?t:jD(t,Cd))};function UV(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,l=ko(n.placement),f=R_(l),h=[Jr,Mi].indexOf(l)>=0,p=h?"height":"width";if(!(!o||!a)){var m=WV(i.padding,n),v=F_(o),b=f==="y"?Gr:Jr,_=f==="y"?Di:Mi,k=n.rects.reference[p]+n.rects.reference[f]-a[f]-n.rects.popper[p],C=a[f]-n.rects.reference[f],E=Sd(o),S=E?f==="y"?E.clientHeight||0:E.clientWidth||0:0,F=k/2-C/2,O=m[b],K=S-v[p]-m[_],j=S/2-v[p]/2+F,U=kc(O,j,K),q=f;n.modifiersData[r]=(t={},t[q]=U,t.centerOffset=U-j,t)}}function KV(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||!zD(t.elements.popper,i)||(t.elements.arrow=i))}var qV={name:"arrow",enabled:!0,phase:"main",fn:UV,effect:KV,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Uu(e){return e.split("-")[1]}var GV={top:"auto",right:"auto",bottom:"auto",left:"auto"};function JV(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:Vu(t*i)/i||0,y:Vu(n*i)/i||0}}function CS(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,l=e.position,f=e.gpuAcceleration,h=e.adaptive,p=e.roundOffsets,m=e.isFixed,v=a.x,b=v===void 0?0:v,_=a.y,k=_===void 0?0:_,C=typeof p=="function"?p({x:b,y:k}):{x:b,y:k};b=C.x,k=C.y;var E=a.hasOwnProperty("x"),S=a.hasOwnProperty("y"),F=Jr,O=Gr,K=window;if(h){var j=Sd(n),U="clientHeight",q="clientWidth";if(j===no(n)&&(j=va(n),ss(j).position!=="static"&&l==="absolute"&&(U="scrollHeight",q="scrollWidth")),j=j,i===Gr||(i===Jr||i===Mi)&&o===od){O=Di;var B=m&&j===K&&K.visualViewport?K.visualViewport.height:j[U];k-=B-r.height,k*=f?1:-1}if(i===Jr||(i===Gr||i===Di)&&o===od){F=Mi;var R=m&&j===K&&K.visualViewport?K.visualViewport.width:j[q];b-=R-r.width,b*=f?1:-1}}var V=Object.assign({position:l},h&&GV),Z=p===!0?JV({x:b,y:k}):{x:b,y:k};if(b=Z.x,k=Z.y,f){var W;return Object.assign({},V,(W={},W[O]=S?"0":"",W[F]=E?"0":"",W.transform=(K.devicePixelRatio||1)<=1?"translate("+b+"px, "+k+"px)":"translate3d("+b+"px, "+k+"px, 0)",W))}return Object.assign({},V,(t={},t[O]=S?k+"px":"",t[F]=E?b+"px":"",t.transform="",t))}function YV(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,l=n.roundOffsets,f=l===void 0?!0:l,h={placement:ko(t.placement),variation:Uu(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,CS(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:f})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,CS(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var XV={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:YV,data:{}},Oh={passive:!0};function ZV(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,l=a===void 0?!0:a,f=no(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&h.forEach(function(p){p.addEventListener("scroll",n.update,Oh)}),l&&f.addEventListener("resize",n.update,Oh),function(){o&&h.forEach(function(p){p.removeEventListener("scroll",n.update,Oh)}),l&&f.removeEventListener("resize",n.update,Oh)}}var QV={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ZV,data:{}},eW={left:"right",right:"left",bottom:"top",top:"bottom"};function Vh(e){return e.replace(/left|right|bottom|top/g,function(t){return eW[t]})}var tW={start:"end",end:"start"};function SS(e){return e.replace(/start|end/g,function(t){return tW[t]})}function B_(e){var t=no(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function z_(e){return Wu(va(e)).left+B_(e).scrollLeft}function nW(e){var t=no(e),n=va(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,l=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,l=r.offsetTop)),{width:i,height:o,x:a+z_(e),y:l}}function rW(e){var t,n=va(e),r=B_(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=rl(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=rl(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+z_(e),f=-r.scrollTop;return ss(i||n).direction==="rtl"&&(l+=rl(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:l,y:f}}function $_(e){var t=ss(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function VD(e){return["html","body","#document"].indexOf(So(e))>=0?e.ownerDocument.body:Ei(e)&&$_(e)?e:VD(fm(e))}function xc(e,t){var n;t===void 0&&(t=[]);var r=VD(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=no(r),a=i?[o].concat(o.visualViewport||[],$_(r)?r:[]):r,l=t.concat(a);return i?l:l.concat(xc(fm(a)))}function Cy(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function iW(e){var t=Wu(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function TS(e,t){return t===FD?Cy(nW(e)):ju(t)?iW(t):Cy(rW(va(e)))}function oW(e){var t=xc(fm(e)),n=["absolute","fixed"].indexOf(ss(e).position)>=0,r=n&&Ei(e)?Sd(e):e;return ju(r)?t.filter(function(i){return ju(i)&&zD(i,r)&&So(i)!=="body"}):[]}function sW(e,t,n){var r=t==="clippingParents"?oW(e):[].concat(t),i=[].concat(r,[n]),o=i[0],a=i.reduce(function(l,f){var h=TS(e,f);return l.top=rl(h.top,l.top),l.right=Fp(h.right,l.right),l.bottom=Fp(h.bottom,l.bottom),l.left=rl(h.left,l.left),l},TS(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function WD(e){var t=e.reference,n=e.element,r=e.placement,i=r?ko(r):null,o=r?Uu(r):null,a=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,f;switch(i){case Gr:f={x:a,y:t.y-n.height};break;case Di:f={x:a,y:t.y+t.height};break;case Mi:f={x:t.x+t.width,y:l};break;case Jr:f={x:t.x-n.width,y:l};break;default:f={x:t.x,y:t.y}}var h=i?R_(i):null;if(h!=null){var p=h==="y"?"height":"width";switch(o){case Hu:f[h]=f[h]-(t[p]/2-n[p]/2);break;case od:f[h]=f[h]+(t[p]/2-n[p]/2);break}}return f}function sd(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.boundary,a=o===void 0?EV:o,l=n.rootBoundary,f=l===void 0?FD:l,h=n.elementContext,p=h===void 0?jf:h,m=n.altBoundary,v=m===void 0?!1:m,b=n.padding,_=b===void 0?0:b,k=HD(typeof _!="number"?_:jD(_,Cd)),C=p===jf?AV:jf,E=e.rects.popper,S=e.elements[v?C:p],F=sW(ju(S)?S:S.contextElement||va(e.elements.popper),a,f),O=Wu(e.elements.reference),K=WD({reference:O,element:E,strategy:"absolute",placement:i}),j=Cy(Object.assign({},E,K)),U=p===jf?j:O,q={top:F.top-U.top+k.top,bottom:U.bottom-F.bottom+k.bottom,left:F.left-U.left+k.left,right:U.right-F.right+k.right},B=e.modifiersData.offset;if(p===jf&&B){var R=B[i];Object.keys(q).forEach(function(V){var Z=[Mi,Di].indexOf(V)>=0?1:-1,W=[Gr,Di].indexOf(V)>=0?"y":"x";q[V]+=R[W]*Z})}return q}function aW(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,l=n.flipVariations,f=n.allowedAutoPlacements,h=f===void 0?RD:f,p=Uu(r),m=p?l?kS:kS.filter(function(_){return Uu(_)===p}):Cd,v=m.filter(function(_){return h.indexOf(_)>=0});v.length===0&&(v=m);var b=v.reduce(function(_,k){return _[k]=sd(e,{placement:k,boundary:i,rootBoundary:o,padding:a})[ko(k)],_},{});return Object.keys(b).sort(function(_,k){return b[_]-b[k]})}function lW(e){if(ko(e)===P_)return[];var t=Vh(e);return[SS(e),t,SS(t)]}function uW(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,l=a===void 0?!0:a,f=n.fallbackPlacements,h=n.padding,p=n.boundary,m=n.rootBoundary,v=n.altBoundary,b=n.flipVariations,_=b===void 0?!0:b,k=n.allowedAutoPlacements,C=t.options.placement,E=ko(C),S=E===C,F=f||(S||!_?[Vh(C)]:lW(C)),O=[C].concat(F).reduce(function(st,Ye){return st.concat(ko(Ye)===P_?aW(t,{placement:Ye,boundary:p,rootBoundary:m,padding:h,flipVariations:_,allowedAutoPlacements:k}):Ye)},[]),K=t.rects.reference,j=t.rects.popper,U=new Map,q=!0,B=O[0],R=0;R<O.length;R++){var V=O[R],Z=ko(V),W=Uu(V)===Hu,ie=[Gr,Di].indexOf(Z)>=0,L=ie?"width":"height",ce=sd(t,{placement:V,boundary:p,rootBoundary:m,altBoundary:v,padding:h}),pe=ie?W?Mi:Jr:W?Di:Gr;K[L]>j[L]&&(pe=Vh(pe));var Te=Vh(pe),We=[];if(o&&We.push(ce[Z]<=0),l&&We.push(ce[pe]<=0,ce[Te]<=0),We.every(function(st){return st})){B=V,q=!1;break}U.set(V,We)}if(q)for(var nt=_?3:1,bt=function(Ye){var Re=O.find(function(Ce){var _e=U.get(Ce);if(_e)return _e.slice(0,Ye).every(function(je){return je})});if(Re)return B=Re,"break"},Mt=nt;Mt>0;Mt--){var pt=bt(Mt);if(pt==="break")break}t.placement!==B&&(t.modifiersData[r]._skip=!0,t.placement=B,t.reset=!0)}}var fW={name:"flip",enabled:!0,phase:"main",fn:uW,requiresIfExists:["offset"],data:{_skip:!1}};function ES(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function AS(e){return[Gr,Mi,Di,Jr].some(function(t){return e[t]>=0})}function cW(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=sd(t,{elementContext:"reference"}),l=sd(t,{altBoundary:!0}),f=ES(a,r),h=ES(l,i,o),p=AS(f),m=AS(h);t.modifiersData[n]={referenceClippingOffsets:f,popperEscapeOffsets:h,isReferenceHidden:p,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":m})}var dW={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:cW};function hW(e,t,n){var r=ko(e),i=[Jr,Gr].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=o[0],l=o[1];return a=a||0,l=(l||0)*i,[Jr,Mi].indexOf(r)>=0?{x:l,y:a}:{x:a,y:l}}function pW(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,a=RD.reduce(function(p,m){return p[m]=hW(m,t.rects,o),p},{}),l=a[t.placement],f=l.x,h=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=a}var gW={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:pW};function mW(e){var t=e.state,n=e.name;t.modifiersData[n]=WD({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var vW={name:"popperOffsets",enabled:!0,phase:"read",fn:mW,data:{}};function yW(e){return e==="x"?"y":"x"}function bW(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,l=a===void 0?!1:a,f=n.boundary,h=n.rootBoundary,p=n.altBoundary,m=n.padding,v=n.tether,b=v===void 0?!0:v,_=n.tetherOffset,k=_===void 0?0:_,C=sd(t,{boundary:f,rootBoundary:h,padding:m,altBoundary:p}),E=ko(t.placement),S=Uu(t.placement),F=!S,O=R_(E),K=yW(O),j=t.modifiersData.popperOffsets,U=t.rects.reference,q=t.rects.popper,B=typeof k=="function"?k(Object.assign({},t.rects,{placement:t.placement})):k,R=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),V=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Z={x:0,y:0};if(!!j){if(o){var W,ie=O==="y"?Gr:Jr,L=O==="y"?Di:Mi,ce=O==="y"?"height":"width",pe=j[O],Te=pe+C[ie],We=pe-C[L],nt=b?-q[ce]/2:0,bt=S===Hu?U[ce]:q[ce],Mt=S===Hu?-q[ce]:-U[ce],pt=t.elements.arrow,st=b&&pt?F_(pt):{width:0,height:0},Ye=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:$D(),Re=Ye[ie],Ce=Ye[L],_e=kc(0,U[ce],st[ce]),je=F?U[ce]/2-nt-_e-Re-R.mainAxis:bt-_e-Re-R.mainAxis,qe=F?-U[ce]/2+nt+_e+Ce+R.mainAxis:Mt+_e+Ce+R.mainAxis,Ve=t.elements.arrow&&Sd(t.elements.arrow),gt=Ve?O==="y"?Ve.clientTop||0:Ve.clientLeft||0:0,ee=(W=V==null?void 0:V[O])!=null?W:0,re=pe+je-ee-gt,fe=pe+qe-ee,ge=kc(b?Fp(Te,re):Te,pe,b?rl(We,fe):We);j[O]=ge,Z[O]=ge-pe}if(l){var ye,H=O==="x"?Gr:Jr,X=O==="x"?Di:Mi,A=j[K],I=K==="y"?"height":"width",D=A+C[H],z=A-C[X],P=[Gr,Jr].indexOf(E)!==-1,Q=(ye=V==null?void 0:V[K])!=null?ye:0,ae=P?D:A-U[I]-q[I]-Q+R.altAxis,de=P?A+U[I]+q[I]-Q-R.altAxis:z,me=b&&P?VV(ae,A,de):kc(b?ae:D,A,b?de:z);j[K]=me,Z[K]=me-A}t.modifiersData[r]=Z}}var _W={name:"preventOverflow",enabled:!0,phase:"main",fn:bW,requiresIfExists:["offset"]};function wW(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function kW(e){return e===no(e)||!Ei(e)?B_(e):wW(e)}function xW(e){var t=e.getBoundingClientRect(),n=Vu(t.width)/e.offsetWidth||1,r=Vu(t.height)/e.offsetHeight||1;return n!==1||r!==1}function CW(e,t,n){n===void 0&&(n=!1);var r=Ei(t),i=Ei(t)&&xW(t),o=va(t),a=Wu(e,i),l={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!n)&&((So(t)!=="body"||$_(o))&&(l=kW(t)),Ei(t)?(f=Wu(t,!0),f.x+=t.clientLeft,f.y+=t.clientTop):o&&(f.x=z_(o))),{x:a.left+l.scrollLeft-f.x,y:a.top+l.scrollTop-f.y,width:a.width,height:a.height}}function SW(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var f=t.get(l);f&&i(f)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function TW(e){var t=SW(e);return BV.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function EW(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function AW(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var OS={placement:"bottom",modifiers:[],strategy:"absolute"};function DS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function OW(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?OS:i;return function(l,f,h){h===void 0&&(h=o);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},OS,o),modifiersData:{},elements:{reference:l,popper:f},attributes:{},styles:{}},m=[],v=!1,b={state:p,setOptions:function(E){var S=typeof E=="function"?E(p.options):E;k(),p.options=Object.assign({},o,p.options,S),p.scrollParents={reference:ju(l)?xc(l):l.contextElement?xc(l.contextElement):[],popper:xc(f)};var F=TW(AW([].concat(r,p.options.modifiers)));return p.orderedModifiers=F.filter(function(O){return O.enabled}),_(),b.update()},forceUpdate:function(){if(!v){var E=p.elements,S=E.reference,F=E.popper;if(!!DS(S,F)){p.rects={reference:CW(S,Sd(F),p.options.strategy==="fixed"),popper:F_(F)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(R){return p.modifiersData[R.name]=Object.assign({},R.data)});for(var O=0;O<p.orderedModifiers.length;O++){if(p.reset===!0){p.reset=!1,O=-1;continue}var K=p.orderedModifiers[O],j=K.fn,U=K.options,q=U===void 0?{}:U,B=K.name;typeof j=="function"&&(p=j({state:p,options:q,name:B,instance:b})||p)}}}},update:EW(function(){return new Promise(function(C){b.forceUpdate(),C(p)})}),destroy:function(){k(),v=!0}};if(!DS(l,f))return b;b.setOptions(h).then(function(C){!v&&h.onFirstUpdate&&h.onFirstUpdate(C)});function _(){p.orderedModifiers.forEach(function(C){var E=C.name,S=C.options,F=S===void 0?{}:S,O=C.effect;if(typeof O=="function"){var K=O({state:p,name:E,instance:b,options:F}),j=function(){};m.push(K||j)}})}function k(){m.forEach(function(C){return C()}),m=[]}return b}}var DW=[QV,vW,XV,BD,gW,fW,_W,qV,dW],MW=OW({defaultModifiers:DW}),NW="tippy-box",UD="tippy-content",LW="tippy-backdrop",KD="tippy-arrow",qD="tippy-svg-arrow",Ha={passive:!0,capture:!0},GD=function(){return document.body};function n0(e,t,n){if(Array.isArray(e)){var r=e[t];return r==null?Array.isArray(n)?n[t]:n:r}return e}function H_(e,t){var n={}.toString.call(e);return n.indexOf("[object")===0&&n.indexOf(t+"]")>-1}function JD(e,t){return typeof e=="function"?e.apply(void 0,t):e}function MS(e,t){if(t===0)return e;var n;return function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}}function PW(e){return e.split(/\s+/).filter(Boolean)}function ru(e){return[].concat(e)}function NS(e,t){e.indexOf(t)===-1&&e.push(t)}function IW(e){return e.filter(function(t,n){return e.indexOf(t)===n})}function FW(e){return e.split("-")[0]}function Rp(e){return[].slice.call(e)}function LS(e){return Object.keys(e).reduce(function(t,n){return e[n]!==void 0&&(t[n]=e[n]),t},{})}function Cc(){return document.createElement("div")}function cm(e){return["Element","Fragment"].some(function(t){return H_(e,t)})}function RW(e){return H_(e,"NodeList")}function BW(e){return H_(e,"MouseEvent")}function zW(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function $W(e){return cm(e)?[e]:RW(e)?Rp(e):Array.isArray(e)?e:Rp(document.querySelectorAll(e))}function r0(e,t){e.forEach(function(n){n&&(n.style.transitionDuration=t+"ms")})}function PS(e,t){e.forEach(function(n){n&&n.setAttribute("data-state",t)})}function HW(e){var t,n=ru(e),r=n[0];return r!=null&&(t=r.ownerDocument)!=null&&t.body?r.ownerDocument:document}function jW(e,t){var n=t.clientX,r=t.clientY;return e.every(function(i){var o=i.popperRect,a=i.popperState,l=i.props,f=l.interactiveBorder,h=FW(a.placement),p=a.modifiersData.offset;if(!p)return!0;var m=h==="bottom"?p.top.y:0,v=h==="top"?p.bottom.y:0,b=h==="right"?p.left.x:0,_=h==="left"?p.right.x:0,k=o.top-r+m>f,C=r-o.bottom-v>f,E=o.left-n+b>f,S=n-o.right-_>f;return k||C||E||S})}function i0(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){e[r](i,n)})}function IS(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var ho={isTouch:!1},FS=0;function VW(){ho.isTouch||(ho.isTouch=!0,window.performance&&document.addEventListener("mousemove",YD))}function YD(){var e=performance.now();e-FS<20&&(ho.isTouch=!1,document.removeEventListener("mousemove",YD)),FS=e}function WW(){var e=document.activeElement;if(zW(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function UW(){document.addEventListener("touchstart",VW,Ha),window.addEventListener("blur",WW)}var KW=typeof window!="undefined"&&typeof document!="undefined",qW=KW?!!window.msCrypto:!1,GW={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},JW={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},qi=Object.assign({appendTo:GD,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},GW,JW),YW=Object.keys(qi),XW=function(t){var n=Object.keys(t);n.forEach(function(r){qi[r]=t[r]})};function XD(e){var t=e.plugins||[],n=t.reduce(function(r,i){var o=i.name,a=i.defaultValue;if(o){var l;r[o]=e[o]!==void 0?e[o]:(l=qi[o])!=null?l:a}return r},{});return Object.assign({},e,n)}function ZW(e,t){var n=t?Object.keys(XD(Object.assign({},qi,{plugins:t}))):YW,r=n.reduce(function(i,o){var a=(e.getAttribute("data-tippy-"+o)||"").trim();if(!a)return i;if(o==="content")i[o]=a;else try{i[o]=JSON.parse(a)}catch{i[o]=a}return i},{});return r}function RS(e,t){var n=Object.assign({},t,{content:JD(t.content,[e])},t.ignoreAttributes?{}:ZW(e,t.plugins));return n.aria=Object.assign({},qi.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?t.interactive:n.aria.expanded,content:n.aria.content==="auto"?t.interactive?null:"describedby":n.aria.content},n}var QW=function(){return"innerHTML"};function Sy(e,t){e[QW()]=t}function BS(e){var t=Cc();return e===!0?t.className=KD:(t.className=qD,cm(e)?t.appendChild(e):Sy(t,e)),t}function zS(e,t){cm(t.content)?(Sy(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?Sy(e,t.content):e.textContent=t.content)}function Ty(e){var t=e.firstElementChild,n=Rp(t.children);return{box:t,content:n.find(function(r){return r.classList.contains(UD)}),arrow:n.find(function(r){return r.classList.contains(KD)||r.classList.contains(qD)}),backdrop:n.find(function(r){return r.classList.contains(LW)})}}function ZD(e){var t=Cc(),n=Cc();n.className=NW,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Cc();r.className=UD,r.setAttribute("data-state","hidden"),zS(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props);function i(o,a){var l=Ty(t),f=l.box,h=l.content,p=l.arrow;a.theme?f.setAttribute("data-theme",a.theme):f.removeAttribute("data-theme"),typeof a.animation=="string"?f.setAttribute("data-animation",a.animation):f.removeAttribute("data-animation"),a.inertia?f.setAttribute("data-inertia",""):f.removeAttribute("data-inertia"),f.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?f.setAttribute("role",a.role):f.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&zS(h,e.props),a.arrow?p?o.arrow!==a.arrow&&(f.removeChild(p),f.appendChild(BS(a.arrow))):f.appendChild(BS(a.arrow)):p&&f.removeChild(p)}return{popper:t,onUpdate:i}}ZD.$$tippy=!0;var eU=1,Dh=[],o0=[];function tU(e,t){var n=RS(e,Object.assign({},qi,XD(LS(t)))),r,i,o,a=!1,l=!1,f=!1,h=!1,p,m,v,b=[],_=MS(re,n.interactiveDebounce),k,C=eU++,E=null,S=IW(n.plugins),F={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},O={id:C,reference:e,popper:Cc(),popperInstance:E,props:n,state:F,plugins:S,clearDelayTimeouts:ae,setProps:de,setContent:me,show:J,hide:Y,hideWithInteractivity:he,enable:P,disable:Q,unmount:Le,destroy:it};if(!n.render)return O;var K=n.render(O),j=K.popper,U=K.onUpdate;j.setAttribute("data-tippy-root",""),j.id="tippy-"+O.id,O.popper=j,e._tippy=O,j._tippy=O;var q=S.map(function(oe){return oe.fn(O)}),B=e.hasAttribute("aria-expanded");return Ve(),nt(),pe(),Te("onCreate",[O]),n.showOnCreate&&D(),j.addEventListener("mouseenter",function(){O.props.interactive&&O.state.isVisible&&O.clearDelayTimeouts()}),j.addEventListener("mouseleave",function(){O.props.interactive&&O.props.trigger.indexOf("mouseenter")>=0&&ie().addEventListener("mousemove",_)}),O;function R(){var oe=O.props.touch;return Array.isArray(oe)?oe:[oe,0]}function V(){return R()[0]==="hold"}function Z(){var oe;return!!((oe=O.props.render)!=null&&oe.$$tippy)}function W(){return k||e}function ie(){var oe=W().parentNode;return oe?HW(oe):document}function L(){return Ty(j)}function ce(oe){return O.state.isMounted&&!O.state.isVisible||ho.isTouch||p&&p.type==="focus"?0:n0(O.props.delay,oe?0:1,qi.delay)}function pe(oe){oe===void 0&&(oe=!1),j.style.pointerEvents=O.props.interactive&&!oe?"":"none",j.style.zIndex=""+O.props.zIndex}function Te(oe,Fe,De){if(De===void 0&&(De=!0),q.forEach(function(Ue){Ue[oe]&&Ue[oe].apply(Ue,Fe)}),De){var we;(we=O.props)[oe].apply(we,Fe)}}function We(){var oe=O.props.aria;if(!!oe.content){var Fe="aria-"+oe.content,De=j.id,we=ru(O.props.triggerTarget||e);we.forEach(function(Ue){var Yt=Ue.getAttribute(Fe);if(O.state.isVisible)Ue.setAttribute(Fe,Yt?Yt+" "+De:De);else{var ct=Yt&&Yt.replace(De,"").trim();ct?Ue.setAttribute(Fe,ct):Ue.removeAttribute(Fe)}})}}function nt(){if(!(B||!O.props.aria.expanded)){var oe=ru(O.props.triggerTarget||e);oe.forEach(function(Fe){O.props.interactive?Fe.setAttribute("aria-expanded",O.state.isVisible&&Fe===W()?"true":"false"):Fe.removeAttribute("aria-expanded")})}}function bt(){ie().removeEventListener("mousemove",_),Dh=Dh.filter(function(oe){return oe!==_})}function Mt(oe){if(!(ho.isTouch&&(f||oe.type==="mousedown"))){var Fe=oe.composedPath&&oe.composedPath()[0]||oe.target;if(!(O.props.interactive&&IS(j,Fe))){if(ru(O.props.triggerTarget||e).some(function(De){return IS(De,Fe)})){if(ho.isTouch||O.state.isVisible&&O.props.trigger.indexOf("click")>=0)return}else Te("onClickOutside",[O,oe]);O.props.hideOnClick===!0&&(O.clearDelayTimeouts(),O.hide(),l=!0,setTimeout(function(){l=!1}),O.state.isMounted||Re())}}}function pt(){f=!0}function st(){f=!1}function Ye(){var oe=ie();oe.addEventListener("mousedown",Mt,!0),oe.addEventListener("touchend",Mt,Ha),oe.addEventListener("touchstart",st,Ha),oe.addEventListener("touchmove",pt,Ha)}function Re(){var oe=ie();oe.removeEventListener("mousedown",Mt,!0),oe.removeEventListener("touchend",Mt,Ha),oe.removeEventListener("touchstart",st,Ha),oe.removeEventListener("touchmove",pt,Ha)}function Ce(oe,Fe){je(oe,function(){!O.state.isVisible&&j.parentNode&&j.parentNode.contains(j)&&Fe()})}function _e(oe,Fe){je(oe,Fe)}function je(oe,Fe){var De=L().box;function we(Ue){Ue.target===De&&(i0(De,"remove",we),Fe())}if(oe===0)return Fe();i0(De,"remove",m),i0(De,"add",we),m=we}function qe(oe,Fe,De){De===void 0&&(De=!1);var we=ru(O.props.triggerTarget||e);we.forEach(function(Ue){Ue.addEventListener(oe,Fe,De),b.push({node:Ue,eventType:oe,handler:Fe,options:De})})}function Ve(){V()&&(qe("touchstart",ee,{passive:!0}),qe("touchend",fe,{passive:!0})),PW(O.props.trigger).forEach(function(oe){if(oe!=="manual")switch(qe(oe,ee),oe){case"mouseenter":qe("mouseleave",fe);break;case"focus":qe(qW?"focusout":"blur",ge);break;case"focusin":qe("focusout",ge);break}})}function gt(){b.forEach(function(oe){var Fe=oe.node,De=oe.eventType,we=oe.handler,Ue=oe.options;Fe.removeEventListener(De,we,Ue)}),b=[]}function ee(oe){var Fe,De=!1;if(!(!O.state.isEnabled||ye(oe)||l)){var we=((Fe=p)==null?void 0:Fe.type)==="focus";p=oe,k=oe.currentTarget,nt(),!O.state.isVisible&&BW(oe)&&Dh.forEach(function(Ue){return Ue(oe)}),oe.type==="click"&&(O.props.trigger.indexOf("mouseenter")<0||a)&&O.props.hideOnClick!==!1&&O.state.isVisible?De=!0:D(oe),oe.type==="click"&&(a=!De),De&&!we&&z(oe)}}function re(oe){var Fe=oe.target,De=W().contains(Fe)||j.contains(Fe);if(!(oe.type==="mousemove"&&De)){var we=I().concat(j).map(function(Ue){var Yt,ct=Ue._tippy,Bt=(Yt=ct.popperInstance)==null?void 0:Yt.state;return Bt?{popperRect:Ue.getBoundingClientRect(),popperState:Bt,props:n}:null}).filter(Boolean);jW(we,oe)&&(bt(),z(oe))}}function fe(oe){var Fe=ye(oe)||O.props.trigger.indexOf("click")>=0&&a;if(!Fe){if(O.props.interactive){O.hideWithInteractivity(oe);return}z(oe)}}function ge(oe){O.props.trigger.indexOf("focusin")<0&&oe.target!==W()||O.props.interactive&&oe.relatedTarget&&j.contains(oe.relatedTarget)||z(oe)}function ye(oe){return ho.isTouch?V()!==oe.type.indexOf("touch")>=0:!1}function H(){X();var oe=O.props,Fe=oe.popperOptions,De=oe.placement,we=oe.offset,Ue=oe.getReferenceClientRect,Yt=oe.moveTransition,ct=Z()?Ty(j).arrow:null,Bt=Ue?{getBoundingClientRect:Ue,contextElement:Ue.contextElement||W()}:e,zt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Sn){var Tn=Sn.state;if(Z()){var Or=L(),Qr=Or.box;["placement","reference-hidden","escaped"].forEach(function(wn){wn==="placement"?Qr.setAttribute("data-placement",Tn.placement):Tn.attributes.popper["data-popper-"+wn]?Qr.setAttribute("data-"+wn,""):Qr.removeAttribute("data-"+wn)}),Tn.attributes.popper={}}}},nn=[{name:"offset",options:{offset:we}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Yt}},zt];Z()&&ct&&nn.push({name:"arrow",options:{element:ct,padding:3}}),nn.push.apply(nn,(Fe==null?void 0:Fe.modifiers)||[]),O.popperInstance=MW(Bt,j,Object.assign({},Fe,{placement:De,onFirstUpdate:v,modifiers:nn}))}function X(){O.popperInstance&&(O.popperInstance.destroy(),O.popperInstance=null)}function A(){var oe=O.props.appendTo,Fe,De=W();O.props.interactive&&oe===GD||oe==="parent"?Fe=De.parentNode:Fe=JD(oe,[De]),Fe.contains(j)||Fe.appendChild(j),O.state.isMounted=!0,H()}function I(){return Rp(j.querySelectorAll("[data-tippy-root]"))}function D(oe){O.clearDelayTimeouts(),oe&&Te("onTrigger",[O,oe]),Ye();var Fe=ce(!0),De=R(),we=De[0],Ue=De[1];ho.isTouch&&we==="hold"&&Ue&&(Fe=Ue),Fe?r=setTimeout(function(){O.show()},Fe):O.show()}function z(oe){if(O.clearDelayTimeouts(),Te("onUntrigger",[O,oe]),!O.state.isVisible){Re();return}if(!(O.props.trigger.indexOf("mouseenter")>=0&&O.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(oe.type)>=0&&a)){var Fe=ce(!1);Fe?i=setTimeout(function(){O.state.isVisible&&O.hide()},Fe):o=requestAnimationFrame(function(){O.hide()})}}function P(){O.state.isEnabled=!0}function Q(){O.hide(),O.state.isEnabled=!1}function ae(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function de(oe){if(!O.state.isDestroyed){Te("onBeforeUpdate",[O,oe]),gt();var Fe=O.props,De=RS(e,Object.assign({},Fe,LS(oe),{ignoreAttributes:!0}));O.props=De,Ve(),Fe.interactiveDebounce!==De.interactiveDebounce&&(bt(),_=MS(re,De.interactiveDebounce)),Fe.triggerTarget&&!De.triggerTarget?ru(Fe.triggerTarget).forEach(function(we){we.removeAttribute("aria-expanded")}):De.triggerTarget&&e.removeAttribute("aria-expanded"),nt(),pe(),U&&U(Fe,De),O.popperInstance&&(H(),I().forEach(function(we){requestAnimationFrame(we._tippy.popperInstance.forceUpdate)})),Te("onAfterUpdate",[O,oe])}}function me(oe){O.setProps({content:oe})}function J(){var oe=O.state.isVisible,Fe=O.state.isDestroyed,De=!O.state.isEnabled,we=ho.isTouch&&!O.props.touch,Ue=n0(O.props.duration,0,qi.duration);if(!(oe||Fe||De||we)&&!W().hasAttribute("disabled")&&(Te("onShow",[O],!1),O.props.onShow(O)!==!1)){if(O.state.isVisible=!0,Z()&&(j.style.visibility="visible"),pe(),Ye(),O.state.isMounted||(j.style.transition="none"),Z()){var Yt=L(),ct=Yt.box,Bt=Yt.content;r0([ct,Bt],0)}v=function(){var nn;if(!(!O.state.isVisible||h)){if(h=!0,j.offsetHeight,j.style.transition=O.props.moveTransition,Z()&&O.props.animation){var on=L(),Sn=on.box,Tn=on.content;r0([Sn,Tn],Ue),PS([Sn,Tn],"visible")}We(),nt(),NS(o0,O),(nn=O.popperInstance)==null||nn.forceUpdate(),Te("onMount",[O]),O.props.animation&&Z()&&_e(Ue,function(){O.state.isShown=!0,Te("onShown",[O])})}},A()}}function Y(){var oe=!O.state.isVisible,Fe=O.state.isDestroyed,De=!O.state.isEnabled,we=n0(O.props.duration,1,qi.duration);if(!(oe||Fe||De)&&(Te("onHide",[O],!1),O.props.onHide(O)!==!1)){if(O.state.isVisible=!1,O.state.isShown=!1,h=!1,a=!1,Z()&&(j.style.visibility="hidden"),bt(),Re(),pe(!0),Z()){var Ue=L(),Yt=Ue.box,ct=Ue.content;O.props.animation&&(r0([Yt,ct],we),PS([Yt,ct],"hidden"))}We(),nt(),O.props.animation?Z()&&Ce(we,O.unmount):O.unmount()}}function he(oe){ie().addEventListener("mousemove",_),NS(Dh,_),_(oe)}function Le(){O.state.isVisible&&O.hide(),O.state.isMounted&&(X(),I().forEach(function(oe){oe._tippy.unmount()}),j.parentNode&&j.parentNode.removeChild(j),o0=o0.filter(function(oe){return oe!==O}),O.state.isMounted=!1,Te("onHidden",[O]))}function it(){O.state.isDestroyed||(O.clearDelayTimeouts(),O.unmount(),gt(),delete e._tippy,O.state.isDestroyed=!0,Te("onDestroy",[O]))}}function gi(e,t){t===void 0&&(t={});var n=qi.plugins.concat(t.plugins||[]);UW();var r=Object.assign({},t,{plugins:n}),i=$W(e),o=i.reduce(function(a,l){var f=l&&tU(l,r);return f&&a.push(f),a},[]);return cm(e)?o[0]:o}gi.defaultProps=qi;gi.setDefaultProps=XW;gi.currentInput=ho;Object.assign({},BD,{effect:function(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});gi.setDefaultProps({render:ZD});class nU{constructor({editor:t,element:n,view:r,tippyOptions:i={},shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:a,state:l,from:f,to:h})=>{const{doc:p,selection:m}=l,{empty:v}=m,b=!p.textBetween(f,h).length&&ED(l.selection);return!(!a.hasFocus()||v||b)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var l;if(this.preventHide){this.preventHide=!1;return}(a==null?void 0:a.relatedTarget)&&((l=this.element.parentNode)===null||l===void 0?void 0:l.contains(a.relatedTarget))||this.hide()},this.editor=t,this.element=n,this.view=r,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,n=!!t.parentElement;this.tippy||!n||(this.tippy=gi(t,ve({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle"},this.tippyOptions)),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",r=>{this.blurHandler({event:r})}))}update(t,n){var r,i,o;const{state:a,composing:l}=t,{doc:f,selection:h}=a,p=n&&n.doc.eq(f)&&n.selection.eq(h);if(l||p)return;this.createTooltip();const{ranges:m}=h,v=Math.min(...m.map(k=>k.$from.pos)),b=Math.max(...m.map(k=>k.$to.pos));if(!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:t,state:a,oldState:n,from:v,to:b}))){this.hide();return}(i=this.tippy)===null||i===void 0||i.setProps({getReferenceClientRect:((o=this.tippyOptions)===null||o===void 0?void 0:o.getReferenceClientRect)||(()=>{if(TV(a.selection)){const k=t.nodeDOM(v);if(k)return k.getBoundingClientRect()}return ID(t,v,b)})}),this.show()}show(){var t;(t=this.tippy)===null||t===void 0||t.show()}hide(){var t;(t=this.tippy)===null||t===void 0||t.hide()}destroy(){var t;(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const QD=e=>new bn({key:typeof e.pluginKey=="string"?new Gn(e.pluginKey):e.pluginKey,view:t=>new nU(ve({view:t},e))});Cr.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[QD({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});class rU{constructor({editor:t,element:n,view:r,tippyOptions:i={},shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:a,state:l})=>{const{selection:f}=l,{$anchor:h,empty:p}=f,m=h.depth===1,v=h.parent.isTextblock&&!h.parent.type.spec.code&&!h.parent.textContent;return!(!a.hasFocus()||!p||!m||!v)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var l;if(this.preventHide){this.preventHide=!1;return}(a==null?void 0:a.relatedTarget)&&((l=this.element.parentNode)===null||l===void 0?void 0:l.contains(a.relatedTarget))||this.hide()},this.editor=t,this.element=n,this.view=r,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,n=!!t.parentElement;this.tippy||!n||(this.tippy=gi(t,ve({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle"},this.tippyOptions)),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",r=>{this.blurHandler({event:r})}))}update(t,n){var r,i,o;const{state:a}=t,{doc:l,selection:f}=a,{from:h,to:p}=f;if(n&&n.doc.eq(l)&&n.selection.eq(f))return;if(this.createTooltip(),!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:t,state:a,oldState:n}))){this.hide();return}(i=this.tippy)===null||i===void 0||i.setProps({getReferenceClientRect:((o=this.tippyOptions)===null||o===void 0?void 0:o.getReferenceClientRect)||(()=>ID(t,h,p))}),this.show()}show(){var t;(t=this.tippy)===null||t===void 0||t.show()}hide(){var t;(t=this.tippy)===null||t===void 0||t.hide()}destroy(){var t;(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const eM=e=>new bn({key:typeof e.pluginKey=="string"?new Gn(e.pluginKey):e.pluginKey,view:t=>new rU(ve({view:t},e))});Cr.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[eM({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});pn({name:"BubbleMenu",props:{pluginKey:{type:null,default:"bubbleMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(e,{slots:t}){const n=St(null);return to(()=>{const{pluginKey:r,editor:i,tippyOptions:o,shouldShow:a}=e;i.registerPlugin(QD({pluginKey:r,editor:i,element:n.value,tippyOptions:o,shouldShow:a}))}),cs(()=>{const{pluginKey:r,editor:i}=e;i.unregisterPlugin(r)}),()=>{var r;return Xn("div",{ref:n},(r=t.default)===null||r===void 0?void 0:r.call(t))}}});function $S(e){return Y2((t,n)=>({get(){return t(),e},set(r){e=r,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class iU extends bV{constructor(t={}){return super(t),this.vueRenderers=bl(new Map),this.contentComponent=null,this.reactiveState=$S(this.view.state),this.reactiveExtensionStorage=$S(this.extensionStorage),this.on("transaction",()=>{this.reactiveState.value=this.view.state,this.reactiveExtensionStorage.value=this.extensionStorage}),ca(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(t,n){super.registerPlugin(t,n),this.reactiveState.value=this.view.state}unregisterPlugin(t){super.unregisterPlugin(t),this.reactiveState.value=this.view.state}}const oU=pn({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(e){const t=St(),n=Eo();return aT(()=>{const r=e.editor;r&&r.options.element&&t.value&&vo(()=>{if(!t.value||!r.options.element.firstChild)return;const i=Fr(t.value);t.value.append(...r.options.element.childNodes),r.contentComponent=n.ctx._,r.setOptions({element:i}),r.createNodeViews()})}),cs(()=>{const r=e.editor;if(!r||(r.isDestroyed||r.view.setProps({nodeViews:{}}),r.contentComponent=null,!r.options.element.firstChild))return;const i=document.createElement("div");i.append(...r.options.element.childNodes),r.setOptions({element:i})}),{rootEl:t}},render(){const e=[];return this.editor&&this.editor.vueRenderers.forEach(t=>{const n=Xn(MT,{to:t.teleportElement,key:t.id},Xn(t.component,ve({ref:t.id},t.props)));e.push(n)}),Xn("div",{ref:t=>{this.rootEl=t}},...e)}});pn({name:"FloatingMenu",props:{pluginKey:{type:null,default:"floatingMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(e,{slots:t}){const n=St(null);return to(()=>{const{pluginKey:r,editor:i,tippyOptions:o,shouldShow:a}=e;i.registerPlugin(eM({pluginKey:r,editor:i,element:n.value,tippyOptions:o,shouldShow:a}))}),cs(()=>{const{pluginKey:r,editor:i}=e;i.unregisterPlugin(r)}),()=>{var r;return Xn("div",{ref:n},(r=t.default)===null||r===void 0?void 0:r.call(t))}}});class sU{constructor(t,{props:n={},editor:r}){if(this.id=Math.floor(Math.random()*4294967295).toString(),this.editor=r,this.component=ca(t),this.teleportElement=document.createElement("div"),this.element=this.teleportElement,this.props=bl(n),this.editor.vueRenderers.set(this.id,this),this.editor.contentComponent){if(this.editor.contentComponent.update(),this.teleportElement.children.length!==1)throw Error("VueRenderer doesn\u2019t support multiple child elements.");this.element=this.teleportElement.firstElementChild}}get ref(){var t;return(t=this.editor.contentComponent)===null||t===void 0?void 0:t.refs[this.id]}updateProps(t={}){Object.entries(t).forEach(([n,r])=>{this.props[n]=r})}destroy(){this.editor.vueRenderers.delete(this.id)}}class aU extends _V{mount(){const t={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(i={})=>this.updateAttributes(i),deleteNode:()=>this.deleteNode()},n=this.onDragStart.bind(this);this.decorationClasses=St(this.getDecorationClasses());const r=pn({extends:ve({},this.component),props:Object.keys(t),template:this.component.template,setup:i=>{var o,a;return Qh("onDragStart",n),Qh("decorationClasses",this.decorationClasses),(a=(o=this.component).setup)===null||a===void 0?void 0:a.call(o,i,{expose:()=>{}})},__scopeId:this.component.__scopeId,__cssModules:this.component.__cssModules});this.renderer=new sU(r,{editor:this.editor,props:t})}get dom(){if(!this.renderer.element.hasAttribute("data-node-view-wrapper"))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.dom.querySelector("[data-node-view-content]")||this.dom}update(t,n){const r=i=>{this.decorationClasses.value=this.getDecorationClasses(),this.renderer.updateProps(i)};if(typeof this.options.update=="function"){const i=this.node,o=this.decorations;return this.node=t,this.decorations=n,this.options.update({oldNode:i,oldDecorations:o,newNode:t,newDecorations:n,updateProps:()=>r({node:t,decorations:n})})}return t.type!==this.node.type?!1:(t===this.node&&this.decorations===n||(this.node=t,this.decorations=n,r({node:t,decorations:n})),!0)}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}getDecorationClasses(){return this.decorations.map(t=>t.type.attrs.class).flat().join(" ")}destroy(){this.renderer.destroy()}}function lU(e,t){return n=>n.editor.contentComponent?new aU(e,n,t):{}}const uU=pn({props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var e,t;return Xn(this.as,{class:this.decorationClasses.value,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))}});pn({props:{as:{type:String,default:"div"}},render(){return Xn(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}});const fU=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,cU=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,dU=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,hU=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,pU=Oi.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",Ln(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[fl({find:fU,type:this.type}),fl({find:dU,type:this.type})]},addPasteRules(){return[sa({find:cU,type:this.type}),sa({find:hU,type:this.type})]}}),gU=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,mU=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,vU=Oi.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",Ln(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[fl({find:gU,type:this.type})]},addPasteRules(){return[sa({find:mU,type:this.type})]}}),yU=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,bU=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,_U=Oi.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",Ln(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[fl({find:yU,type:this.type})]},addPasteRules(){return[sa({find:bU,type:this.type})]}}),wU=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,kU=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,xU=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,CU=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,SU=Oi.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",Ln(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[fl({find:wU,type:this.type}),fl({find:xU,type:this.type})]},addPasteRules(){return[sa({find:kU,type:this.type}),sa({find:CU,type:this.type})]}}),TU=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,EU=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,AU=Oi.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",Ln(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[fl({find:TU,type:this.type})]},addPasteRules(){return[sa({find:EU,type:this.type})]}}),OU=Oi.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(e){if(e!=="sub")return!1}}]},renderHTML({HTMLAttributes:e}){return["sub",Ln(this.options.HTMLAttributes,e),0]},addCommands(){return{setSubscript:()=>({commands:e})=>e.setMark(this.name),toggleSubscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSubscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),DU=Oi.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(e){if(e!=="super")return!1}}]},renderHTML({HTMLAttributes:e}){return["sup",Ln(this.options.HTMLAttributes,e),0]},addCommands(){return{setSuperscript:()=>({commands:e})=>e.setMark(this.name),toggleSuperscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSuperscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),MU=Oi.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",Ln(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),NU=/^\s*>\s$/,LU=Sr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return["blockquote",Ln(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[L_({find:NU,type:this.type})]}}),PU=/^\s*([-+*])\s$/,IU=Sr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",Ln(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[L_({find:PU,type:this.type})]}}),FU=/^```([a-z]+)?[\s\n]$/,RU=/^~~~([a-z]+)?[\s\n]$/,BU=Sr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,o=[...((t=e.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",Ln(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!o||!a?!1:e.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0||r.nodeAt(l)?!1:e.commands.exitCode()}}},addInputRules(){return[xy({find:FU,type:this.type,getAttributes:e=>({language:e[1]})}),xy({find:RU,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new bn({key:new Gn("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:a}=e.state;return a.replaceSelectionWith(this.type.create({language:o})),a.setSelection(Ct.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.insertText(n.replace(/\r\n?/g,`
`)),a.setMeta("paste",!0),e.dispatch(a),!0}}})]}}),zU=Sr.create({name:"doc",topNode:!0,content:"block+"}),$U=Sr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",Ln(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:l}=r.extensionManager,f=o||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:h,dispatch:p})=>{if(p&&f&&a){const m=f.filter(v=>l.includes(v.type.name));h.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),HU=Sr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,Ln(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>Xt(ve({},e),{[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>xy({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),jU=Sr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",Ln(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e})=>e().insertContent({type:this.name}).command(({tr:t,dispatch:n})=>{var r;if(n){const{$to:i}=t.selection,o=i.end();if(i.nodeAfter)t.setSelection(Ct.create(t.doc,i.pos));else{const a=(r=i.parent.type.contentMatch.defaultType)===null||r===void 0?void 0:r.create();a&&(t.insert(o,a),t.setSelection(Ct.create(t.doc,o)))}t.scrollIntoView()}return!0}).run()}},addInputRules(){return[PD({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),VU=Sr.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",Ln(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),WU=/^(\d+)\.\s$/,UU=Sr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const r=e,{start:t}=r,n=Xl(r,["start"]);return t===1?["ol",Ln(this.options.HTMLAttributes,n),0]:["ol",Ln(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[L_({find:WU,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]})]}}),KU=Sr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",Ln(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),qU=Sr.create({name:"text",group:"inline"});function GU(e){return e===void 0&&(e={}),new bn({view:function(n){return new Do(n,e)}})}var Do=function(t,n){var r=this;this.editorView=t,this.width=n.width||1,this.color=n.color||"black",this.class=n.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map(function(i){var o=function(a){return r[i](a)};return t.dom.addEventListener(i,o),{name:i,handler:o}})};Do.prototype.destroy=function(){var t=this;this.handlers.forEach(function(n){var r=n.name,i=n.handler;return t.editorView.dom.removeEventListener(r,i)})};Do.prototype.update=function(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())};Do.prototype.setCursor=function(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())};Do.prototype.updateOverlay=function(){var t=this.editorView.state.doc.resolve(this.cursorPos),n;if(!t.parent.inlineContent){var r=t.nodeBefore,i=t.nodeAfter;if(r||i){var o=this.editorView.nodeDOM(this.cursorPos-(r?r.nodeSize:0)).getBoundingClientRect(),a=r?o.bottom:o.top;r&&i&&(a=(a+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:o.left,right:o.right,top:a-this.width/2,bottom:a+this.width/2}}}if(!n){var l=this.editorView.coordsAtPos(this.cursorPos);n={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}var f=this.editorView.dom.offsetParent;this.element||(this.element=f.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);var h,p;if(!f||f==document.body&&getComputedStyle(f).position=="static")h=-pageXOffset,p=-pageYOffset;else{var m=f.getBoundingClientRect();h=m.left-f.scrollLeft,p=m.top-f.scrollTop}this.element.style.left=n.left-h+"px",this.element.style.top=n.top-p+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"};Do.prototype.scheduleRemoval=function(t){var n=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){return n.setCursor(null)},t)};Do.prototype.dragover=function(t){if(!!this.editorView.editable){var n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n):i;if(n&&!o){var a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(a=hO(this.editorView.state.doc,a,this.editorView.dragging.slice),a==null))return this.setCursor(null);this.setCursor(a),this.scheduleRemoval(5e3)}}};Do.prototype.dragend=function(){this.scheduleRemoval(20)};Do.prototype.drop=function(){this.scheduleRemoval(20)};Do.prototype.dragleave=function(t){(t.target==this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(null)};const JU=Cr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:null}},addProseMirrorPlugins(){return[GU(this.options)]}}),YU=Cr.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new bn({key:new Gn("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=t,o=[];if(!n||!r)return Jt.create(e,[]);let a=0;this.options.mode==="deepest"&&e.descendants((f,h)=>{if(f.isText)return;if(!(i>=h&&i<=h+f.nodeSize-1))return!1;a+=1});let l=0;return e.descendants((f,h)=>{if(f.isText||!(i>=h&&i<=h+f.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&a-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";o.push(qn.node(h,h+f.nodeSize,{class:this.options.className}))}),Jt.create(e,o)}}})]}});var Ni=function(e){function t(n){e.call(this,n,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(r,i){var o=r.resolve(i.map(this.head));return t.valid(o)?new t(o):e.near(o)},t.prototype.content=function(){return Je.empty},t.prototype.eq=function(r){return r instanceof t&&r.head==this.head},t.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},t.fromJSON=function(r,i){if(typeof i.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new t(r.resolve(i.pos))},t.prototype.getBookmark=function(){return new Bp(this.anchor)},t.valid=function(r){var i=r.parent;if(i.isTextblock||!XU(r)||!ZU(r))return!1;var o=i.type.spec.allowGapCursor;if(o!=null)return o;var a=i.contentMatchAt(r.index()).defaultType;return a&&a.isTextblock},t.findFrom=function(r,i,o){e:for(;;){if(!o&&t.valid(r))return r;for(var a=r.pos,l=null,f=r.depth;;f--){var h=r.node(f);if(i>0?r.indexAfter(f)<h.childCount:r.index(f)>0){l=h.child(i>0?r.indexAfter(f):r.index(f)-1);break}else if(f==0)return null;a+=i;var p=r.doc.resolve(a);if(t.valid(p))return p}for(;;){var m=i>0?l.firstChild:l.lastChild;if(!m){if(l.isAtom&&!l.isText&&!vt.isSelectable(l)){r=r.doc.resolve(a+l.nodeSize*i),o=!1;continue e}break}l=m,a+=i;var v=r.doc.resolve(a);if(t.valid(v))return v}return null}},t}(yt);Ni.prototype.visible=!1;yt.jsonID("gapcursor",Ni);var Bp=function(t){this.pos=t};Bp.prototype.map=function(t){return new Bp(t.map(this.pos))};Bp.prototype.resolve=function(t){var n=t.resolve(this.pos);return Ni.valid(n)?new Ni(n):yt.near(n)};function XU(e){for(var t=e.depth;t>=0;t--){var n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(var i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function ZU(e){for(var t=e.depth;t>=0;t--){var n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(var i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}var QU=function(){return new bn({props:{decorations:rK,createSelectionBetween:function(t,n,r){if(n.pos==r.pos&&Ni.valid(r))return new Ni(r)},handleClick:tK,handleKeyDown:eK,handleDOMEvents:{beforeinput:nK}}})},eK=kD({ArrowLeft:Mh("horiz",-1),ArrowRight:Mh("horiz",1),ArrowUp:Mh("vert",-1),ArrowDown:Mh("vert",1)});function Mh(e,t){var n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,o){var a=r.selection,l=t>0?a.$to:a.$from,f=a.empty;if(a instanceof Ct){if(!o.endOfTextblock(n)||l.depth==0)return!1;f=!1,l=r.doc.resolve(t>0?l.after():l.before())}var h=Ni.findFrom(l,t,f);return h?(i&&i(r.tr.setSelection(new Ni(h))),!0):!1}}function tK(e,t,n){if(!e.editable)return!1;var r=e.state.doc.resolve(t);if(!Ni.valid(r))return!1;var i=e.posAtCoords({left:n.clientX,top:n.clientY}),o=i.inside;return o>-1&&vt.isSelectable(e.state.doc.nodeAt(o))?!1:(e.dispatch(e.state.tr.setSelection(new Ni(r))),!0)}function nK(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof Ni))return!1;var n=e.state.selection,r=n.$from,i=r.parent.contentMatchAt(r.index()).findWrapping(e.state.schema.nodes.text);if(!i)return!1;for(var o=Ae.empty,a=i.length-1;a>=0;a--)o=Ae.from(i[a].createAndFill(null,o));var l=e.state.tr.replace(r.pos,r.pos,new Je(o,0,0));return l.setSelection(Ct.near(l.doc.resolve(r.pos+1))),e.dispatch(l),!1}function rK(e){if(!(e.selection instanceof Ni))return null;var t=document.createElement("div");return t.className="ProseMirror-gapcursor",Jt.create(e.doc,[qn.widget(e.selection.head,t,{key:"gapcursor"})])}const iK=Cr.create({name:"gapCursor",addProseMirrorPlugins(){return[QU()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=kt(tt(e,"allowGapCursor",n)))!==null&&t!==void 0?t:null}}});var zp=200,ar=function(){};ar.prototype.append=function(t){return t.length?(t=ar.from(t),!this.length&&t||t.length<zp&&this.leafAppend(t)||this.length<zp&&t.leafPrepend(this)||this.appendInner(t)):this};ar.prototype.prepend=function(t){return t.length?ar.from(t).append(this):this};ar.prototype.appendInner=function(t){return new oK(this,t)};ar.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?ar.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};ar.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};ar.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};ar.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,a){return i.push(t(o,a))},n,r),i};ar.from=function(t){return t instanceof ar?t:t&&t.length?new tM(t):ar.empty};var tM=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new t(this.values.slice(i,o))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,o,a,l){for(var f=o;f<a;f++)if(i(this.values[f],l+f)===!1)return!1},t.prototype.forEachInvertedInner=function(i,o,a,l){for(var f=o-1;f>=a;f--)if(i(this.values[f],l+f)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=zp)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=zp)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(ar);ar.empty=new tM([]);var oK=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,o,a){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(o,l),a)===!1||o>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,o)-l,a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,o,a){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(o,l)-l,a+l)===!1||o<l&&this.left.forEachInvertedInner(r,Math.min(i,l),o,a)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(ar),nM=ar,sK=500,fr=function(t,n){this.items=t,this.eventCount=n};fr.prototype.popEvent=function(t,n){var r=this;if(this.eventCount==0)return null;for(var i=this.items.length;;i--){var o=this.items.get(i-1);if(o.selection){--i;break}}var a,l;n&&(a=this.remapping(i,this.items.length),l=a.maps.length);var f=t.tr,h,p,m=[],v=[];return this.items.forEach(function(b,_){if(!b.step){a||(a=r.remapping(i,_+1),l=a.maps.length),l--,v.push(b);return}if(a){v.push(new xo(b.map));var k=b.step.map(a.slice(l)),C;k&&f.maybeStep(k).doc&&(C=f.mapping.maps[f.mapping.maps.length-1],m.push(new xo(C,null,null,m.length+v.length))),l--,C&&a.appendMap(C,l)}else f.maybeStep(b.step);if(b.selection)return h=a?b.selection.map(a.slice(l)):b.selection,p=new fr(r.items.slice(0,i).append(v.reverse().concat(m)),r.eventCount-1),!1},this.items.length,0),{remaining:p,transform:f,selection:h}};fr.prototype.addTransform=function(t,n,r,i){for(var o=[],a=this.eventCount,l=this.items,f=!i&&l.length?l.get(l.length-1):null,h=0;h<t.steps.length;h++){var p=t.steps[h].invert(t.docs[h]),m=new xo(t.mapping.maps[h],p,n),v=void 0;(v=f&&f.merge(m))&&(m=v,h?o.pop():l=l.slice(0,l.length-1)),o.push(m),n&&(a++,n=null),i||(f=m)}var b=a-r.depth;return b>lK&&(l=aK(l,b),a-=b),new fr(l.append(o),a)};fr.prototype.remapping=function(t,n){var r=new kr;return this.items.forEach(function(i,o){var a=i.mirrorOffset!=null&&o-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:null;r.appendMap(i.map,a)},t,n),r};fr.prototype.addMaps=function(t){return this.eventCount==0?this:new fr(this.items.append(t.map(function(n){return new xo(n)})),this.eventCount)};fr.prototype.rebased=function(t,n){if(!this.eventCount)return this;var r=[],i=Math.max(0,this.items.length-n),o=t.mapping,a=t.steps.length,l=this.eventCount;this.items.forEach(function(b){b.selection&&l--},i);var f=n;this.items.forEach(function(b){var _=o.getMirror(--f);if(_!=null){a=Math.min(a,_);var k=o.maps[_];if(b.step){var C=t.steps[_].invert(t.docs[_]),E=b.selection&&b.selection.map(o.slice(f+1,_));E&&l++,r.push(new xo(k,C,E))}else r.push(new xo(k))}},i);for(var h=[],p=n;p<a;p++)h.push(new xo(o.maps[p]));var m=this.items.slice(0,i).append(h).append(r),v=new fr(m,l);return v.emptyItemCount()>sK&&(v=v.compress(this.items.length-r.length)),v};fr.prototype.emptyItemCount=function(){var t=0;return this.items.forEach(function(n){n.step||t++}),t};fr.prototype.compress=function(t){t===void 0&&(t=this.items.length);var n=this.remapping(0,t),r=n.maps.length,i=[],o=0;return this.items.forEach(function(a,l){if(l>=t)i.push(a),a.selection&&o++;else if(a.step){var f=a.step.map(n.slice(r)),h=f&&f.getMap();if(r--,h&&n.appendMap(h,r),f){var p=a.selection&&a.selection.map(n.slice(r));p&&o++;var m=new xo(h.invert(),f,p),v,b=i.length-1;(v=i.length&&i[b].merge(m))?i[b]=v:i.push(m)}}else a.map&&r--},this.items.length,0),new fr(nM.from(i.reverse()),o)};fr.empty=new fr(nM.empty,0);function aK(e,t){var n;return e.forEach(function(r,i){if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}var xo=function(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i};xo.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var n=t.step.merge(this.step);if(n)return new xo(n.getMap().invert(),n,this.selection)}};var js=function(t,n,r,i){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i},lK=20;function uK(e,t,n,r){var i=n.getMeta(qs),o;if(i)return i.historyState;n.getMeta(cK)&&(e=new js(e.done,e.undone,null,0));var a=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(a&&a.getMeta(qs))return a.getMeta(qs).redo?new js(e.done.addTransform(n,null,r,Wh(t)),e.undone,HS(n.mapping.maps[n.steps.length-1]),e.prevTime):new js(e.done,e.undone.addTransform(n,null,r,Wh(t)),null,e.prevTime);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){var l=e.prevTime==0||!a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!fK(n,e.prevRanges)),f=a?s0(e.prevRanges,n.mapping):HS(n.mapping.maps[n.steps.length-1]);return new js(e.done.addTransform(n,l?t.selection.getBookmark():null,r,Wh(t)),fr.empty,f,n.time)}else return(o=n.getMeta("rebased"))?new js(e.done.rebased(n,o),e.undone.rebased(n,o),s0(e.prevRanges,n.mapping),e.prevTime):new js(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),s0(e.prevRanges,n.mapping),e.prevTime)}function fK(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach(function(r,i){for(var o=0;o<t.length;o+=2)r<=t[o+1]&&i>=t[o]&&(n=!0)}),n}function HS(e){var t=[];return e.forEach(function(n,r,i,o){return t.push(i,o)}),t}function s0(e,t){if(!e)return null;for(var n=[],r=0;r<e.length;r+=2){var i=t.map(e[r],1),o=t.map(e[r+1],-1);i<=o&&n.push(i,o)}return n}function rM(e,t,n,r){var i=Wh(t),o=qs.get(t).spec.config,a=(r?e.undone:e.done).popEvent(t,i);if(!!a){var l=a.selection.resolve(a.transform.doc),f=(r?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),o,i),h=new js(r?f:a.remaining,r?a.remaining:f,null,0);n(a.transform.setSelection(l).setMeta(qs,{redo:r,historyState:h}).scrollIntoView())}}var a0=!1,jS=null;function Wh(e){var t=e.plugins;if(jS!=t){a0=!1,jS=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){a0=!0;break}}return a0}var qs=new Gn("history"),cK=new Gn("closeHistory");function dK(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new bn({key:qs,state:{init:function(){return new js(fr.empty,fr.empty,null,0)},apply:function(n,r,i){return uK(r,i,n,e)}},config:e,props:{handleDOMEvents:{beforeinput:function(n,r){var i=r.inputType=="historyUndo"?iM(n.state,n.dispatch):r.inputType=="historyRedo"?oM(n.state,n.dispatch):!1;return i&&r.preventDefault(),i}}}})}function iM(e,t){var n=qs.getState(e);return!n||n.done.eventCount==0?!1:(t&&rM(n,e,t,!1),!0)}function oM(e,t){var n=qs.getState(e);return!n||n.undone.eventCount==0?!1:(t&&rM(n,e,t,!0),!0)}const hK=Cr.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>iM(e,t),redo:()=>({state:e,dispatch:t})=>oM(e,t)}},addProseMirrorPlugins(){return[dK(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-\u044F":()=>this.editor.commands.undo(),"Shift-Mod-\u044F":()=>this.editor.commands.redo()}}}),pK=Cr.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>e.style.textAlign||this.options.defaultAlignment,renderHTML:e=>e.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${e.textAlign}`}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.every(n=>t.updateAttributes(n,{textAlign:e})):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.every(t=>e.resetAttributes(t,"textAlign"))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}});function VS(e,t){let n,r;const i=e.toLowerCase();for(t=[].concat(t),n=0;n<t.length;n+=1)if(r=t[n],!!r&&(r.test&&r.test(e)||r.toLowerCase()===i))return!0}const gK=(e,t,n)=>{if(typeof e=="number"&&(e=`${e}`),typeof e!="string")return!!e;if(e=e.trim(),VS(e,t||["true","1"]))return!0;if(VS(e,n||["false","0"]))return!1};var _n=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};const mK={name:"LightswitchField",props:{small:{type:Boolean,default:!1},extraSmall:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],data(){return{id:`lightswitch-${Craft.randomString(10)}`,dragger:null,dragging:!1,innerStyle:{},proxyValue:!1,indeterminate:!1}},computed:{offMargin(){return this.small?-10:-12}},watch:{proxyValue(e){this.$emit("update:modelValue",e)}},created(){this.proxyValue=this.modelValue},mounted(){const{container:e}=this.$refs;this.$nextTick(()=>{const t=$(e).data("lightswitch");t&&t.destroy(),this.dragger=new Garnish.BaseDrag(e,{axis:Garnish.X_AXIS,ignoreHandleSelector:null,onDragStart:this.onDragStart.bind(this),onDrag:this.onDrag.bind(this),onDragStop:this.onDragStop.bind(this)})})},beforeUnmount(){this.dragger&&this.dragger.destroy()},methods:{turnOn(){this.proxyValue=!0,this.indeterminate=!1,this.dragging=!0;const{innerContainer:e}=this.$refs,t={[`margin-${Craft.left}`]:0};$(e).velocity("stop").velocity(t,Craft.LightSwitch.animationDuration,this.onSettle.bind(this))},turnOff(){this.proxyValue=!1,this.indeterminate=!1,this.dragging=!0;const{innerContainer:e}=this.$refs,t={[`margin-${Craft.left}`]:this.offMargin};$(e).velocity("stop").velocity(t,Craft.LightSwitch.animationDuration,this.onSettle.bind(this))},toggle(){this.indeterminate||!this.proxyValue?this.turnOn():this.turnOff()},onMouseUp(){this.dragger.dragging||this.toggle()},onKeyDown(e){switch(e.keyCode){case Garnish.SPACE_KEY:{this.toggle(),e.preventDefault();break}case Garnish.RIGHT_KEY:{Craft.orientation==="ltr"?this.turnOn():this.turnOff(),e.preventDefault();break}case Garnish.LEFT_KEY:{Craft.orientation==="ltr"?this.turnOff():this.turnOn(),e.preventDefault();break}}},onDragStart(){this.dragging=!0,this.dragStartMargin=this.getMargin()},onDrag(){let e;Craft.orientation==="ltr"?e=this.dragStartMargin+this.dragger.mouseDistX:e=this.dragStartMargin-this.dragger.mouseDistX,e<this.offMargin?e=this.offMargin:e>0&&(e=0);const{innerContainer:t}=this.$refs;$(t).css(`margin-${Craft.left}`,e)},onDragStop(){this.getMargin()>this.offMargin/2?this.turnOn():this.turnOff()},onSettle(){this.dragging=!1},getMargin(){const{innerContainer:e}=this.$refs,t=e.currentStyle||window.getComputedStyle(e);return parseInt(t.marginLeft)},toBoolean(e){return gK(e)}}},vK=["id","aria-labelledby","aria-checked"],yK={ref:"innerContainer",class:"lightswitch-container"},bK=le("div",{class:"handle"},null,-1),_K=[bK];function wK(e,t,n,r,i,o){return xe(),Ie("div",{id:i.id,ref:"container",tabindex:"0",role:"checkbox",class:Vt(["lightswitch",[{on:o.toBoolean(i.proxyValue),indeterminate:i.indeterminate,dragging:i.dragging,small:n.small,"extra-small":n.extraSmall}]]),"aria-labelledby":`${i.id}-label`,"aria-checked":i.proxyValue?"true":i.indeterminate?"mixed":"false",onMouseup:t[1]||(t[1]=(...a)=>o.onMouseUp&&o.onMouseUp(...a)),onKeydown:t[2]||(t[2]=(...a)=>o.onKeyDown&&o.onKeyDown(...a))},[le("div",yK,_K,512),Rn(le("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>i.proxyValue=a),type:"hidden"},null,512),[[qr,i.proxyValue]])],42,vK)}var sM=_n(mK,[["render",wK]]);const kK={name:"VizyBlockFields",delimiters:["$!{","}!$"],props:{template:{type:String,default:""}},emits:["update"],mounted(){this.$nextTick(()=>{Craft.initUiElements(this.$el),this.$nextTick(()=>{this.watchFieldChanges(),this.applyRedactorFix()})})},methods:{watchFieldChanges(){const e=FA(this.emitUpdate,250);new MutationObserver(n=>{e()}).observe(this.$el,{childList:!0,attributes:!0,subtree:!0,characterData:!0}),$(this.$el).on("input change","input, textarea, select",n=>{this.emitUpdate()})},applyRedactorFix(){const e=this.$el.querySelector(".redactor-toolbar");e&&e.addEventListener("mousedown",t=>{t.preventDefault()})},emitUpdate(){setTimeout(()=>{this.$emit("update")},50)},onInputInit(e){e.$on("content-update",t=>{this.emitUpdate()})}},render(){return Xn("div",{innerHTML:this.template})}},xK={name:"SlideUpDown",props:{active:{type:Boolean,default:!0},duration:{type:Number,default:500},tag:{type:String,default:"div"},useHidden:{type:Boolean,default:!0}},emits:["open-start","open-end","close-start","close-end"],data:()=>({style:{},initial:!1,hidden:!1}),computed:{el(){return this.$refs.container},attrs(){const e={"aria-hidden":!this.active,"aria-expanded":this.active};return this.useHidden&&(e.hidden=this.hidden),e}},watch:{active(){this.layout()}},mounted(){this.layout(),this.initial=!0},created(){this.hidden=!this.active},methods:{layout(){this.active?(this.hidden=!1,this.$emit("open-start"),this.initial&&this.setHeight("0px",()=>`${this.el.scrollHeight}px`)):(this.$emit("close-start"),this.setHeight(`${this.el.scrollHeight}px`,()=>"0px"))},asap(e){this.initial?this.$nextTick(e):e()},setHeight(e,t){this.style={height:e},this.asap(()=>{this.__=this.el.scrollHeight,this.style={height:t(),overflow:"hidden","transition-property":"height","transition-timing-function":"ease-out","transition-duration":`${this.duration}ms`}})},onTransitionEnd(e){e.target===this.el&&(this.active?(this.style={},this.$emit("open-end")):(this.style={height:"0",overflow:"hidden"},this.hidden=!0,this.$emit("close-end")))}},render(){return Xn(this.tag,{style:this.style,attrs:this.attrs,ref:"container",on:{transitionend:this.onTransitionEnd}},this.$slots.default())}};(function(e){var t=["input","textarea","select","option"],n=["value","selected","checked","disabled"];e.fn.htmlizeClone=function(r){return this.each(function(){var i=this;i.nodeName==="TEXTAREA"?i.innerHTML=i.value:i.nodeName==="OPTION"?i.selected?i.setAttribute("selected","selected"):i.removeAttribute("selected"):i.children&&i.children.length&&e(i).find("textarea, option").htmlizeClone(!0)}),r?this:this.clone()},e.fn.htmlizeSyncAttributes=function(){return this.each(function(){var r=this,i;for(var o in n)n.hasOwnProperty(o)&&(i=n[o],i in r&&(r.getAttribute(i)!==null||r[i])&&!((r.nodeName==="TEXTAREA"||r.nodeName==="SELECT")&&i==="value")&&(i==="value"?r.setAttribute(i,r[i]):r[i]?r.setAttribute(i,i):r.removeAttribute(i)));r.children&&r.children.length&&e(r).find(t.join(", ")).htmlizeSyncAttributes()})},e.fn.htmlize=function(r){r=e.extend({innerHTML:!1,clone:!0},r);var i=e(this).htmlizeClone().htmlizeSyncAttributes();if(r.innerHTML){var o="";return i.each(function(){o+=this.innerHTML}),o}else return i.length?i.appendTo("<div/>").parent().get(0).innerHTML:""}})(jQuery);const CK={name:"VizyBlock",components:{NodeViewWrapper:uU,LightswitchField:sM,VizyBlockFields:kK,SlideUpDown:xK},props:{editor:{type:Object,default:()=>{}},node:{type:Object,default:()=>{}},decorations:{type:Array,default:()=>[]},selected:{type:Boolean,default:!1},extension:{type:Object,default:()=>{}},getPos:{type:Function,default:()=>{}},updateAttributes:{type:Function,default:()=>{}}},data(){return{activeTab:null,tippy:null,fieldsHtml:"",mounted:!1,updateFieldsHtml:0}},computed:{options(){return this.extension.options},vizyField(){return this.editor.vizyField},values(){return this.node.attrs.values},blockGroups(){return this.vizyField.settings.blockGroups},blockType(){let e={};return Xf(this.blockGroups)||this.blockGroups.forEach(t=>{const n=RA(t.blockTypes,{id:this.values.type});n&&(e=n)}),e},tabs(){return this.blockType.tabs||{}},enabled:{get(){return this.node.attrs.enabled&&this.blockType.enabled},set(e){this.node.attrs.enabled=e}},collapsed:{get(){return this.node.attrs.collapsed},set(e){return this.updateAttributes({collapsed:e})}},preview(){let e="";if(this.mounted){const t=$(this.$refs.fields.$el).children().children();for(let n=0;n<t.length;n++){const i=$(t[n]).children(".input").find('select,input[type!="hidden"],textarea,.label');let o="";for(let a=0;a<i.length;a++){const l=$(i[a]);let f;if(!l.hasClass("vui-json-content")){if(l.hasClass("label")){const h=l.parent().parent();if(h.hasClass("lightswitch")&&(h.hasClass("on")&&l.hasClass("off")||!h.hasClass("on")&&l.hasClass("on")))continue;f=l.text()}else f=Craft.getText(Garnish.getInputPostVal(l));f instanceof Array&&(f=f.join(", ")),f&&(f=Craft.trim(f),f&&(o&&(o+=", "),o+=f))}}o&&(e+=(e?" <span>|</span> ":"")+o)}}return e}},watch:{"node.attrs.enabled":function(e,t){this.collapsed=!e},"node.attrs.id":function(e,t){this.fieldsHtml=this.vizyField.getCachedFieldHtml(e),this.updateFieldsHtml+=1,this.$nextTick(()=>{this.appendJs(),this.setFirstActiveTab()})}},created(){this.$events.on("vizy-blocks:updateDOM",this.onUpdateDOM),this.fieldsHtml=this.vizyField.getCachedFieldHtml(this.node.attrs.id)},mounted(){this.$nextTick(()=>{this.appendJs(),this.setFirstActiveTab(),this.mounted=!0;const e=this.$el.querySelector("#vizy-block-settings-template");e&&(e.style.display="block",this.tippy=gi(this.$el.querySelector(".vizyblock-header .settings"),{content:e,trigger:"click",allowHTML:!0,arrow:!0,interactive:!0,appendTo:document.body,placement:"bottom",theme:"light-border vizy-tippy-menu",maxWidth:"300px",zIndex:1e3,hideOnClick:!0})),this.$el.setAttribute("draggable",!1)})},beforeUnmount(){this.$events.off("vizy-blocks:updateDOM",this.onUpdateDOM)},methods:{isEmpty(e){return Xf(e)},onUpdateDOM(){this.$nextTick(()=>{if(this.$refs.fields){const e=$(this.$refs.fields.$el.childNodes).clone();if(e.find(".redactor-box").length){const n=e.find(".redactor-box textarea").htmlize();e.find(".redactor-box").replaceWith(n)}const t=e.htmlize();this.vizyField.setCachedFieldHtml(this.node.attrs.id,t)}})},clickTab(e){this.activeTab=e,this.$refs.fields.$el.querySelectorAll(".vizyblock-fields > div").forEach(n=>{n.getAttribute("id").includes(this.activeTab)?n.classList.remove("hidden"):n.classList.add("hidden")})},setFirstActiveTab(){this.tabs&&([this.activeTab]=Object.keys(this.tabs))},appendJs(){const e=this.vizyField.getCachedFieldJs(this.node.attrs.id),t=document.querySelector(`#script-${this.node.attrs.id}`);e&&(t&&t.parentElement.removeChild(t),Craft.appendBodyHtml(e))},deleteBlock(){this.tippy.hide(),setTimeout(()=>{const e=this.getPos(),t={from:e,to:e+(this.node.nodeSize-1)};this.editor.chain().focus().deleteRange(t).run()},200)},collapseBlock(){this.collapsed=!0,this.tippy.hide()},expandBlock(){this.collapsed=!1,this.tippy.hide()},clickMove(){this.$events.emit("vizy-blocks:updateDOM")},onFieldUpdate(){this.serializeFieldContent()},findContentBlocksForBlock(e){let t={};return Xf(e)||(document.querySelector(".slideout[data-element-editor] .so-body")&&(e=Object.values(e)[0]),Object.entries(e.fields).forEach(([r,i])=>{Xf(i.blocks)||Object.entries(i.blocks).forEach(([o,a])=>{o===this.node.attrs.id?t=a:t=this.findContentBlocksForBlock(a)})})),t},serializeFieldContent(){const e=Garnish.getPostData(this.$refs.fields.$el),t=Craft.expandPostArray(e),n=this.findContentBlocksForBlock(t),r=ve({},this.values);r.content=n,this.updateAttributes({values:r})}}},SK={class:"vizyblock-header"},TK={class:"titlebar"},EK={class:"blocktype"},AK={key:0},OK=["innerHTML"],DK={class:"actions-tabs"},MK={key:0,class:"titlebar-tabs"},NK=["onClick"],LK={class:"actions"},PK=le("a",{class:"settings icon",title:"Actions","aria-label":"Actions",role:"button",tabindex:"0","aria-haspopup":"listbox","aria-expanded":"false"},null,-1),IK={id:"vizy-block-settings-template",class:"vizy-menu",style:{display:"none"}},FK={class:"padded",role:"listbox","aria-hidden":"true"},RK={key:0},BK={key:1},zK=le("hr",null,null,-1);function $K(e,t,n,r,i,o){const a=Ot("lightswitch-field"),l=Ot("vizy-block-fields"),f=Ot("slide-up-down"),h=Ot("node-view-wrapper");return o.isEmpty(o.blockType)?Pt("",!0):(xe(),Wt(h,{key:0,class:Vt(["vizyblock",{active:n.selected}]),contenteditable:"false",onCopy:t[5]||(t[5]=Dt(()=>{},["stop"])),onPaste:t[6]||(t[6]=Dt(()=>{},["stop"])),onCut:t[7]||(t[7]=Dt(()=>{},["stop"]))},{default:fn(()=>[le("div",SK,[le("div",TK,[le("div",EK,[e.$isDebug?(xe(),Ie("span",AK,Qe(e.uid)+" "+Qe(n.node.attrs.id),1)):Pt("",!0),ds(Qe(o.blockType.name),1)]),o.collapsed?(xe(),Ie("div",{key:0,class:"preview",innerHTML:o.preview},null,8,OK)):Pt("",!0)]),le("div",DK,[Object.keys(o.tabs).length>1?(xe(),Ie("div",MK,[(xe(!0),Ie(Tt,null,Dn(o.tabs,(p,m)=>(xe(),Ie("a",{key:m,class:Vt(["tab",{active:m===i.activeTab}]),onClick:Dt(v=>o.clickTab(m),["prevent"])},Qe(p.label),11,NK))),128))])):Pt("",!0),le("div",LK,[at(a,{modelValue:o.enabled,"onUpdate:modelValue":t[0]||(t[0]=p=>o.enabled=p),"extra-small":!0},null,8,["modelValue"]),PK,le("a",{class:"move icon",title:"Reorder","aria-label":"Reorder","data-drag-handle":"",role:"button",onMousedown:t[1]||(t[1]=(...p)=>o.clickMove&&o.clickMove(...p))},null,32)]),le("div",IK,[le("ul",FK,[o.collapsed?(xe(),Ie("li",RK,[le("a",{"data-icon":"expand",role:"option",tabindex:"-1",onClick:t[2]||(t[2]=Dt((...p)=>o.expandBlock&&o.expandBlock(...p),["prevent"]))},"Expand")])):(xe(),Ie("li",BK,[le("a",{"data-icon":"collapse",role:"option",tabindex:"-1",onClick:t[3]||(t[3]=Dt((...p)=>o.collapseBlock&&o.collapseBlock(...p),["prevent"]))},"Collapse")])),zK,le("li",null,[le("a",{class:"error","data-icon":"remove",role:"option",tabindex:"-1",onClick:t[4]||(t[4]=Dt((...p)=>o.deleteBlock&&o.deleteBlock(...p),["prevent"]))},"Delete")])])])])]),at(f,{active:!o.collapsed,duration:300},{default:fn(()=>[i.fieldsHtml?(xe(),Wt(l,{ref:"fields",key:i.updateFieldsHtml,class:"vizyblock-fields",template:i.fieldsHtml,onUpdate:o.onFieldUpdate},null,8,["template","onUpdate"])):Pt("",!0)]),_:1},8,["active"])]),_:1},8,["class"]))}var HK=_n(CK,[["render",$K]]),jK=Sr.create({name:"vizyBlock",isBlock:!0,inline:!1,group:"block",draggable:!0,defining:!0,selectable:!0,addAttributes(){return{id:{default:null},enabled:{default:!0},collapsed:{default:!1},values:{default:null}}},parseHTML(){return[{tag:"vizy-block",getAttrs:e=>JSON.parse(e.innerHTML)}]},renderHTML({HTMLAttributes:e}){return["vizy-block",JSON.stringify(e)]},addCommands(){return{setVizyBlock:e=>({tr:t,dispatch:n,view:r,state:i})=>{const{selection:o}=t,a=this.type.create(e);return n&&(t.insert(o.from,i.schema.nodes.paragraph.create()),t.replaceRangeWith(o.from,o.to,a)),!0}}},addNodeView(){return lU(HK)},addProseMirrorPlugins(){return[new bn({props:{handleKeyDown:(e,t)=>{e.state.typing=!0},handlePaste:(e,t,n)=>{e.state.pasting=!0}},filterTransaction:(e,t)=>{let n=!0;return(t.typing||t.pasting)&&e.mapping.maps.forEach(r=>{r.forEach((i,o,a,l)=>{t.doc.nodesBetween(i,o,(f,h,p,m,v)=>{f.type.name==="vizyBlock"&&(n=!1)})})}),n}})]}});function j_(e){this.j={},this.jr=[],this.jd=null,this.t=e}j_.prototype={accepts:function(){return!!this.t},tt:function(t,n){if(n&&n.j)return this.j[t]=n,n;var r=n,i=this.j[t];if(i)return r&&(i.t=r),i;i=en();var o=$p(this,t);return o?(Object.assign(i.j,o.j),i.jr.append(o.jr),i.jr=o.jd,i.t=r||o.t):i.t=r,this.j[t]=i,i}};var en=function(){return new j_},ut=function(t){return new j_(t)},$e=function(t,n,r){t.j[n]||(t.j[n]=r)},Yn=function(t,n,r){t.jr.push([n,r])},$p=function(t,n){var r=t.j[n];if(r)return r;for(var i=0;i<t.jr.length;i++){var o=t.jr[i][0],a=t.jr[i][1];if(o.test(n))return a}return t.jd},At=function(t,n,r){for(var i=0;i<n.length;i++)$e(t,n[i],r)},VK=function(t,n){for(var r=0;r<n.length;r++){var i=n[r][0],o=n[r][1];$e(t,i,o)}},Ia=function(t,n,r,i){for(var o=0,a=n.length,l;o<a&&(l=t.j[n[o]]);)t=l,o++;if(o>=a)return[];for(;o<a-1;)l=i(),$e(t,n[o],l),t=l,o++;$e(t,n[a-1],r)},Vi="DOMAIN",Ho="LOCALHOST",fo="TLD",bi="NUM",Ku="PROTOCOL",V_="MAILTO",aM="WS",W_="NL",au="OPENBRACE",Sc="OPENBRACKET",Tc="OPENANGLEBRACKET",Ec="OPENPAREN",Wa="CLOSEBRACE",lu="CLOSEBRACKET",uu="CLOSEANGLEBRACKET",fu="CLOSEPAREN",Hp="AMPERSAND",jp="APOSTROPHE",Vp="ASTERISK",cu="AT",Wp="BACKSLASH",Up="BACKTICK",Kp="CARET",Ac="COLON",U_="COMMA",qp="DOLLAR",Vs="DOT",Gp="EQUALS",K_="EXCLAMATION",Jp="HYPHEN",Yp="PERCENT",Xp="PIPE",Zp="PLUS",Qp="POUND",eg="QUERY",q_="QUOTE",G_="SEMI",jo="SLASH",tg="TILDE",ng="UNDERSCORE",rg="SYM",WK=Object.freeze({__proto__:null,DOMAIN:Vi,LOCALHOST:Ho,TLD:fo,NUM:bi,PROTOCOL:Ku,MAILTO:V_,WS:aM,NL:W_,OPENBRACE:au,OPENBRACKET:Sc,OPENANGLEBRACKET:Tc,OPENPAREN:Ec,CLOSEBRACE:Wa,CLOSEBRACKET:lu,CLOSEANGLEBRACKET:uu,CLOSEPAREN:fu,AMPERSAND:Hp,APOSTROPHE:jp,ASTERISK:Vp,AT:cu,BACKSLASH:Wp,BACKTICK:Up,CARET:Kp,COLON:Ac,COMMA:U_,DOLLAR:qp,DOT:Vs,EQUALS:Gp,EXCLAMATION:K_,HYPHEN:Jp,PERCENT:Yp,PIPE:Xp,PLUS:Zp,POUND:Qp,QUERY:eg,QUOTE:q_,SEMI:G_,SLASH:jo,TILDE:tg,UNDERSCORE:ng,SYM:rg}),WS="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw verm\xF6gensberater-ctb verm\xF6gensberatung-pwb \u03B5\u03BB \u03B5\u03C5 \u0431\u0433 \u0431\u0435\u043B \u0434\u0435\u0442\u0438 \u0435\u044E \u043A\u0430\u0442\u043E\u043B\u0438\u043A \u043A\u043E\u043C \u049B\u0430\u0437 \u043C\u043A\u0434 \u043C\u043E\u043D \u043C\u043E\u0441\u043A\u0432\u0430 \u043E\u043D\u043B\u0430\u0439\u043D \u043E\u0440\u0433 \u0440\u0443\u0441 \u0440\u0444 \u0441\u0430\u0439\u0442 \u0441\u0440\u0431 \u0443\u043A\u0440 \u10D2\u10D4 \u0570\u0561\u0575 \u05D9\u05E9\u05E8\u05D0\u05DC \u05E7\u05D5\u05DD \u0627\u0628\u0648\u0638\u0628\u064A \u0627\u062A\u0635\u0627\u0644\u0627\u062A \u0627\u0631\u0627\u0645\u0643\u0648 \u0627\u0644\u0627\u0631\u062F\u0646 \u0627\u0644\u0628\u062D\u0631\u064A\u0646 \u0627\u0644\u062C\u0632\u0627\u0626\u0631 \u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629 \u0627\u0644\u0639\u0644\u064A\u0627\u0646 \u0627\u0644\u0645\u063A\u0631\u0628 \u0627\u0645\u0627\u0631\u0627\u062A \u0627\u06CC\u0631\u0627\u0646 \u0628\u0627\u0631\u062A \u0628\u0627\u0632\u0627\u0631 \u0628\u06BE\u0627\u0631\u062A \u0628\u064A\u062A\u0643 \u067E\u0627\u06A9\u0633\u062A\u0627\u0646 \u0680\u0627\u0631\u062A \u062A\u0648\u0646\u0633 \u0633\u0648\u062F\u0627\u0646 \u0633\u0648\u0631\u064A\u0629 \u0634\u0628\u0643\u0629 \u0639\u0631\u0627\u0642 \u0639\u0631\u0628 \u0639\u0645\u0627\u0646 \u0641\u0644\u0633\u0637\u064A\u0646 \u0642\u0637\u0631 \u0643\u0627\u062B\u0648\u0644\u064A\u0643 \u0643\u0648\u0645 \u0645\u0635\u0631 \u0645\u0644\u064A\u0633\u064A\u0627 \u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627 \u0645\u0648\u0642\u0639 \u0647\u0645\u0631\u0627\u0647 \u0915\u0949\u092E \u0928\u0947\u091F \u092D\u093E\u0930\u0924 \u092D\u093E\u0930\u0924\u092E\u094D \u092D\u093E\u0930\u094B\u0924 \u0938\u0902\u0917\u0920\u0928 \u09AC\u09BE\u0982\u09B2\u09BE \u09AD\u09BE\u09B0\u09A4 \u09AD\u09BE\u09F0\u09A4 \u0A2D\u0A3E\u0A30\u0A24 \u0AAD\u0ABE\u0AB0\u0AA4 \u0B2D\u0B3E\u0B30\u0B24 \u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE \u0B87\u0BB2\u0B99\u0BCD\u0B95\u0BC8 \u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD \u0C2D\u0C3E\u0C30\u0C24\u0C4D \u0CAD\u0CBE\u0CB0\u0CA4 \u0D2D\u0D3E\u0D30\u0D24\u0D02 \u0DBD\u0D82\u0D9A\u0DCF \u0E04\u0E2D\u0E21 \u0E44\u0E17\u0E22 \u0EA5\u0EB2\u0EA7 \uB2F7\uB137 \uB2F7\uCEF4 \uC0BC\uC131 \uD55C\uAD6D \u30A2\u30DE\u30BE\u30F3 \u30B0\u30FC\u30B0\u30EB \u30AF\u30E9\u30A6\u30C9 \u30B3\u30E0 \u30B9\u30C8\u30A2 \u30BB\u30FC\u30EB \u30D5\u30A1\u30C3\u30B7\u30E7\u30F3 \u30DD\u30A4\u30F3\u30C8 \u307F\u3093\u306A \u4E16\u754C \u4E2D\u4FE1 \u4E2D\u56FD \u4E2D\u570B \u4E2D\u6587\u7F51 \u4E9A\u9A6C\u900A \u4F01\u4E1A \u4F5B\u5C71 \u4FE1\u606F \u5065\u5EB7 \u516B\u5366 \u516C\u53F8 \u516C\u76CA \u53F0\u6E7E \u53F0\u7063 \u5546\u57CE \u5546\u5E97 \u5546\u6807 \u5609\u91CC \u5609\u91CC\u5927\u9152\u5E97 \u5728\u7EBF \u5927\u4F17\u6C7D\u8F66 \u5927\u62FF \u5929\u4E3B\u6559 \u5A31\u4E50 \u5BB6\u96FB \u5E7F\u4E1C \u5FAE\u535A \u6148\u5584 \u6211\u7231\u4F60 \u624B\u673A \u62DB\u8058 \u653F\u52A1 \u653F\u5E9C \u65B0\u52A0\u5761 \u65B0\u95FB \u65F6\u5C1A \u66F8\u7C4D \u673A\u6784 \u6DE1\u9A6C\u9521 \u6E38\u620F \u6FB3\u9580 \u70B9\u770B \u79FB\u52A8 \u7EC4\u7EC7\u673A\u6784 \u7F51\u5740 \u7F51\u5E97 \u7F51\u7AD9 \u7F51\u7EDC \u8054\u901A \u8BFA\u57FA\u4E9A \u8C37\u6B4C \u8D2D\u7269 \u901A\u8CA9 \u96C6\u56E2 \u96FB\u8A0A\u76C8\u79D1 \u98DE\u5229\u6D66 \u98DF\u54C1 \u9910\u5385 \u9999\u683C\u91CC\u62C9 \u9999\u6E2F".split(" "),Vf=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,Wf=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,Uf=/\uFE0F/,Kf=/\d/,US=/\s/;function UK(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=en(),n=ut(bi),r=ut(Vi),i=en(),o=ut(aM),a=[[Kf,r],[Vf,r],[Wf,r],[Uf,r]],l=function(){var O=ut(Vi);return O.j={"-":i},O.jr=[].concat(a),O},f=function(O){var K=l();return K.t=O,K};VK(t,[["'",ut(jp)],["{",ut(au)],["[",ut(Sc)],["<",ut(Tc)],["(",ut(Ec)],["}",ut(Wa)],["]",ut(lu)],[">",ut(uu)],[")",ut(fu)],["&",ut(Hp)],["*",ut(Vp)],["@",ut(cu)],["`",ut(Up)],["^",ut(Kp)],[":",ut(Ac)],[",",ut(U_)],["$",ut(qp)],[".",ut(Vs)],["=",ut(Gp)],["!",ut(K_)],["-",ut(Jp)],["%",ut(Yp)],["|",ut(Xp)],["+",ut(Zp)],["#",ut(Qp)],["?",ut(eg)],['"',ut(q_)],["/",ut(jo)],[";",ut(G_)],["~",ut(tg)],["_",ut(ng)],["\\",ut(Wp)]]),$e(t,`
`,ut(W_)),Yn(t,US,o),$e(o,`
`,en()),Yn(o,US,o);for(var h=0;h<WS.length;h++)Ia(t,WS[h],f(fo),l);var p=l(),m=l(),v=l(),b=l();Ia(t,"file",p,l),Ia(t,"ftp",m,l),Ia(t,"http",v,l),Ia(t,"mailto",b,l);var _=l(),k=ut(Ku),C=ut(V_);$e(m,"s",_),$e(m,":",k),$e(v,"s",_),$e(v,":",k),$e(p,":",k),$e(_,":",k),$e(b,":",C);for(var E=l(),S=0;S<e.length;S++)Ia(t,e[S],E,l);return $e(E,":",k),Ia(t,"localhost",f(Ho),l),Yn(t,Kf,n),Yn(t,Vf,r),Yn(t,Wf,r),Yn(t,Uf,r),Yn(n,Kf,n),Yn(n,Vf,r),Yn(n,Wf,r),Yn(n,Uf,r),$e(n,"-",i),$e(r,"-",i),$e(i,"-",i),Yn(r,Kf,r),Yn(r,Vf,r),Yn(r,Wf,r),Yn(r,Uf,r),Yn(i,Kf,r),Yn(i,Vf,r),Yn(i,Wf,r),Yn(i,Uf,r),t.jd=ut(rg),t}function KK(e,t){for(var n=qK(t.replace(/[A-Z]/g,function(b){return b.toLowerCase()})),r=n.length,i=[],o=0,a=0;a<r;){for(var l=e,f=null,h=0,p=null,m=-1,v=-1;a<r&&(f=$p(l,n[a]));)l=f,l.accepts()?(m=0,v=0,p=l):m>=0&&(m+=n[a].length,v++),h+=n[a].length,o+=n[a].length,a++;o-=m,a-=v,h-=m,i.push({t:p.t,v:t.substr(o-h,h),s:o-h,e:o})}return i}function qK(e){for(var t=[],n=e.length,r=0;r<n;){var i=e.charCodeAt(r),o=void 0,a=i<55296||i>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(a),r+=a.length}return t}var lM={defaultProtocol:"http",events:null,format:KS,formatHref:KS,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function KS(e){return e}function GK(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Object.create(e.prototype);for(var i in n)r[i]=n[i];return r.constructor=t,t.prototype=r,t}function ig(){}ig.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lM.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}}};function Tl(e,t){function n(r,i){this.t=e,this.v=r,this.tk=i}return GK(ig,n,t),n}var uM=Tl("email",{isLink:!0}),Ey=Tl("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),Ay=Tl("text"),fM=Tl("nl"),zs=Tl("url",{isLink:!0,toHref:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lM.defaultProtocol,n=this.tk,r=!1,i=!1,o=[],a=0;n[a].t===Ku;)r=!0,o.push(n[a].v),a++;for(;n[a].t===jo;)i=!0,o.push(n[a].v),a++;for(;a<n.length;a++)o.push(n[a].v);return o=o.join(""),r||i||(o="".concat(t,"://").concat(o)),o},hasProtocol:function(){return this.tk[0].t===Ku}}),JK=Object.freeze({__proto__:null,MultiToken:ig,Base:ig,createTokenClass:Tl,MailtoEmail:uM,Email:Ey,Text:Ay,Nl:fM,Url:zs});function YK(){var e=en(),t=en(),n=en(),r=en(),i=en(),o=en(),a=en(),l=ut(zs),f=en(),h=ut(zs),p=ut(zs),m=en(),v=en(),b=en(),_=en(),k=en(),C=ut(zs),E=ut(zs),S=ut(zs),F=ut(zs),O=en(),K=en(),j=en(),U=en(),q=en(),B=en(),R=ut(Ey),V=en(),Z=ut(Ey),W=ut(uM),ie=en(),L=en(),ce=en(),pe=en(),Te=ut(fM);$e(e,W_,Te),$e(e,Ku,t),$e(e,V_,n),$e(t,jo,r),$e(r,jo,i),$e(e,fo,o),$e(e,Vi,o),$e(e,Ho,l),$e(e,bi,o),$e(i,fo,p),$e(i,Vi,p),$e(i,bi,p),$e(i,Ho,p),$e(o,Vs,a),$e(q,Vs,B),$e(a,fo,l),$e(a,Vi,o),$e(a,bi,o),$e(a,Ho,o),$e(B,fo,R),$e(B,Vi,q),$e(B,bi,q),$e(B,Ho,q),$e(l,Vs,a),$e(R,Vs,B),$e(l,Ac,f),$e(l,jo,p),$e(f,bi,h),$e(h,jo,p),$e(R,Ac,V),$e(V,bi,Z);var We=[Hp,Vp,cu,Wp,Up,Kp,qp,Vi,Gp,Jp,Ho,bi,Yp,Xp,Zp,Qp,Ku,jo,rg,tg,fo,ng],nt=[jp,uu,Wa,lu,fu,Ac,U_,Vs,K_,Tc,au,Sc,Ec,eg,q_,G_];$e(p,au,v),$e(p,Sc,b),$e(p,Tc,_),$e(p,Ec,k),$e(m,au,v),$e(m,Sc,b),$e(m,Tc,_),$e(m,Ec,k),$e(v,Wa,p),$e(b,lu,p),$e(_,uu,p),$e(k,fu,p),$e(C,Wa,p),$e(E,lu,p),$e(S,uu,p),$e(F,fu,p),$e(O,Wa,p),$e(K,lu,p),$e(j,uu,p),$e(U,fu,p),At(v,We,C),At(b,We,E),At(_,We,S),At(k,We,F),At(v,nt,O),At(b,nt,K),At(_,nt,j),At(k,nt,U),At(C,We,C),At(E,We,E),At(S,We,S),At(F,We,F),At(C,nt,C),At(E,nt,E),At(S,nt,S),At(F,nt,F),At(O,We,C),At(K,We,E),At(j,We,S),At(U,We,F),At(O,nt,O),At(K,nt,K),At(j,nt,j),At(U,nt,U),At(p,We,p),At(m,We,p),At(p,nt,m),At(m,nt,m),$e(n,fo,W),$e(n,Vi,W),$e(n,bi,W),$e(n,Ho,W),At(W,We,W),At(W,nt,ie),At(ie,We,W),At(ie,nt,ie);var bt=[Hp,jp,Vp,Wp,Up,Kp,Wa,qp,Vi,Gp,Jp,bi,au,Yp,Xp,Zp,Qp,eg,jo,rg,tg,fo,ng];return At(o,bt,L),$e(o,cu,ce),At(l,bt,L),$e(l,cu,ce),At(a,bt,L),At(L,bt,L),$e(L,cu,ce),$e(L,Vs,pe),At(pe,bt,L),$e(ce,fo,q),$e(ce,Vi,q),$e(ce,bi,q),$e(ce,Ho,R),e}function XK(e,t,n){for(var r=n.length,i=0,o=[],a=[];i<r;){for(var l=e,f=null,h=null,p=0,m=null,v=-1;i<r&&!(f=$p(l,n[i].t));)a.push(n[i++]);for(;i<r&&(h=f||$p(l,n[i].t));)f=null,l=h,l.accepts()?(v=0,m=l):v>=0&&v++,i++,p++;if(v<0)for(var b=i-p;b<i;b++)a.push(n[b]);else{a.length>0&&(o.push(l0(Ay,t,a)),a=[]),i-=v,p-=v;var _=m.t,k=n.slice(i-p,i);o.push(l0(_,t,k))}}return a.length>0&&o.push(l0(Ay,t,a)),o}function l0(e,t,n){var r=n[0].s,i=n[n.length-1].e,o=t.substr(r,i-r);return new e(o,n)}var Wi={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function ZK(){Wi.scanner={start:UK(Wi.customProtocols),tokens:WK},Wi.parser={start:YK(),tokens:JK};for(var e={createTokenClass:Tl},t=0;t<Wi.pluginQueue.length;t++)Wi.pluginQueue[t][1]({scanner:Wi.scanner,parser:Wi.parser,utils:e});Wi.initialized=!0}function cM(e){return Wi.initialized||ZK(),XK(Wi.parser.start,e,KK(Wi.scanner.start,e))}function J_(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=cM(e),r=[],i=0;i<n.length;i++){var o=n[i];o.isLink&&(!t||o.t===t)&&r.push(o.toObject())}return r}function qS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=cM(e);return n.length===1&&n[0].isLink&&(!t||n[0].t===t)}function QK(e){return new bn({key:new Gn("autolink"),appendTransaction:(t,n,r)=>{const i=t.some(p=>p.docChanged)&&!n.doc.eq(r.doc),o=t.some(p=>p.getMeta("preventAutolink"));if(!i||o)return;const{tr:a}=r,l=wV(n.doc,t),{mapping:f}=l;if(SV(l).forEach(({oldRange:p,newRange:m})=>{Ip(p.from,p.to,n.doc).filter(v=>v.mark.type===e.type).forEach(v=>{const b=f.map(v.from),_=f.map(v.to),k=Ip(b,_,r.doc).filter(K=>K.mark.type===e.type);if(!k.length)return;const C=k[0],E=n.doc.textBetween(v.from,v.to,void 0," "),S=r.doc.textBetween(C.from,C.to,void 0," "),F=qS(E),O=qS(S);F&&!O&&a.removeMark(C.from,C.to,e.type)}),kV(r.doc,m,v=>v.isTextblock).forEach(v=>{const b=r.doc.textBetween(v.pos,v.pos+v.node.nodeSize,void 0," ");J_(b).filter(_=>_.isLink).map(_=>Xt(ve({},_),{from:v.pos+_.start+1,to:v.pos+_.end+1})).filter(_=>{const k=m.from>=_.from&&m.from<=_.to,C=m.to>=_.from&&m.to<=_.to;return k||C}).forEach(_=>{a.addMark(_.from,_.to,e.type.create({href:_.href}))})})}),!!a.steps.length)return a}})}function eq(e){return new bn({key:new Gn("handleClickLink"),props:{handleClick:(t,n,r)=>{var i;const o=ND(t.state,e.type.name);return((i=r.target)===null||i===void 0?void 0:i.closest("a"))&&o.href?(window.open(o.href,o.target),!0):!1}}})}function tq(e){return new bn({key:new Gn("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{state:i}=t,{selection:o}=i,{empty:a}=o;if(a)return!1;let l="";r.content.forEach(h=>{l+=h.textContent});const f=J_(l).find(h=>h.isLink&&h.value===l);return!l||!f?!1:(e.editor.commands.setMark(e.type,{href:f.href}),!0)}}})}const nq=Oi.create({name:"link",priority:1e3,keepOnSplit:!1,inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow"}}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:e}){return["a",Ln(this.options.HTMLAttributes,e),0]},addCommands(){return{setLink:e=>({chain:t})=>t().setMark(this.name,e).setMeta("preventAutolink",!0).run(),toggleLink:e=>({chain:t})=>t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[sa({find:e=>J_(e).filter(t=>t.isLink).map(t=>({text:t.value,index:t.start,data:t})),type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)===null||t===void 0?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[];return this.options.autolink&&e.push(QK({type:this.type})),this.options.openOnClick&&e.push(eq({type:this.type})),this.options.linkOnPaste&&e.push(tq({editor:this.editor,type:this.type})),e}});var rq=nq.extend({addProseMirrorPlugins(){return[new bn({key:new Gn("handleClick"),props:{handleClick:(e,t,n)=>{if(this.editor.getAttributes("link").href&&n.target instanceof HTMLAnchorElement)return setTimeout(()=>{this.editor.emit("vui:link-clicked")},50),!0}}})]}});const iq=/(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,oq=Sr.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",Ln(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[PD({find:iq,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}});var sq=oq.extend({addAttributes(){return{id:{default:null},src:{default:null},alt:{default:null},title:{default:null},url:{default:null},target:{default:null},transform:{default:null}}},renderHTML({HTMLAttributes:e}){const t={class:"vui-editor-img-wrap",tabindex:"-1"},n={src:e.src,title:e.title,alt:e.alt},r={url:e.url,target:e.target};return e.url?["figure",t,["a",r,["img",n]]]:["figure",t,["img",n]]},addProseMirrorPlugins(){return[new bn({key:new Gn("handleClick"),props:{handleClick:(e,t,n)=>{n.target.classList.contains("vui-editor-img-wrap")&&setTimeout(()=>{this.editor.emit("vui:image-clicked",n)},50)}}})]}});/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */function GS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(n),!0).forEach(function(r){uq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function og(e){return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function aq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lq(e,t,n){return t&&JS(e.prototype,t),n&&JS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y_(e,t){return cq(e)||hq(e,t)||dM(e,t)||gq()}function dm(e){return fq(e)||dq(e)||dM(e)||pq()}function fq(e){if(Array.isArray(e))return Oy(e)}function cq(e){if(Array.isArray(e))return e}function dq(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hq(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,l;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));i=!0);}catch(f){o=!0,l=f}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function dM(e,t){if(!!e){if(typeof e=="string")return Oy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oy(e,t)}}function Oy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var YS=function(){},X_={},hM={},pM=null,gM={mark:YS,measure:YS};try{typeof window!="undefined"&&(X_=window),typeof document!="undefined"&&(hM=document),typeof MutationObserver!="undefined"&&(pM=MutationObserver),typeof performance!="undefined"&&(gM=performance)}catch{}var mq=X_.navigator||{},XS=mq.userAgent,ZS=XS===void 0?"":XS,aa=X_,cn=hM,QS=pM,Nh=gM;aa.document;var ys=!!cn.documentElement&&!!cn.head&&typeof cn.addEventListener=="function"&&typeof cn.createElement=="function",mM=~ZS.indexOf("MSIE")||~ZS.indexOf("Trident/"),as="___FONT_AWESOME___",Dy=16,vM="fa",yM="svg-inline--fa",cl="data-fa-i2svg",My="data-fa-pseudo-element",vq="data-fa-pseudo-element-pending",Z_="data-prefix",Q_="data-icon",e2="fontawesome-i2svg",yq="async",bq=["HTML","HEAD","STYLE","SCRIPT"],bM=function(){try{return!0}catch{return!1}}(),e1={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},sg={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},_M={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},_q={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},wq=/fa[srltdbk\-\ ]/,wM="fa-layers-text",kq=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,xq={"900":"fas","400":"far",normal:"far","300":"fal","100":"fat"},kM=[1,2,3,4,5,6,7,8,9,10],Cq=kM.concat([11,12,13,14,15,16,17,18,19,20]),Sq=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Ga={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Tq=[].concat(dm(Object.keys(sg)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Ga.GROUP,Ga.SWAP_OPACITY,Ga.PRIMARY,Ga.SECONDARY]).concat(kM.map(function(e){return"".concat(e,"x")})).concat(Cq.map(function(e){return"w-".concat(e)})),xM=aa.FontAwesomeConfig||{};function Eq(e){var t=cn.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function Aq(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}if(cn&&typeof cn.querySelector=="function"){var Oq=[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];Oq.forEach(function(e){var t=Y_(e,2),n=t[0],r=t[1],i=Aq(Eq(n));i!=null&&(xM[r]=i)})}var Dq={familyPrefix:vM,styleDefault:"solid",replacementClass:yM,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Oc=Xe(Xe({},Dq),xM);Oc.autoReplaceSvg||(Oc.observeMutations=!1);var lt={};Object.keys(Oc).forEach(function(e){Object.defineProperty(lt,e,{enumerable:!0,set:function(n){Oc[e]=n,Uh.forEach(function(r){return r(lt)})},get:function(){return Oc[e]}})});aa.FontAwesomeConfig=lt;var Uh=[];function Mq(e){return Uh.push(e),function(){Uh.splice(Uh.indexOf(e),1)}}var Ps=Dy,yo={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Nq(e){if(!(!e||!ys)){var t=cn.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=cn.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}return cn.head.insertBefore(t,r),e}}var Lq="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function ad(){for(var e=12,t="";e-- >0;)t+=Lq[Math.random()*62|0];return t}function Qu(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function t1(e){return e.classList?Qu(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(t){return t})}function CM(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Pq(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,'="').concat(CM(e[n]),'" ')},"").trim()}function hm(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")},"")}function n1(e){return e.size!==yo.size||e.x!==yo.x||e.y!==yo.y||e.rotate!==yo.rotate||e.flipX||e.flipY}function Iq(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(t.x*32,", ").concat(t.y*32,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),l="rotate(".concat(t.rotate," 0 0)"),f={transform:"".concat(o," ").concat(a," ").concat(l)},h={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:f,path:h}}function Fq(e){var t=e.transform,n=e.width,r=n===void 0?Dy:n,i=e.height,o=i===void 0?Dy:i,a=e.startCentered,l=a===void 0?!1:a,f="";return l&&mM?f+="translate(".concat(t.x/Ps-r/2,"em, ").concat(t.y/Ps-o/2,"em) "):l?f+="translate(calc(-50% + ".concat(t.x/Ps,"em), calc(-50% + ").concat(t.y/Ps,"em)) "):f+="translate(".concat(t.x/Ps,"em, ").concat(t.y/Ps,"em) "),f+="scale(".concat(t.size/Ps*(t.flipX?-1:1),", ").concat(t.size/Ps*(t.flipY?-1:1),") "),f+="rotate(".concat(t.rotate,"deg) "),f}var Rq=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function SM(){var e=vM,t=yM,n=lt.familyPrefix,r=lt.replacementClass,i=Rq;if(n!==e||r!==t){var o=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),l=new RegExp("\\.".concat(t),"g");i=i.replace(o,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(l,".".concat(r))}return i}var t2=!1;function u0(){lt.autoAddCss&&!t2&&(Nq(SM()),t2=!0)}var Bq={mixout:function(){return{dom:{css:SM,insertCss:u0}}},hooks:function(){return{beforeDOMElementCreation:function(){u0()},beforeI2svg:function(){u0()}}}},ls=aa||{};ls[as]||(ls[as]={});ls[as].styles||(ls[as].styles={});ls[as].hooks||(ls[as].hooks={});ls[as].shims||(ls[as].shims=[]);var Gi=ls[as],TM=[],zq=function e(){cn.removeEventListener("DOMContentLoaded",e),ag=1,TM.map(function(t){return t()})},ag=!1;ys&&(ag=(cn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(cn.readyState),ag||cn.addEventListener("DOMContentLoaded",zq));function $q(e){!ys||(ag?setTimeout(e,0):TM.push(e))}function Td(e){var t=e.tag,n=e.attributes,r=n===void 0?{}:n,i=e.children,o=i===void 0?[]:i;return typeof e=="string"?CM(e):"<".concat(t," ").concat(Pq(r),">").concat(o.map(Td).join(""),"</").concat(t,">")}function n2(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var Hq=function(t,n){return function(r,i,o,a){return t.call(n,r,i,o,a)}},f0=function(t,n,r,i){var o=Object.keys(t),a=o.length,l=i!==void 0?Hq(n,i):n,f,h,p;for(r===void 0?(f=1,p=t[o[0]]):(f=0,p=r);f<a;f++)h=o[f],p=l(p,t[h],h,t);return p};function jq(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);(o&64512)==56320?t.push(((i&1023)<<10)+(o&1023)+65536):(t.push(i),n--)}else t.push(i)}return t}function Ny(e){var t=jq(e);return t.length===1?t[0].toString(16):null}function Vq(e,t){var n=e.length,r=e.charCodeAt(t),i;return r>=55296&&r<=56319&&n>t+1&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function r2(e){return Object.keys(e).reduce(function(t,n){var r=e[n],i=!!r.icon;return i?t[r.iconName]=r.icon:t[n]=r,t},{})}function Ly(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,o=r2(t);typeof Gi.hooks.addPack=="function"&&!i?Gi.hooks.addPack(e,r2(t)):Gi.styles[e]=Xe(Xe({},Gi.styles[e]||{}),o),e==="fas"&&Ly("fa",t)}var Dc=Gi.styles,Wq=Gi.shims,Uq=Object.values(_M),r1=null,EM={},AM={},OM={},DM={},MM={},Kq=Object.keys(e1);function qq(e){return~Tq.indexOf(e)}function Gq(e,t){var n=t.split("-"),r=n[0],i=n.slice(1).join("-");return r===e&&i!==""&&!qq(i)?i:null}var NM=function(){var t=function(o){return f0(Dc,function(a,l,f){return a[f]=f0(l,o,{}),a},{})};EM=t(function(i,o,a){if(o[3]&&(i[o[3]]=a),o[2]){var l=o[2].filter(function(f){return typeof f=="number"});l.forEach(function(f){i[f.toString(16)]=a})}return i}),AM=t(function(i,o,a){if(i[a]=a,o[2]){var l=o[2].filter(function(f){return typeof f=="string"});l.forEach(function(f){i[f]=a})}return i}),MM=t(function(i,o,a){var l=o[2];return i[a]=a,l.forEach(function(f){i[f]=a}),i});var n="far"in Dc||lt.autoFetchSvg,r=f0(Wq,function(i,o){var a=o[0],l=o[1],f=o[2];return l==="far"&&!n&&(l="fas"),typeof a=="string"&&(i.names[a]={prefix:l,iconName:f}),typeof a=="number"&&(i.unicodes[a.toString(16)]={prefix:l,iconName:f}),i},{names:{},unicodes:{}});OM=r.names,DM=r.unicodes,r1=pm(lt.styleDefault)};Mq(function(e){r1=pm(e.styleDefault)});NM();function i1(e,t){return(EM[e]||{})[t]}function Jq(e,t){return(AM[e]||{})[t]}function du(e,t){return(MM[e]||{})[t]}function LM(e){return OM[e]||{prefix:null,iconName:null}}function Yq(e){var t=DM[e],n=i1("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function la(){return r1}var o1=function(){return{prefix:null,iconName:null,rest:[]}};function pm(e){var t=e1[e],n=sg[e]||sg[t],r=e in Gi.styles?e:null;return n||r||null}function gm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.skipLookups,r=n===void 0?!1:n,i=null,o=e.reduce(function(a,l){var f=Gq(lt.familyPrefix,l);if(Dc[l]?(l=Uq.includes(l)?_q[l]:l,i=l,a.prefix=l):Kq.indexOf(l)>-1?(i=l,a.prefix=pm(l)):f?a.iconName=f:l!==lt.replacementClass&&a.rest.push(l),!r&&a.prefix&&a.iconName){var h=i==="fa"?LM(a.iconName):{},p=du(a.prefix,a.iconName);h.prefix&&(i=null),a.iconName=h.iconName||p||a.iconName,a.prefix=h.prefix||a.prefix,a.prefix==="far"&&!Dc.far&&Dc.fas&&!lt.autoFetchSvg&&(a.prefix="fas")}return a},o1());return(o.prefix==="fa"||i==="fa")&&(o.prefix=la()||"fas"),o}var Xq=function(){function e(){aq(this,e),this.definitions={}}return lq(e,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(l){n.definitions[l]=Xe(Xe({},n.definitions[l]||{}),a[l]),Ly(l,a[l]);var f=_M[l];f&&Ly(f,a[l]),NM()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(o){var a=i[o],l=a.prefix,f=a.iconName,h=a.icon,p=h[2];n[l]||(n[l]={}),p.length>0&&p.forEach(function(m){typeof m=="string"&&(n[l][m]=h)}),n[l][f]=h}),n}}]),e}(),i2=[],hu={},xu={},Zq=Object.keys(xu);function Qq(e,t){var n=t.mixoutsTo;return i2=e,hu={},Object.keys(xu).forEach(function(r){Zq.indexOf(r)===-1&&delete xu[r]}),i2.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(a){typeof i[a]=="function"&&(n[a]=i[a]),og(i[a])==="object"&&Object.keys(i[a]).forEach(function(l){n[a]||(n[a]={}),n[a][l]=i[a][l]})}),r.hooks){var o=r.hooks();Object.keys(o).forEach(function(a){hu[a]||(hu[a]=[]),hu[a].push(o[a])})}r.provides&&r.provides(xu)}),n}function Py(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=hu[e]||[];return o.forEach(function(a){t=a.apply(null,[t].concat(r))}),t}function dl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=hu[e]||[];i.forEach(function(o){o.apply(null,n)})}function us(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return xu[e]?xu[e].apply(null,t):void 0}function Iy(e){e.prefix==="fa"&&(e.prefix="fas");var t=e.iconName,n=e.prefix||la();if(!!t)return t=du(n,t)||t,n2(PM.definitions,n,t)||n2(Gi.styles,n,t)}var PM=new Xq,eG=function(){lt.autoReplaceSvg=!1,lt.observeMutations=!1,dl("noAuto")},tG={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ys?(dl("beforeI2svg",t),us("pseudoElements2svg",t),us("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.autoReplaceSvgRoot;lt.autoReplaceSvg===!1&&(lt.autoReplaceSvg=!0),lt.observeMutations=!0,$q(function(){rG({autoReplaceSvgRoot:n}),dl("watch",t)})}},nG={icon:function(t){if(t===null)return null;if(og(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:du(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var n=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],r=pm(t[0]);return{prefix:r,iconName:du(r,n)||n}}if(typeof t=="string"&&(t.indexOf("".concat(lt.familyPrefix,"-"))>-1||t.match(wq))){var i=gm(t.split(" "),{skipLookups:!0});return{prefix:i.prefix||la(),iconName:du(i.prefix,i.iconName)||i.iconName}}if(typeof t=="string"){var o=la();return{prefix:o,iconName:du(o,t)||t}}}},mi={noAuto:eG,config:lt,dom:tG,parse:nG,library:PM,findIconDefinition:Iy,toHtml:Td},rG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.autoReplaceSvgRoot,r=n===void 0?cn:n;(Object.keys(Gi.styles).length>0||lt.autoFetchSvg)&&ys&&lt.autoReplaceSvg&&mi.dom.i2svg({node:r})};function mm(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(r){return Td(r)})}}),Object.defineProperty(e,"node",{get:function(){if(!!ys){var r=cn.createElement("div");return r.innerHTML=e.html,r.children}}}),e}function iG(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,o=e.styles,a=e.transform;if(n1(a)&&n.found&&!r.found){var l=n.width,f=n.height,h={x:l/f/2,y:.5};i.style=hm(Xe(Xe({},o),{},{"transform-origin":"".concat(h.x+a.x/16,"em ").concat(h.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}function oG(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,o=e.symbol,a=o===!0?"".concat(t,"-").concat(lt.familyPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Xe(Xe({},i),{},{id:a}),children:r}]}]}function s1(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,o=e.iconName,a=e.transform,l=e.symbol,f=e.title,h=e.maskId,p=e.titleId,m=e.extra,v=e.watchable,b=v===void 0?!1:v,_=r.found?r:n,k=_.width,C=_.height,E=i==="fak",S=[lt.replacementClass,o?"".concat(lt.familyPrefix,"-").concat(o):""].filter(function(B){return m.classes.indexOf(B)===-1}).filter(function(B){return B!==""||!!B}).concat(m.classes).join(" "),F={children:[],attributes:Xe(Xe({},m.attributes),{},{"data-prefix":i,"data-icon":o,class:S,role:m.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(k," ").concat(C)})},O=E&&!~m.classes.indexOf("fa-fw")?{width:"".concat(k/C*16*.0625,"em")}:{};b&&(F.attributes[cl]=""),f&&(F.children.push({tag:"title",attributes:{id:F.attributes["aria-labelledby"]||"title-".concat(p||ad())},children:[f]}),delete F.attributes.title);var K=Xe(Xe({},F),{},{prefix:i,iconName:o,main:n,mask:r,maskId:h,transform:a,symbol:l,styles:Xe(Xe({},O),m.styles)}),j=r.found&&n.found?us("generateAbstractMask",K)||{children:[],attributes:{}}:us("generateAbstractIcon",K)||{children:[],attributes:{}},U=j.children,q=j.attributes;return K.children=U,K.attributes=q,l?oG(K):iG(K)}function o2(e){var t=e.content,n=e.width,r=e.height,i=e.transform,o=e.title,a=e.extra,l=e.watchable,f=l===void 0?!1:l,h=Xe(Xe(Xe({},a.attributes),o?{title:o}:{}),{},{class:a.classes.join(" ")});f&&(h[cl]="");var p=Xe({},a.styles);n1(i)&&(p.transform=Fq({transform:i,startCentered:!0,width:n,height:r}),p["-webkit-transform"]=p.transform);var m=hm(p);m.length>0&&(h.style=m);var v=[];return v.push({tag:"span",attributes:h,children:[t]}),o&&v.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),v}function sG(e){var t=e.content,n=e.title,r=e.extra,i=Xe(Xe(Xe({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=hm(r.styles);o.length>0&&(i.style=o);var a=[];return a.push({tag:"span",attributes:i,children:[t]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}var c0=Gi.styles;function Fy(e){var t=e[0],n=e[1],r=e.slice(4),i=Y_(r,1),o=i[0],a=null;return Array.isArray(o)?a={tag:"g",attributes:{class:"".concat(lt.familyPrefix,"-").concat(Ga.GROUP)},children:[{tag:"path",attributes:{class:"".concat(lt.familyPrefix,"-").concat(Ga.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(lt.familyPrefix,"-").concat(Ga.PRIMARY),fill:"currentColor",d:o[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:o}},{found:!0,width:t,height:n,icon:a}}var aG={found:!1,width:512,height:512};function lG(e,t){!bM&&!lt.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function Ry(e,t){var n=t;return t==="fa"&&lt.styleDefault!==null&&(t=la()),new Promise(function(r,i){if(us("missingIconAbstract"),n==="fa"){var o=LM(e)||{};e=o.iconName||e,t=o.prefix||t}if(e&&t&&c0[t]&&c0[t][e]){var a=c0[t][e];return r(Fy(a))}lG(e,t),r(Xe(Xe({},aG),{},{icon:lt.showMissingIcons&&e?us("missingIconAbstract")||{}:{}}))})}var s2=function(){},By=lt.measurePerformance&&Nh&&Nh.mark&&Nh.measure?Nh:{mark:s2,measure:s2},Qf='FA "6.1.1"',uG=function(t){return By.mark("".concat(Qf," ").concat(t," begins")),function(){return IM(t)}},IM=function(t){By.mark("".concat(Qf," ").concat(t," ends")),By.measure("".concat(Qf," ").concat(t),"".concat(Qf," ").concat(t," begins"),"".concat(Qf," ").concat(t," ends"))},a1={begin:uG,end:IM},Kh=function(){};function a2(e){var t=e.getAttribute?e.getAttribute(cl):null;return typeof t=="string"}function fG(e){var t=e.getAttribute?e.getAttribute(Z_):null,n=e.getAttribute?e.getAttribute(Q_):null;return t&&n}function cG(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(lt.replacementClass)}function dG(){if(lt.autoReplaceSvg===!0)return qh.replace;var e=qh[lt.autoReplaceSvg];return e||qh.replace}function hG(e){return cn.createElementNS("http://www.w3.org/2000/svg",e)}function pG(e){return cn.createElement(e)}function FM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.ceFn,r=n===void 0?e.tag==="svg"?hG:pG:n;if(typeof e=="string")return cn.createTextNode(e);var i=r(e.tag);Object.keys(e.attributes||[]).forEach(function(a){i.setAttribute(a,e.attributes[a])});var o=e.children||[];return o.forEach(function(a){i.appendChild(FM(a,{ceFn:r}))}),i}function gG(e){var t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var qh={replace:function(t){var n=t[0];if(n.parentNode)if(t[1].forEach(function(i){n.parentNode.insertBefore(FM(i),n)}),n.getAttribute(cl)===null&&lt.keepOriginalSource){var r=cn.createComment(gG(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(t){var n=t[0],r=t[1];if(~t1(n).indexOf(lt.replacementClass))return qh.replace(t);var i=new RegExp("".concat(lt.familyPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var o=r[0].attributes.class.split(" ").reduce(function(l,f){return f===lt.replacementClass||f.match(i)?l.toSvg.push(f):l.toNode.push(f),l},{toNode:[],toSvg:[]});r[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",o.toNode.join(" "))}var a=r.map(function(l){return Td(l)}).join(`
`);n.setAttribute(cl,""),n.innerHTML=a}};function l2(e){e()}function RM(e,t){var n=typeof t=="function"?t:Kh;if(e.length===0)n();else{var r=l2;lt.mutateApproach===yq&&(r=aa.requestAnimationFrame||l2),r(function(){var i=dG(),o=a1.begin("mutate");e.map(i),o(),n()})}}var l1=!1;function BM(){l1=!0}function zy(){l1=!1}var lg=null;function u2(e){if(!!QS&&!!lt.observeMutations){var t=e.treeCallback,n=t===void 0?Kh:t,r=e.nodeCallback,i=r===void 0?Kh:r,o=e.pseudoElementsCallback,a=o===void 0?Kh:o,l=e.observeMutationsRoot,f=l===void 0?cn:l;lg=new QS(function(h){if(!l1){var p=la();Qu(h).forEach(function(m){if(m.type==="childList"&&m.addedNodes.length>0&&!a2(m.addedNodes[0])&&(lt.searchPseudoElements&&a(m.target),n(m.target)),m.type==="attributes"&&m.target.parentNode&&lt.searchPseudoElements&&a(m.target.parentNode),m.type==="attributes"&&a2(m.target)&&~Sq.indexOf(m.attributeName))if(m.attributeName==="class"&&fG(m.target)){var v=gm(t1(m.target)),b=v.prefix,_=v.iconName;m.target.setAttribute(Z_,b||p),_&&m.target.setAttribute(Q_,_)}else cG(m.target)&&i(m.target)})}}),ys&&lg.observe(f,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function mG(){!lg||lg.disconnect()}function vG(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce(function(r,i){var o=i.split(":"),a=o[0],l=o.slice(1);return a&&l.length>0&&(r[a]=l.join(":").trim()),r},{})),n}function yG(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=e.innerText!==void 0?e.innerText.trim():"",i=gm(t1(e));return i.prefix||(i.prefix=la()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||i.prefix&&r.length>0&&(i.iconName=Jq(i.prefix,e.innerText)||i1(i.prefix,Ny(e.innerText))),i}function bG(e){var t=Qu(e.attributes).reduce(function(i,o){return i.name!=="class"&&i.name!=="style"&&(i[o.name]=o.value),i},{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return lt.autoA11y&&(n?t["aria-labelledby"]="".concat(lt.replacementClass,"-title-").concat(r||ad()):(t["aria-hidden"]="true",t.focusable="false")),t}function _G(){return{iconName:null,title:null,titleId:null,prefix:null,transform:yo,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function f2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=yG(e),r=n.iconName,i=n.prefix,o=n.rest,a=bG(e),l=Py("parseNodeAttributes",{},e),f=t.styleParser?vG(e):[];return Xe({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:yo,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:f,attributes:a}},l)}var wG=Gi.styles;function zM(e){var t=lt.autoReplaceSvg==="nest"?f2(e,{styleParser:!1}):f2(e);return~t.extra.classes.indexOf(wM)?us("generateLayersText",e,t):us("generateSvgReplacementMutation",e,t)}function c2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ys)return Promise.resolve();var n=cn.documentElement.classList,r=function(m){return n.add("".concat(e2,"-").concat(m))},i=function(m){return n.remove("".concat(e2,"-").concat(m))},o=lt.autoFetchSvg?Object.keys(e1):Object.keys(wG),a=[".".concat(wM,":not([").concat(cl,"])")].concat(o.map(function(p){return".".concat(p,":not([").concat(cl,"])")})).join(", ");if(a.length===0)return Promise.resolve();var l=[];try{l=Qu(e.querySelectorAll(a))}catch{}if(l.length>0)r("pending"),i("complete");else return Promise.resolve();var f=a1.begin("onTree"),h=l.reduce(function(p,m){try{var v=zM(m);v&&p.push(v)}catch(b){bM||b.name==="MissingIcon"&&console.error(b)}return p},[]);return new Promise(function(p,m){Promise.all(h).then(function(v){RM(v,function(){r("active"),r("complete"),i("pending"),typeof t=="function"&&t(),f(),p()})}).catch(function(v){f(),m(v)})})}function kG(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;zM(e).then(function(n){n&&RM([n],t)})}function xG(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(t||{}).icon?t:Iy(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Iy(i||{})),e(r,Xe(Xe({},n),{},{mask:i}))}}var CG=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,i=r===void 0?yo:r,o=n.symbol,a=o===void 0?!1:o,l=n.mask,f=l===void 0?null:l,h=n.maskId,p=h===void 0?null:h,m=n.title,v=m===void 0?null:m,b=n.titleId,_=b===void 0?null:b,k=n.classes,C=k===void 0?[]:k,E=n.attributes,S=E===void 0?{}:E,F=n.styles,O=F===void 0?{}:F;if(!!t){var K=t.prefix,j=t.iconName,U=t.icon;return mm(Xe({type:"icon"},t),function(){return dl("beforeDOMElementCreation",{iconDefinition:t,params:n}),lt.autoA11y&&(v?S["aria-labelledby"]="".concat(lt.replacementClass,"-title-").concat(_||ad()):(S["aria-hidden"]="true",S.focusable="false")),s1({icons:{main:Fy(U),mask:f?Fy(f.icon):{found:!1,width:null,height:null,icon:{}}},prefix:K,iconName:j,transform:Xe(Xe({},yo),i),symbol:a,title:v,maskId:p,titleId:_,extra:{attributes:S,styles:O,classes:C}})})}},SG={mixout:function(){return{icon:xG(CG)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=c2,n.nodeCallback=kG,n}}},provides:function(t){t.i2svg=function(n){var r=n.node,i=r===void 0?cn:r,o=n.callback,a=o===void 0?function(){}:o;return c2(i,a)},t.generateSvgReplacementMutation=function(n,r){var i=r.iconName,o=r.title,a=r.titleId,l=r.prefix,f=r.transform,h=r.symbol,p=r.mask,m=r.maskId,v=r.extra;return new Promise(function(b,_){Promise.all([Ry(i,l),p.iconName?Ry(p.iconName,p.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(k){var C=Y_(k,2),E=C[0],S=C[1];b([n,s1({icons:{main:E,mask:S},prefix:l,iconName:i,transform:f,symbol:h,maskId:m,title:o,titleId:a,extra:v,watchable:!0})])}).catch(_)})},t.generateAbstractIcon=function(n){var r=n.children,i=n.attributes,o=n.main,a=n.transform,l=n.styles,f=hm(l);f.length>0&&(i.style=f);var h;return n1(a)&&(h=us("generateAbstractTransformGrouping",{main:o,transform:a,containerWidth:o.width,iconWidth:o.width})),r.push(h||o.icon),{children:r,attributes:i}}}},TG={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,o=i===void 0?[]:i;return mm({type:"layer"},function(){dl("beforeDOMElementCreation",{assembler:n,params:r});var a=[];return n(function(l){Array.isArray(l)?l.map(function(f){a=a.concat(f.abstract)}):a=a.concat(l.abstract)}),[{tag:"span",attributes:{class:["".concat(lt.familyPrefix,"-layers")].concat(dm(o)).join(" ")},children:a}]})}}}},EG={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.title,o=i===void 0?null:i,a=r.classes,l=a===void 0?[]:a,f=r.attributes,h=f===void 0?{}:f,p=r.styles,m=p===void 0?{}:p;return mm({type:"counter",content:n},function(){return dl("beforeDOMElementCreation",{content:n,params:r}),sG({content:n.toString(),title:o,extra:{attributes:h,styles:m,classes:["".concat(lt.familyPrefix,"-layers-counter")].concat(dm(l))}})})}}}},AG={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,o=i===void 0?yo:i,a=r.title,l=a===void 0?null:a,f=r.classes,h=f===void 0?[]:f,p=r.attributes,m=p===void 0?{}:p,v=r.styles,b=v===void 0?{}:v;return mm({type:"text",content:n},function(){return dl("beforeDOMElementCreation",{content:n,params:r}),o2({content:n,transform:Xe(Xe({},yo),o),title:l,extra:{attributes:m,styles:b,classes:["".concat(lt.familyPrefix,"-layers-text")].concat(dm(h))}})})}}},provides:function(t){t.generateLayersText=function(n,r){var i=r.title,o=r.transform,a=r.extra,l=null,f=null;if(mM){var h=parseInt(getComputedStyle(n).fontSize,10),p=n.getBoundingClientRect();l=p.width/h,f=p.height/h}return lt.autoA11y&&!i&&(a.attributes["aria-hidden"]="true"),Promise.resolve([n,o2({content:n.innerHTML,width:l,height:f,transform:o,title:i,extra:a,watchable:!0})])}}},OG=new RegExp('"',"ug"),d2=[1105920,1112319];function DG(e){var t=e.replace(OG,""),n=Vq(t,0),r=n>=d2[0]&&n<=d2[1],i=t.length===2?t[0]===t[1]:!1;return{value:Ny(i?t[0]:t),isSecondary:r||i}}function h2(e,t){var n="".concat(vq).concat(t.replace(":","-"));return new Promise(function(r,i){if(e.getAttribute(n)!==null)return r();var o=Qu(e.children),a=o.filter(function(j){return j.getAttribute(My)===t})[0],l=aa.getComputedStyle(e,t),f=l.getPropertyValue("font-family").match(kq),h=l.getPropertyValue("font-weight"),p=l.getPropertyValue("content");if(a&&!f)return e.removeChild(a),r();if(f&&p!=="none"&&p!==""){var m=l.getPropertyValue("content"),v=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(f[2])?sg[f[2].toLowerCase()]:xq[h],b=DG(m),_=b.value,k=b.isSecondary,C=f[0].startsWith("FontAwesome"),E=i1(v,_),S=E;if(C){var F=Yq(_);F.iconName&&F.prefix&&(E=F.iconName,v=F.prefix)}if(E&&!k&&(!a||a.getAttribute(Z_)!==v||a.getAttribute(Q_)!==S)){e.setAttribute(n,S),a&&e.removeChild(a);var O=_G(),K=O.extra;K.attributes[My]=t,Ry(E,v).then(function(j){var U=s1(Xe(Xe({},O),{},{icons:{main:j,mask:o1()},prefix:v,iconName:S,extra:K,watchable:!0})),q=cn.createElement("svg");t==="::before"?e.insertBefore(q,e.firstChild):e.appendChild(q),q.outerHTML=U.map(function(B){return Td(B)}).join(`
`),e.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function MG(e){return Promise.all([h2(e,"::before"),h2(e,"::after")])}function NG(e){return e.parentNode!==document.head&&!~bq.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(My)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function p2(e){if(!!ys)return new Promise(function(t,n){var r=Qu(e.querySelectorAll("*")).filter(NG).map(MG),i=a1.begin("searchPseudoElements");BM(),Promise.all(r).then(function(){i(),zy(),t()}).catch(function(){i(),zy(),n()})})}var LG={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=p2,n}}},provides:function(t){t.pseudoElements2svg=function(n){var r=n.node,i=r===void 0?cn:r;lt.searchPseudoElements&&p2(i)}}},g2=!1,PG={mixout:function(){return{dom:{unwatch:function(){BM(),g2=!0}}}},hooks:function(){return{bootstrap:function(){u2(Py("mutationObserverCallbacks",{}))},noAuto:function(){mG()},watch:function(n){var r=n.observeMutationsRoot;g2?zy():u2(Py("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},m2=function(t){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(r,i){var o=i.toLowerCase().split("-"),a=o[0],l=o.slice(1).join("-");if(a&&l==="h")return r.flipX=!0,r;if(a&&l==="v")return r.flipY=!0,r;if(l=parseFloat(l),isNaN(l))return r;switch(a){case"grow":r.size=r.size+l;break;case"shrink":r.size=r.size-l;break;case"left":r.x=r.x-l;break;case"right":r.x=r.x+l;break;case"up":r.y=r.y-l;break;case"down":r.y=r.y+l;break;case"rotate":r.rotate=r.rotate+l;break}return r},n)},IG={mixout:function(){return{parse:{transform:function(n){return m2(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=m2(i)),n}}},provides:function(t){t.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.containerWidth,a=n.iconWidth,l={transform:"translate(".concat(o/2," 256)")},f="translate(".concat(i.x*32,", ").concat(i.y*32,") "),h="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),p="rotate(".concat(i.rotate," 0 0)"),m={transform:"".concat(f," ").concat(h," ").concat(p)},v={transform:"translate(".concat(a/2*-1," -256)")},b={outer:l,inner:m,path:v};return{tag:"g",attributes:Xe({},b.outer),children:[{tag:"g",attributes:Xe({},b.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Xe(Xe({},r.icon.attributes),b.path)}]}]}}}},d0={x:0,y:0,width:"100%",height:"100%"};function v2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function FG(e){return e.tag==="g"?e.children:[e]}var RG={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),o=i?gm(i.split(" ").map(function(a){return a.trim()})):o1();return o.prefix||(o.prefix=la()),n.mask=o,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(t){t.generateAbstractMask=function(n){var r=n.children,i=n.attributes,o=n.main,a=n.mask,l=n.maskId,f=n.transform,h=o.width,p=o.icon,m=a.width,v=a.icon,b=Iq({transform:f,containerWidth:m,iconWidth:h}),_={tag:"rect",attributes:Xe(Xe({},d0),{},{fill:"white"})},k=p.children?{children:p.children.map(v2)}:{},C={tag:"g",attributes:Xe({},b.inner),children:[v2(Xe({tag:p.tag,attributes:Xe(Xe({},p.attributes),b.path)},k))]},E={tag:"g",attributes:Xe({},b.outer),children:[C]},S="mask-".concat(l||ad()),F="clip-".concat(l||ad()),O={tag:"mask",attributes:Xe(Xe({},d0),{},{id:S,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[_,E]},K={tag:"defs",children:[{tag:"clipPath",attributes:{id:F},children:FG(v)},O]};return r.push(K,{tag:"rect",attributes:Xe({fill:"currentColor","clip-path":"url(#".concat(F,")"),mask:"url(#".concat(S,")")},d0)}),{children:r,attributes:i}}}},BG={provides:function(t){var n=!1;aa.matchMedia&&(n=aa.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:Xe(Xe({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=Xe(Xe({},o),{},{attributeName:"opacity"}),l={tag:"circle",attributes:Xe(Xe({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||l.children.push({tag:"animate",attributes:Xe(Xe({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Xe(Xe({},a),{},{values:"1;0;1;1;0;1;"})}),r.push(l),r.push({tag:"path",attributes:Xe(Xe({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:Xe(Xe({},a),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:Xe(Xe({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Xe(Xe({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},zG={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol"),o=i===null?!1:i===""?!0:i;return n.symbol=o,n}}}},$G=[Bq,SG,TG,EG,AG,LG,PG,IG,RG,BG,zG];Qq($G,{mixoutsTo:mi});mi.noAuto;var $M=mi.config,HG=mi.library;mi.dom;var HM=mi.parse;mi.findIconDefinition;mi.toHtml;var jG=mi.icon;mi.layer;var VG=mi.text;mi.counter;var WG=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function UG(e,t){return t={exports:{}},e(t,t.exports),t.exports}var KG=UG(function(e){(function(t){var n=function(E,S,F){if(!h(S)||m(S)||v(S)||b(S)||f(S))return S;var O,K=0,j=0;if(p(S))for(O=[],j=S.length;K<j;K++)O.push(n(E,S[K],F));else{O={};for(var U in S)Object.prototype.hasOwnProperty.call(S,U)&&(O[E(U,F)]=n(E,S[U],F))}return O},r=function(E,S){S=S||{};var F=S.separator||"_",O=S.split||/(?=[A-Z])/;return E.split(O).join(F)},i=function(E){return _(E)?E:(E=E.replace(/[\-_\s]+(.)?/g,function(S,F){return F?F.toUpperCase():""}),E.substr(0,1).toLowerCase()+E.substr(1))},o=function(E){var S=i(E);return S.substr(0,1).toUpperCase()+S.substr(1)},a=function(E,S){return r(E,S).toLowerCase()},l=Object.prototype.toString,f=function(E){return typeof E=="function"},h=function(E){return E===Object(E)},p=function(E){return l.call(E)=="[object Array]"},m=function(E){return l.call(E)=="[object Date]"},v=function(E){return l.call(E)=="[object RegExp]"},b=function(E){return l.call(E)=="[object Boolean]"},_=function(E){return E=E-0,E===E},k=function(E,S){var F=S&&"process"in S?S.process:S;return typeof F!="function"?E:function(O,K){return F(O,E,K)}},C={camelize:i,decamelize:a,pascalize:o,depascalize:a,camelizeKeys:function(E,S){return n(k(i,S),E)},decamelizeKeys:function(E,S){return n(k(a,S),E,S)},pascalizeKeys:function(E,S){return n(k(o,S),E)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=C:t.humps=C})(WG)}),qG=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},ug=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GG=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(e,r)||(n[r]=e[r]);return n},$y=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}else return Array.from(e)};function JG(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var r=n.indexOf(":"),i=KG.camelize(n.slice(0,r)),o=n.slice(r+1).trim();return t[i]=o,t},{})}function YG(e){return e.split(/\s+/).reduce(function(t,n){return t[n]=!0,t},{})}function u1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(f){return u1(f)}),i=Object.keys(e.attributes||{}).reduce(function(f,h){var p=e.attributes[h];switch(h){case"class":f.class=YG(p);break;case"style":f.style=JG(p);break;default:f.attrs[h]=p}return f},{attrs:{},class:{},style:{}});n.class;var o=n.style,a=o===void 0?{}:o,l=GG(n,["class","style"]);return Xn(e.tag,ug({},t,{class:i.class,style:ug({},i.style,a)},i.attrs,l),r)}var jM=!1;try{jM=!0}catch{}function XG(){if(!jM&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function Mc(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?ec({},e,t):{}}function ZG(e){var t,n=(t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-inverse":e.inverse,"fa-flip-horizontal":e.flip==="horizontal"||e.flip==="both","fa-flip-vertical":e.flip==="vertical"||e.flip==="both"},ec(t,"fa-"+e.size,e.size!==null),ec(t,"fa-rotate-"+e.rotation,e.rotation!==null),ec(t,"fa-pull-"+e.pull,e.pull!==null),ec(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(n).map(function(r){return n[r]?r:null}).filter(function(r){return r})}function y2(e){if(e===null)return null;if((typeof e=="undefined"?"undefined":qG(e))==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}var QG=pn({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:String,default:null,validator:function(t){return["horizontal","vertical","both"].indexOf(t)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(t){return["right","left"].indexOf(t)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(t){return[90,180,270].indexOf(Number.parseInt(t,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(t){return["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(t)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1}},setup:function(t,n){var r=n.attrs,i=xn(function(){return y2(t.icon)}),o=xn(function(){return Mc("classes",ZG(t))}),a=xn(function(){return Mc("transform",typeof t.transform=="string"?HM.transform(t.transform):t.transform)}),l=xn(function(){return Mc("mask",y2(t.mask))}),f=xn(function(){return jG(i.value,ug({},o.value,a.value,l.value,{symbol:t.symbol,title:t.title}))});On(f,function(p){if(!p)return XG("Could not find one or more icon(s)",i.value,l.value)},{immediate:!0});var h=xn(function(){return f.value?u1(f.value.abstract[0],{},r):null});return function(){return h.value}}});pn({name:"FontAwesomeLayers",props:{fixedWidth:{type:Boolean,default:!1}},setup:function(t,n){var r=n.slots,i=$M.familyPrefix,o=xn(function(){return[i+"-layers"].concat($y(t.fixedWidth?[i+"-fw"]:[]))});return function(){return Xn("div",{class:o.value},r.default?r.default():[])}}});pn({name:"FontAwesomeLayersText",props:{value:{type:[String,Number],default:""},transform:{type:[String,Object],default:null},counter:{type:Boolean,default:!1},position:{type:String,default:null,validator:function(t){return["bottom-left","bottom-right","top-left","top-right"].indexOf(t)>-1}}},setup:function(t,n){var r=n.attrs,i=$M.familyPrefix,o=xn(function(){return Mc("classes",[].concat($y(t.counter?[i+"-layers-counter"]:[]),$y(t.position?[i+"-layers-"+t.position]:[])))}),a=xn(function(){return Mc("transform",typeof t.transform=="string"?HM.transform(t.transform):t.transform)}),l=xn(function(){var h=VG(t.value.toString(),ug({},a.value,o.value)),p=h.abstract;return t.counter&&(p[0].attributes.class=p[0].attributes.class.replace("fa-layers-text","")),p[0]}),f=xn(function(){return u1(l.value,{},r)});return function(){return f.value}}});/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */var eJ={prefix:"fas",iconName:"align-center",icon:[448,512,[],"f037","M320 96H128C110.3 96 96 81.67 96 64C96 46.33 110.3 32 128 32H320C337.7 32 352 46.33 352 64C352 81.67 337.7 96 320 96zM416 224H32C14.33 224 0 209.7 0 192C0 174.3 14.33 160 32 160H416C433.7 160 448 174.3 448 192C448 209.7 433.7 224 416 224zM0 448C0 430.3 14.33 416 32 416H416C433.7 416 448 430.3 448 448C448 465.7 433.7 480 416 480H32C14.33 480 0 465.7 0 448zM320 352H128C110.3 352 96 337.7 96 320C96 302.3 110.3 288 128 288H320C337.7 288 352 302.3 352 320C352 337.7 337.7 352 320 352z"]},tJ={prefix:"fas",iconName:"align-justify",icon:[448,512,[],"f039","M416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96zM416 352H32C14.33 352 0 337.7 0 320C0 302.3 14.33 288 32 288H416C433.7 288 448 302.3 448 320C448 337.7 433.7 352 416 352zM0 192C0 174.3 14.33 160 32 160H416C433.7 160 448 174.3 448 192C448 209.7 433.7 224 416 224H32C14.33 224 0 209.7 0 192zM416 480H32C14.33 480 0 465.7 0 448C0 430.3 14.33 416 32 416H416C433.7 416 448 430.3 448 448C448 465.7 433.7 480 416 480z"]},nJ={prefix:"fas",iconName:"align-left",icon:[448,512,[],"f036","M256 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H256C273.7 32 288 46.33 288 64C288 81.67 273.7 96 256 96zM256 352H32C14.33 352 0 337.7 0 320C0 302.3 14.33 288 32 288H256C273.7 288 288 302.3 288 320C288 337.7 273.7 352 256 352zM0 192C0 174.3 14.33 160 32 160H416C433.7 160 448 174.3 448 192C448 209.7 433.7 224 416 224H32C14.33 224 0 209.7 0 192zM416 480H32C14.33 480 0 465.7 0 448C0 430.3 14.33 416 32 416H416C433.7 416 448 430.3 448 448C448 465.7 433.7 480 416 480z"]},rJ={prefix:"fas",iconName:"align-right",icon:[448,512,[],"f038","M416 96H192C174.3 96 160 81.67 160 64C160 46.33 174.3 32 192 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96zM416 352H192C174.3 352 160 337.7 160 320C160 302.3 174.3 288 192 288H416C433.7 288 448 302.3 448 320C448 337.7 433.7 352 416 352zM0 192C0 174.3 14.33 160 32 160H416C433.7 160 448 174.3 448 192C448 209.7 433.7 224 416 224H32C14.33 224 0 209.7 0 192zM416 480H32C14.33 480 0 465.7 0 448C0 430.3 14.33 416 32 416H416C433.7 416 448 430.3 448 448C448 465.7 433.7 480 416 480z"]},iJ={prefix:"fas",iconName:"highlighter",icon:[576,512,[],"f591","M143.1 320V248.3C143.1 233 151.2 218.7 163.5 209.6L436.6 8.398C444 2.943 452.1 0 462.2 0C473.6 0 484.5 4.539 492.6 12.62L547.4 67.38C555.5 75.46 559.1 86.42 559.1 97.84C559.1 107 557.1 115.1 551.6 123.4L350.4 396.5C341.3 408.8 326.1 416 311.7 416H239.1L214.6 441.4C202.1 453.9 181.9 453.9 169.4 441.4L118.6 390.6C106.1 378.1 106.1 357.9 118.6 345.4L143.1 320zM489.4 99.92L460.1 70.59L245 229L330.1 314.1L489.4 99.92zM23.03 466.3L86.06 403.3L156.7 473.9L125.7 504.1C121.2 509.5 115.1 512 108.7 512H40C26.75 512 16 501.3 16 488V483.3C16 476.1 18.53 470.8 23.03 466.3V466.3z"]},oJ={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M447.1 32h-384C28.64 32-.0091 60.65-.0091 96v320c0 35.35 28.65 64 63.1 64h384c35.35 0 64-28.65 64-64V96C511.1 60.65 483.3 32 447.1 32zM111.1 96c26.51 0 48 21.49 48 48S138.5 192 111.1 192s-48-21.49-48-48S85.48 96 111.1 96zM446.1 407.6C443.3 412.8 437.9 416 432 416H82.01c-6.021 0-11.53-3.379-14.26-8.75c-2.73-5.367-2.215-11.81 1.334-16.68l70-96C142.1 290.4 146.9 288 152 288s9.916 2.441 12.93 6.574l32.46 44.51l93.3-139.1C293.7 194.7 298.7 192 304 192s10.35 2.672 13.31 7.125l128 192C448.6 396 448.9 402.3 446.1 407.6z"]},sJ={prefix:"fas",iconName:"paragraph",icon:[448,512,[182],"f1dd","M448 63.1C448 81.67 433.7 96 416 96H384v352c0 17.67-14.33 32-31.1 32S320 465.7 320 448V96h-32v352c0 17.67-14.33 32-31.1 32S224 465.7 224 448v-96H198.9c-83.57 0-158.2-61.11-166.1-144.3C23.66 112.3 98.44 32 191.1 32h224C433.7 32 448 46.33 448 63.1z"]};HG.add(sJ,iJ,nJ,rJ,eJ,tJ,oJ);const aJ={name:"SvgIcon",components:{FontAwesomeIcon:QG},props:{content:{type:Object,default:()=>{}}},data(){return{defaultSvgs:{bold:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M333.49 238a122 122 0 0 0 27-65.21C367.87 96.49 308 32 233.42 32H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h31.87v288H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h209.32c70.8 0 134.14-51.75 141-122.4 4.74-48.45-16.39-92.06-50.83-119.6zM145.66 112h87.76a48 48 0 0 1 0 96h-87.76zm87.76 288h-87.76V288h87.76a56 56 0 0 1 0 112z"/></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M32 64h32v160c0 88.22 71.78 160 160 160s160-71.78 160-160V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H272a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32v160a80 80 0 0 1-160 0V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm400 384H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"/></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M320 48v32a16 16 0 0 1-16 16h-62.76l-80 320H208a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h62.76l80-320H112a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16z"/></svg>',strikethrough:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M496 224H293.9l-87.17-26.83A43.55 43.55 0 0 1 219.55 112h66.79A49.89 49.89 0 0 1 331 139.58a16 16 0 0 0 21.46 7.15l42.94-21.47a16 16 0 0 0 7.16-21.46l-.53-1A128 128 0 0 0 287.51 32h-68a123.68 123.68 0 0 0-123 135.64c2 20.89 10.1 39.83 21.78 56.36H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h480a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-180.24 96A43 43 0 0 1 336 356.45 43.59 43.59 0 0 1 292.45 400h-66.79A49.89 49.89 0 0 1 181 372.42a16 16 0 0 0-21.46-7.15l-42.94 21.47a16 16 0 0 0-7.16 21.46l.53 1A128 128 0 0 0 224.49 480h68a123.68 123.68 0 0 0 123-135.64 114.25 114.25 0 0 0-5.34-24.36z"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M314.222 197.78c51.091 51.091 54.377 132.287 9.75 187.16-6.242 7.73-2.784 3.865-84.94 86.02-54.696 54.696-143.266 54.745-197.99 0-54.711-54.69-54.734-143.255 0-197.99 32.773-32.773 51.835-51.899 63.409-63.457 7.463-7.452 20.331-2.354 20.486 8.192a173.31 173.31 0 0 0 4.746 37.828c.966 4.029-.272 8.269-3.202 11.198L80.632 312.57c-32.755 32.775-32.887 85.892 0 118.8 32.775 32.755 85.892 32.887 118.8 0l75.19-75.2c32.718-32.725 32.777-86.013 0-118.79a83.722 83.722 0 0 0-22.814-16.229c-4.623-2.233-7.182-7.25-6.561-12.346 1.356-11.122 6.296-21.885 14.815-30.405l4.375-4.375c3.625-3.626 9.177-4.594 13.76-2.294 12.999 6.524 25.187 15.211 36.025 26.049zM470.958 41.04c-54.724-54.745-143.294-54.696-197.99 0-82.156 82.156-78.698 78.29-84.94 86.02-44.627 54.873-41.341 136.069 9.75 187.16 10.838 10.838 23.026 19.525 36.025 26.049 4.582 2.3 10.134 1.331 13.76-2.294l4.375-4.375c8.52-8.519 13.459-19.283 14.815-30.405.621-5.096-1.938-10.113-6.561-12.346a83.706 83.706 0 0 1-22.814-16.229c-32.777-32.777-32.718-86.065 0-118.79l75.19-75.2c32.908-32.887 86.025-32.755 118.8 0 32.887 32.908 32.755 86.025 0 118.8l-45.848 45.84c-2.93 2.929-4.168 7.169-3.202 11.198a173.31 173.31 0 0 1 4.746 37.828c.155 10.546 13.023 15.644 20.486 8.192 11.574-11.558 30.636-30.684 63.409-63.457 54.733-54.735 54.71-143.3-.001-197.991z"></path></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M304.083 388.936c4.686 4.686 4.686 12.284 0 16.971l-65.057 65.056c-54.709 54.711-143.27 54.721-197.989 0-54.713-54.713-54.719-143.27 0-197.989l65.056-65.057c4.686-4.686 12.284-4.686 16.971 0l22.627 22.627c4.686 4.686 4.686 12.284 0 16.971L81.386 311.82c-34.341 34.341-33.451 88.269.597 120.866 32.577 31.187 84.788 31.337 117.445-1.32l65.057-65.056c4.686-4.686 12.284-4.686 16.971 0l22.627 22.626zm-56.568-243.245l64.304-64.304c34.346-34.346 88.286-33.453 120.882.612 31.18 32.586 31.309 84.785-1.335 117.43l-65.056 65.057c-4.686 4.686-4.686 12.284 0 16.971l22.627 22.627c4.686 4.686 12.284 4.686 16.971 0l65.056-65.057c54.711-54.709 54.721-143.271 0-197.99-54.71-54.711-143.27-54.72-197.989 0l-65.057 65.057c-4.686 4.686-4.686 12.284 0 16.971l22.627 22.627c4.685 4.685 12.283 4.685 16.97-.001zm238.343 362.794l22.627-22.627c4.686-4.686 4.686-12.284 0-16.971L43.112 3.515c-4.686-4.686-12.284-4.686-16.971 0L3.515 26.142c-4.686 4.686-4.686 12.284 0 16.971l465.373 465.373c4.686 4.686 12.284 4.686 16.97-.001z"></path></svg>',"file-code":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.941 97.941l-83.882-83.882A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zm-22.627 22.628a15.89 15.89 0 0 1 4.195 7.431H256V32.491a15.88 15.88 0 0 1 7.431 4.195l83.883 83.883zM336 480H48c-8.837 0-16-7.163-16-16V48c0-8.837 7.163-16 16-16h176v104c0 13.255 10.745 24 24 24h104v304c0 8.837-7.163 16-16 16zm-161.471-67.404l-25.928-7.527a5.1 5.1 0 0 1-3.476-6.32l58.027-199.869a5.1 5.1 0 0 1 6.32-3.476l25.927 7.527a5.1 5.1 0 0 1 3.476 6.32L180.849 409.12a5.1 5.1 0 0 1-6.32 3.476zm-48.446-47.674l18.492-19.724a5.101 5.101 0 0 0-.351-7.317L105.725 304l38.498-33.881a5.1 5.1 0 0 0 .351-7.317l-18.492-19.724a5.1 5.1 0 0 0-7.209-.233L57.61 300.279a5.1 5.1 0 0 0 0 7.441l61.263 57.434a5.1 5.1 0 0 0 7.21-.232zm139.043.232l61.262-57.434a5.1 5.1 0 0 0 0-7.441l-61.262-57.434a5.1 5.1 0 0 0-7.209.233l-18.492 19.724a5.101 5.101 0 0 0 .351 7.317L278.275 304l-38.499 33.881a5.1 5.1 0 0 0-.351 7.317l18.492 19.724a5.1 5.1 0 0 0 7.209.232z"></path></svg>',"page-break":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M144 48.06L304 48v112a16 16 0 0 0 16 16h112v40h48v-84a48.09 48.09 0 0 0-14.09-34L382 14.07A48.09 48.09 0 0 0 348 0L128 .08a32 32 0 0 0-32 32V216h48zM352 52l76.07 76H352zM240 264a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16zm192 200H144V360H96v120a32 32 0 0 0 32 32h320a32 32 0 0 0 32-32V360h-48zm128-200H432a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16zm-400 32v-16a16 16 0 0 0-16-16H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16z"></path></svg>',"remove-format":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M634 471L36 3.5A16 16 0 0 0 13.49 6l-10 12.5A16 16 0 0 0 6 41l598 467.5a16 16 0 0 0 22.5-2.5l10-12.5A16 16 0 0 0 634 471zM352 96l-24.76 74.27L378 210l38-114h144v32a16 16 0 0 0 16 16h16a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16H176a15.86 15.86 0 0 0-14.18 8.94L232.24 96zm-16 336h-32l25.68-77-50.77-39.7L240 432h-32a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16z"></path></svg>',"quote-right":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"/></svg>',"list-ul":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"/></svg>',"list-ol":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg>',"horizontal-rule":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M640 247.5v17a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-17a16 16 0 0 1 16-16h608a16 16 0 0 1 16 16z"/></svg>',code:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M234.8 511.7L196 500.4c-4.2-1.2-6.7-5.7-5.5-9.9L331.3 5.8c1.2-4.2 5.7-6.7 9.9-5.5L380 11.6c4.2 1.2 6.7 5.7 5.5 9.9L244.7 506.2c-1.2 4.3-5.6 6.7-9.9 5.5zm-83.2-121.1l27.2-29c3.1-3.3 2.8-8.5-.5-11.5L72.2 256l106.1-94.1c3.4-3 3.6-8.2.5-11.5l-27.2-29c-3-3.2-8.1-3.4-11.3-.4L2.5 250.2c-3.4 3.2-3.4 8.5 0 11.7L140.3 391c3.2 3 8.2 2.8 11.3-.4zm284.1.4l137.7-129.1c3.4-3.2 3.4-8.5 0-11.7L435.7 121c-3.2-3-8.3-2.9-11.3.4l-27.2 29c-3.1 3.3-2.8 8.5.5 11.5L503.8 256l-106.1 94.1c-3.4 3-3.6 8.2-.5 11.5l27.2 29c3.1 3.2 8.1 3.4 11.3.4z"/></svg>',"brackets-curly":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M208 32h-88a56 56 0 0 0-56 56v77.49a40 40 0 0 1-11.72 28.29L7 239a24 24 0 0 0 0 34l45.24 45.24A40 40 0 0 1 64 346.52V424a56 56 0 0 0 56 56h88a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-88a8 8 0 0 1-8-8v-77.48a88.06 88.06 0 0 0-25.78-62.24L57.93 256l28.29-28.28A88.06 88.06 0 0 0 112 165.48V88a8 8 0 0 1 8-8h88a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zm361 207l-45.25-45.24A40.07 40.07 0 0 1 512 165.48V88a56 56 0 0 0-56-56h-88a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h88a8 8 0 0 1 8 8v77.48a88 88 0 0 0 25.78 62.24L518.06 256l-28.28 28.28A88 88 0 0 0 464 346.52V424a8 8 0 0 1-8 8h-88a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h88a56 56 0 0 0 56-56v-77.49a40 40 0 0 1 11.72-28.29L569 273a24 24 0 0 0 0-34z"></path></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"/></svg>',redo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"/></svg>',subscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M336 64h-52.28a16 16 0 0 0-13.31 7.12L176 212.73 81.59 71.12A16 16 0 0 0 68.28 64H16A16 16 0 0 0 0 80v16a16 16 0 0 0 16 16h35.16l96 144-96 144H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h52.28a16 16 0 0 0 13.31-7.12L176 299.27l94.41 141.61a16 16 0 0 0 13.31 7.12H336a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-35.16l-96-144 96-144H336a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm160 400h-24V304a16 16 0 0 0-16-16h-32a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 408 352h16v112h-24a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16z"></path></svg>',superscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M336 64h-52.28a16 16 0 0 0-13.31 7.12L176 212.73 81.59 71.12A16 16 0 0 0 68.28 64H16A16 16 0 0 0 0 80v16a16 16 0 0 0 16 16h35.16l96 144-96 144H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h52.28a16 16 0 0 0 13.31-7.12L176 299.27l94.41 141.61a16 16 0 0 0 13.31 7.12H336a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-35.16l-96-144 96-144H336a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm160 112h-24V16a16 16 0 0 0-16-16h-32a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 408 64h16v112h-24a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16z"></path></svg>'}}},computed:{getSvg(){return this.content.svg&&this.defaultSvgs[this.content.svg]?this.defaultSvgs[this.content.svg]:""}}},lJ=["innerHTML"];function uJ(e,t,n,r,i,o){const a=Ot("font-awesome-icon");return n.content.icon?(xe(),Wt(a,{key:0,icon:n.content.icon},null,8,["icon"])):(xe(),Ie("span",{key:1,class:"custom-svg",innerHTML:o.getSvg},null,8,lJ))}var f1=_n(aJ,[["render",uJ]]);const fJ={name:"MenuBarItem",components:{SvgIcon:f1},props:{field:{type:Object,default:null},editor:{type:Object,default:null},icon:{type:String,default:null},svg:{type:String,default:null},name:{type:String,default:null},title:{type:String,default:null},action:{type:Function,default:()=>{}},isActive:{type:Function,default:()=>{}},options:{type:Array,default:()=>[]}},data(){return{tippy:null}},computed:{active(){return this.isActive&&this.isActive()}},mounted(){this.$nextTick(()=>{if(this.hasDropdown){const e=this.$el.querySelector(`.vui-toolbar-dropdown-${this.name}`),t=this.$el;e&&t&&(e.style.display="block",this.tippy=gi(t,{content:e,trigger:"click",allowHTML:!0,arrow:!1,interactive:!0,placement:"bottom-start",theme:"light-border toolbar-dropdown",zIndex:1e3,hideOnClick:!0,offset:[0,1]}))}})},methods:{hasDropdown(){return!!(this.options&&this.options.length)},runAction(e){this.tippy&&this.tippy.hide(),e&&e()},onMouseDown(e){e.preventDefault()}}},cJ=["onClick"];function dJ(e,t,n,r,i,o){const a=Ot("svg-icon"),l=Tg("tooltip");return Rn((xe(),Ie("button",{class:Vt(["btn vui-toolbar-btn",{active:o.active}]),onClick:t[0]||(t[0]=Dt(f=>o.runAction(n.action),["prevent"])),onMousedown:t[1]||(t[1]=(...f)=>o.onMouseDown&&o.onMouseDown(...f))},[at(a,{content:{icon:n.icon,svg:n.svg}},null,8,["content"]),o.hasDropdown()?(xe(),Ie("div",{key:0,class:Vt(["vui-toolbar-dropdown-container","vui-toolbar-dropdown-"+n.name]),style:{display:"none"}},[(xe(!0),Ie(Tt,null,Dn(n.options,(f,h)=>(xe(),Ie("button",{key:h,class:Vt(["vui-toolbar-dropdown","vui-toolbar-dropdown-item-"+f.name]),onClick:Dt(p=>o.runAction(f.action),["prevent"])},Qe(f.title),11,cJ))),128))],2)):Pt("",!0)],34)),[[l,{content:n.title,theme:"vui-tooltip"}]])}var hJ=_n(fJ,[["render",dJ]]);const VM=(e,t)=>{if(!e||!t)return;const n=e.parent.childAfter(e.parentOffset);if(!n.node)return;const r=n.node.marks.find(f=>f.type===t);if(!r)return;let i=e.index(),o=e.start()+n.offset,a=i+1,l=o+n.node.nodeSize;for(;i>0&&r.isInSet(e.parent.child(i-1).marks);)i-=1,o-=e.parent.child(i).nodeSize;for(;a<e.parent.childCount&&r.isInSet(e.parent.child(a).marks);)l+=e.parent.child(a).nodeSize,a+=1;return{from:o,to:l}},pJ={name:"MenuBarModal",inheritAttrs:!1,props:{cancelButton:{type:String,default:"Cancel"},confirmButton:{type:String,default:"Confirm"}},emits:["update:modelValue","confirm","cancel"],methods:{opened(){setTimeout(()=>{this.$nextTick().then(()=>{const e=this.$el.querySelector('input[type="text"]');e&&e.focus()})},50)}}},gJ={class:"vui-modal-header"},mJ={class:"vui-modal-body"},vJ={class:"vui-modal-footer footer"},yJ=le("div",{class:"spinner hidden"},null,-1),bJ={class:"buttons right"};function _J(e,t,n,r,i,o){const a=Ot("vue-final-modal");return xe(),Wt(a,fi({class:"vui-modal-wrap"},e.$attrs,{classes:"vui-modal-container","content-class":"vui-modal-content","overlay-class":"vui-modal-overlay","lock-scroll":!1,onOpened:o.opened}),{default:fn(()=>[le("div",gJ,[In(e.$slots,"title"),le("div",{class:"vui-modal-close",onClick:t[0]||(t[0]=Dt(l=>e.$emit("update:modelValue",!1),["prevent"]))})]),le("div",mJ,[In(e.$slots,"default")]),le("div",vJ,[yJ,le("div",bJ,[le("div",{role:"button",class:"btn",tabindex:"0",onClick:t[1]||(t[1]=Dt(l=>e.$emit("cancel"),["prevent"]))},Qe(e.t("vizy",n.cancelButton)),1),le("div",{role:"button",class:"btn submit",onClick:t[2]||(t[2]=Dt(l=>e.$emit("confirm"),["prevent"]))},Qe(e.t("vizy",n.confirmButton)),1)])])]),_:3},16,["onOpened"])}var WM=_n(pJ,[["render",_J]]);const wJ={name:"LinkMenuModal",components:{MenuBarModal:WM},props:{field:{type:Object,default:null},editor:{type:Object,default:null},show:{type:Boolean,default:!1},modelValue:{type:Object,default:()=>globalThis.proxyValue}},emits:["update:modelValue","close"],data(){return{targetId:`target-${Craft.randomString(10)}`,proxyShow:!1,proxyValue:{url:null,text:null,target:null},errors:[]}},computed:{elementSiteId(){return this.field.settings.elementSiteId}},watch:{show(e){this.proxyShow=e},proxyShow(e){e===!1&&this.$emit("close")},proxyValue(e){this.$emit("update:modelValue",e)}},methods:{cancelModal(){this.proxyShow=!1},confirmModal(){if(this.errors=[],!this.modelValue.url){this.errors.push("url");return}const e={href:this.modelValue.url,target:this.modelValue.target?"_blank":""},{selection:t}=this.editor.state.tr,n=t.$cursor?t.$cursor.pos:t.from;this.editor.chain().focus().command(({commands:r,tr:i,state:o,dispatch:a})=>{let l=VM(o.doc.resolve(i.selection.anchor),o.schema.marks.link);if(l||(l={from:i.selection.from,to:i.selection.to}),this.modelValue.text){const f=this.modelValue.text.toString();i.insertText(f,l.from,l.to);const h=i.doc.resolve(l.from),p=i.doc.resolve(l.from+f.length);i.setSelection(new Ct(h,p))}}).setLink(e).command(({commands:r,tr:i,state:o,dispatch:a})=>{n&&i.setSelection(Ct.create(i.doc,n))}).run(),this.proxyShow=!1}}},kJ={class:"heading"},xJ={id:"url-label",class:"required",for:"url"},CJ={key:0,class:"errors"},SJ={id:"text-field",class:"field"},TJ={class:"heading"},EJ={id:"text-label",for:"text"},AJ={class:"input ltr"},OJ={id:"target-field",class:"checkboxfield field"},DJ={class:"input ltr"},MJ=["id"],NJ=["for"];function LJ(e,t,n,r,i,o){const a=Ot("menu-bar-modal");return xe(),Wt(a,{modelValue:i.proxyShow,"onUpdate:modelValue":t[3]||(t[3]=l=>i.proxyShow=l),attach:"body","esc-to-close":!0,"focus-trap":!0,"confirm-button":e.$attrs["confirm-button"],onConfirm:o.confirmModal,onCancel:o.cancelModal},{title:fn(()=>[ds(Qe(e.t("vizy",e.$attrs["modal-title"])),1)]),default:fn(()=>[le("div",{id:"url-field",class:Vt(["field",{"has-errors":i.errors.includes("url")}])},[le("div",kJ,[le("label",xJ,Qe(e.t("vizy","URL")),1)]),le("div",{class:Vt(["input ltr",{errors:i.errors.includes("url")}])},[Rn(le("input",{id:"url","onUpdate:modelValue":t[0]||(t[0]=l=>n.modelValue.url=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off",required:""},null,512),[[qr,n.modelValue.url]])],2),i.errors.includes("url")?(xe(),Ie("ul",CJ,[le("li",null,Qe(e.t("vizy","URL cannot be blank.")),1)])):Pt("",!0)],2),le("div",SJ,[le("div",TJ,[le("label",EJ,Qe(e.t("vizy","Text")),1)]),le("div",AJ,[Rn(le("input",{id:"text","onUpdate:modelValue":t[1]||(t[1]=l=>n.modelValue.text=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[qr,n.modelValue.text]])])]),le("div",OJ,[le("div",DJ,[Rn(le("input",{id:i.targetId,"onUpdate:modelValue":t[2]||(t[2]=l=>n.modelValue.target=l),type:"checkbox",class:"checkbox"},null,8,MJ),[[hd,n.modelValue.target]]),le("label",{for:i.targetId},Qe(e.t("vizy","Open link in new tab")),9,NJ)])])]),_:1},8,["modelValue","confirm-button","onConfirm","onCancel"])}var UM=_n(wJ,[["render",LJ]]);const PJ={name:"LinkMenuBubble",components:{LinkMenuModal:UM},props:{field:{type:Object,default:null},editor:{type:Object,default:null}},data(){return{tippy:null,showEditModal:!1,model:{url:null,text:null,target:null}}},watch:{editor:{immediate:!0,handler(e){e&&this.$nextTick(()=>{e.on("vui:link-clicked",this.renderBubble)})}}},methods:{renderBubble(){const{doc:e,selection:t,schema:n}=this.editor.view.state,r=VM(e.resolve(t.anchor),n.marks.link);if(r){const i=this.editor.view.docView.domFromPos(r.from).node;if(i){this.$el.style.display="block";const o=this.editor.getAttributes("link");this.model.text=i.textContent,this.model.url=o.href,this.model.target=o.target,this.tippy=gi(i.parentNode,{content:this.$el,showOnCreate:!0,trigger:"manual",allowHTML:!0,arrow:!0,interactive:!0,placement:"top",theme:"vui-menu-bubble",hideOnClick:!0,zIndex:1e3,appendTo:()=>document.body})}}},destroyBubble(){this.tippy&&(this.tippy.destroy(),this.tippy=null)},truncate(e,t){return e&&e.length>t?`${e.substr(0,t-1)}&hellip;`:e},edit(){this.showEditModal=!0,this.destroyBubble(),this.editor.chain().blur().run()},closeModal(){this.showEditModal=!1},unlink(){this.editor.chain().focus().unsetLink().run(),this.destroyBubble()}}},IJ={class:"vui-link-menu-bubble",style:{display:"none"}},FJ=["href","innerHTML"];function RJ(e,t,n,r,i,o){const a=Ot("link-menu-modal");return xe(),Ie("div",IJ,[le("a",{href:i.model.url,target:"_blank",innerHTML:o.truncate(i.model.url,30)},null,8,FJ),le("a",{href:"#",onClick:t[0]||(t[0]=Dt((...l)=>o.edit&&o.edit(...l),["prevent"]))},Qe(e.t("vizy","Edit")),1),le("a",{href:"#",onClick:t[1]||(t[1]=Dt((...l)=>o.unlink&&o.unlink(...l),["prevent"]))},Qe(e.t("vizy","Unlink")),1),at(a,{modelValue:i.model,"onUpdate:modelValue":t[2]||(t[2]=l=>i.model=l),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Update","modal-title":"Edit Link",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}var BJ=_n(PJ,[["render",RJ]]);const zJ={name:"MenuBarItem",components:{SvgIcon:f1,LinkMenuModal:UM,LinkMenuBubble:BJ},props:{field:{type:Object,default:null},editor:{type:Object,default:null},icon:{type:String,default:null},svg:{type:String,default:null},title:{type:String,default:null},isActive:{type:Function,default:()=>{}}},data(){return{tippy:null,showEditModal:!1,model:{}}},computed:{active(){return this.isActive&&this.isActive()},linkOptions(){return this.field.settings.linkOptions}},created(){this.resetModel()},mounted(){this.$nextTick(()=>{const e=this.$el.querySelector(".vui-toolbar-dropdown-link"),t=this.$el;e&&t&&(e.style.display="block",this.tippy=gi(t,{content:e,trigger:"click",allowHTML:!0,arrow:!1,interactive:!0,placement:"bottom-start",theme:"light-border toolbar-dropdown",zIndex:1e3,hideOnClick:!0,offset:[0,1]}))})},methods:{resetModel(){this.model={url:null,text:null,target:null}},openNewModal(){this.tippy.hide(),this.resetModel();const e=this.getSelectedText();e&&(this.model.text=e),this.showEditModal=!0},openEditModal(){this.tippy.hide();const{from:e,to:t}=this.editor.view.state.selection,n=this.editor.view.docView.domFromPos(e).node,r=this.editor.getAttributes("link");this.model.text=n.textContent,this.model.url=r.href,this.model.target=r.target,this.showEditModal=!0},closeModal(){this.showEditModal=!1},openElementModal(e){this.tippy.hide(),this.resetModel(),Craft.createElementSelectorModal(e.elementType,{storageKey:`VizyInput.LinkTo.${e.elementType}`,sources:e.sources,criteria:e.criteria,defaultSiteId:this.elementSiteId,autoFocusSearchBox:!1,onSelect:$.proxy(t=>{if(t.length){const[n]=t;this.model.url=`${n.url}#${e.refHandle}:${n.id}@${n.siteId}`,this.model.text=this.getSelectedText()||n.label,this.tippy.hide(),this.showEditModal=!0}},this),closeOtherModals:!1})},getSelectedText(){const{from:e,to:t}=this.editor.state.selection,n=this.editor.state.doc.textBetween(e,t," ");return n||!1},unlinkAction(){this.tippy.hide(),this.editor.chain().focus().unsetLink().run()},onMouseDown(e){e.preventDefault()}}},$J={class:"vui-toolbar-dropdown-container vui-toolbar-dropdown-link",style:{display:"none"}},HJ={key:0},jJ=["onClick"],VJ={key:1};function WJ(e,t,n,r,i,o){const a=Ot("svg-icon"),l=Ot("link-menu-bubble"),f=Ot("link-menu-modal"),h=Tg("tooltip");return xe(),Ie("div",null,[Rn((xe(),Ie("button",{class:Vt(["btn vui-toolbar-btn",{active:o.active}]),onClick:t[0]||(t[0]=Dt(()=>{},["prevent"])),onMousedown:t[1]||(t[1]=(...p)=>o.onMouseDown&&o.onMouseDown(...p))},[at(a,{content:{icon:n.icon,svg:n.svg}},null,8,["content"])],34)),[[h,{content:n.title,theme:"vui-tooltip"}]]),le("div",$J,[o.active?(xe(),Ie("div",VJ,[le("button",{class:"vui-toolbar-dropdown vui-toolbar-dropdown-item-link",onClick:t[3]||(t[3]=Dt((...p)=>o.openEditModal&&o.openEditModal(...p),["prevent"]))},Qe(e.t("vizy","Edit Link")),1)])):(xe(),Ie("div",HJ,[(xe(!0),Ie(Tt,null,Dn(o.linkOptions,(p,m)=>(xe(),Ie("button",{key:m,class:Vt(["vui-toolbar-dropdown","vui-toolbar-dropdown-item-link-"+p.refHandle]),onClick:Dt(v=>o.openElementModal(p),["prevent"])},Qe(p.optionTitle),11,jJ))),128)),le("button",{class:"vui-toolbar-dropdown vui-toolbar-dropdown-item-link",onClick:t[2]||(t[2]=Dt((...p)=>o.openNewModal&&o.openNewModal(...p),["prevent"]))},Qe(e.t("vizy","Insert Link")),1)])),le("button",{class:"vui-toolbar-dropdown vui-toolbar-dropdown-item-unlink",onClick:t[4]||(t[4]=Dt((...p)=>o.unlinkAction&&o.unlinkAction(...p),["prevent"]))},Qe(e.t("vizy","Unlink")),1)]),at(l,{editor:n.editor,field:n.field},null,8,["editor","field"]),at(f,{modelValue:i.model,"onUpdate:modelValue":t[5]||(t[5]=p=>i.model=p),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Insert","modal-title":"Insert Link",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}var UJ=_n(zJ,[["render",WJ]]);const KJ={name:"ImageMenuModal",components:{MenuBarModal:WM},props:{field:{type:Object,default:null},editor:{type:Object,default:null},show:{type:Boolean,default:!1},modelValue:{type:Object,default:()=>globalThis.proxyValue}},emits:["update:modelValue","close"],data(){return{targetId:`target-${Craft.randomString(10)}`,proxyShow:!1,proxyValue:{id:null,src:null,alt:null,title:null,url:null,target:null,transform:null},errors:[]}},computed:{elementSiteId(){return this.field.settings.elementSiteId},transforms(){return this.field.settings.transforms}},watch:{show(e){this.proxyShow=e},proxyShow(e){e===!1&&this.$emit("close")},proxyValue(e){this.$emit("update:modelValue",e)}},methods:{_buildAssetUrl:(e,t,n)=>`${t}#asset:${e}:${n?`transform:${n}`:"url"}`,_removeTransformFromUrl:e=>e.replace(/(.*)(_[a-z0-9+].*\/)(.*)/,"$1$3"),_getTransformUrl(e,t,n){const r={assetId:e,handle:t};Craft.sendActionRequest("POST","assets/generate-transform",{data:r}).then(i=>{n(i.data.url)}).catch(({response:i})=>{alert("There was an error generating the transform URL.")})},cancelModal(){this.proxyShow=!1},confirmModal(){this.errors=[];const e=this._removeTransformFromUrl(this.modelValue.src.split("#")[0]);this.modelValue.target=this.modelValue.target?"_blank":"",this.modelValue.transform?this._getTransformUrl(this.modelValue.id,this.modelValue.transform,t=>{this.modelValue.src=this._buildAssetUrl(this.modelValue.id,t,this.modelValue.transform),this.editor.chain().focus().setImage(this.modelValue).run()}):(this.modelValue.src=e,this.editor.chain().focus().setImage(this.modelValue).run()),this.proxyShow=!1}}},qJ={class:"vizy-modal-image-preview"},GJ=["src"],JJ={class:"vizy-modal-image-fields"},YJ={id:"alt-field",class:"field"},XJ={class:"heading"},ZJ={id:"alt-label",for:"alt"},QJ={class:"input ltr"},eY={id:"title-field",class:"field"},tY={class:"heading"},nY={id:"title-label",for:"title"},rY={class:"input ltr"},iY={id:"url-field",class:"field"},oY={class:"heading"},sY={id:"url-label",for:"url"},aY={class:"input ltr"},lY={id:"target-field",class:"checkboxfield field"},uY={class:"input ltr"},fY=["id"],cY=["for"],dY={id:"transform-field",class:"field first"},hY={class:"heading"},pY={id:"transform-label",for:"transform"},gY={class:"input ltr"},mY={class:"select"},vY={value:""},yY=["value"];function bY(e,t,n,r,i,o){const a=Ot("menu-bar-modal");return xe(),Wt(a,{modelValue:i.proxyShow,"onUpdate:modelValue":t[5]||(t[5]=l=>i.proxyShow=l),class:"vui-modal-image-edit",attach:"body","esc-to-close":!0,"focus-trap":!0,"confirm-button":e.$attrs["confirm-button"],onConfirm:o.confirmModal,onCancel:o.cancelModal},{title:fn(()=>[ds(Qe(e.t("vizy",e.$attrs["modal-title"])),1)]),default:fn(()=>[le("div",qJ,[le("img",{src:n.modelValue.src},null,8,GJ)]),le("div",JJ,[le("div",YJ,[le("div",XJ,[le("label",ZJ,Qe(e.t("vizy","Alt Text")),1)]),le("div",QJ,[Rn(le("input",{id:"alt","onUpdate:modelValue":t[0]||(t[0]=l=>n.modelValue.alt=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[qr,n.modelValue.alt]])])]),le("div",eY,[le("div",tY,[le("label",nY,Qe(e.t("vizy","Title")),1)]),le("div",rY,[Rn(le("input",{id:"title","onUpdate:modelValue":t[1]||(t[1]=l=>n.modelValue.title=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[qr,n.modelValue.title]])])]),le("div",iY,[le("div",oY,[le("label",sY,Qe(e.t("vizy","URL")),1)]),le("div",aY,[Rn(le("input",{id:"url","onUpdate:modelValue":t[2]||(t[2]=l=>n.modelValue.url=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[qr,n.modelValue.url]])])]),le("div",lY,[le("div",uY,[Rn(le("input",{id:i.targetId,"onUpdate:modelValue":t[3]||(t[3]=l=>n.modelValue.target=l),type:"checkbox",class:"checkbox"},null,8,fY),[[hd,n.modelValue.target]]),le("label",{for:i.targetId},Qe(e.t("vizy","Open link in new tab")),9,cY)])]),le("div",dY,[le("div",hY,[le("label",pY,Qe(e.t("vizy","Transform")),1)]),le("div",gY,[le("div",mY,[Rn(le("select",{id:"transform","onUpdate:modelValue":t[4]||(t[4]=l=>n.modelValue.transform=l)},[le("option",vY,Qe(e.t("vizy","No Transform")),1),(xe(!0),Ie(Tt,null,Dn(o.transforms,(l,f)=>(xe(),Ie("option",{key:f,value:l.handle},Qe(l.name),9,yY))),128))],512),[[kb,n.modelValue.transform]])])])])])]),_:1},8,["modelValue","confirm-button","onConfirm","onCancel"])}var KM=_n(KJ,[["render",bY]]);const _Y=(e,t=!0)=>{if(!e)throw new Error('Invalid "node" parameter');const n=[];return e.descendants((r,i)=>{if(n.push({node:r,pos:i}),!t)return!1}),n},wY=(e,t,n)=>{if(e){if(!t)throw new Error('Invalid "predicate" parameter')}else throw new Error('Invalid "node" parameter');return _Y(e,n).filter(r=>t(r.node))},kY=(e,t,n)=>wY(e,r=>r.type===t,n);var xY={name:"followCursor",defaultValue:!1,fn(e){const{reference:t}=e;return{onMount(){const n=e.props.mouseEvent,r=n.target?t.contains(n.target):!0,{clientX:i,clientY:o}=n,a=t.getBoundingClientRect(),l=i-a.left,f=o-a.top;(r||!e.props.interactive)&&e.setProps({getReferenceClientRect(){const h=t.getBoundingClientRect(),p=h.left+l,m=h.top+f;return{width:0,height:0,top:m,right:p,bottom:m,left:p}}})}}}};const CY={name:"ImageMenuBubble",components:{ImageMenuModal:KM},props:{field:{type:Object,default:null},editor:{type:Object,default:null}},data(){return{tippy:null,showEditModal:!1,model:{id:null,src:null,alt:null,title:null,url:null,target:null,transform:null}}},watch:{editor:{immediate:!0,handler(e){e&&this.$nextTick(()=>{e.on("vui:image-clicked",this.renderBubble)})}}},methods:{renderBubble(e){const{view:t}=this.editor,n=this.editor.getAttributes("image");!N7(n)||(this.model=n,this.$el.style.display="block",this.destroyBubble(),this.tippy=gi(t.dom,{content:this.$el,trigger:"manual",showOnCreate:!0,allowHTML:!0,arrow:!0,interactive:!0,placement:"top",followCursor:"initial",plugins:[xY],theme:"vui-menu-bubble",mouseEvent:e,zIndex:1e3,appendTo:()=>document.body}))},destroyBubble(){this.tippy&&(this.tippy.destroy(),this.tippy=null)},edit(){this.showEditModal=!0,this.editor.chain().blur().run()},closeModal(){this.showEditModal=!1},imageEditor(){if(this.model.id){const e={allowSavingAsNew:!1,onSave:this.reloadImage.bind(this),allowDegreeFractions:Craft.isImagick};new Craft.AssetImageEditor(this.model.id,e),this.destroyBubble()}},reloadImage(){kY(this.editor.state.doc,this.editor.schema.nodes.image).forEach(t=>{if(!t.node.attrs.src)return;const n=t.node.attrs.src.match(/(.*)#asset:(\d+)(:transform:(.*))?/i);if(n&&n[2]==this.model.id)if(n[4]){const r={assetId:n[2],handle:n[4]};Craft.sendActionRequest("POST","assets/generate-transform",{params:r}).then(i=>{const o={src:`${i.data.url}?${new Date().getTime()}#asset:${n[2]}:transform:${n[4]}`};this.editor.view.dispatch(this.editor.state.tr.setNodeMarkup(t.pos,null,ve(ve({},t.node.attrs),o)))}).catch(({response:i})=>{alert("There was an error generating the transform URL.")})}else{const r={src:`${n[1]}?${new Date().getTime()}#asset:${n[2]}`};this.editor.view.dispatch(this.editor.state.tr.setNodeMarkup(t.pos,null,ve(ve({},t.node.attrs),r)))}})},unlink(){this.editor.chain().focus().deleteSelection().run(),this.destroyBubble()}}},SY={class:"vui-image-menu-bubble",style:{display:"none"}};function TY(e,t,n,r,i,o){const a=Ot("image-menu-modal");return xe(),Ie("div",SY,[le("a",{href:"#",onClick:t[0]||(t[0]=Dt((...l)=>o.imageEditor&&o.imageEditor(...l),["prevent"]))},Qe(e.t("vizy","Image Editor")),1),le("a",{href:"#",onClick:t[1]||(t[1]=Dt((...l)=>o.edit&&o.edit(...l),["prevent"]))},Qe(e.t("vizy","Edit")),1),le("a",{href:"#",onClick:t[2]||(t[2]=Dt((...l)=>o.unlink&&o.unlink(...l),["prevent"]))},Qe(e.t("vizy","Delete")),1),at(a,{modelValue:i.model,"onUpdate:modelValue":t[3]||(t[3]=l=>i.model=l),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Update","modal-title":"Edit Image",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}var EY=_n(CY,[["render",TY]]);const AY={name:"ImageMenuBarItem",components:{SvgIcon:f1,ImageMenuBubble:EY,ImageMenuModal:KM},props:{field:{type:Object,default:null},editor:{type:Object,default:null},icon:{type:String,default:null},svg:{type:String,default:null},name:{type:String,default:null},title:{type:String,default:null},action:{type:Function,default:()=>{}},isActive:{type:Function,default:()=>{}}},data(){return{showEditModal:!1,model:{}}},computed:{active(){return this.isActive&&this.isActive()},volumes(){return this.field.settings.volumes},transforms(){return this.field.settings.transforms},elementSiteId(){return this.field.settings.elementSiteId},defaultTransform(){return this.field.settings.defaultTransform},allowAllUploaders(){return this.field.settings.allowAllUploaders}},created(){this.resetModel()},methods:{_buildAssetUrl:(e,t,n)=>`${t}#asset:${e}:${n?`transform:${n}`:"url"}`,_isTransformUrl:e=>/(.*)(_[a-z0-9+].*\/)(.*)/.test(e),_getTransformUrl(e,t,n){const r={assetId:e,handle:t};Craft.sendActionRequest("POST","assets/generate-transform",{data:r}).then(i=>{n(i.data.url)}).catch(({response:i})=>{alert("There was an error generating the transform URL.")})},runAction(){const e={siteId:this.elementSiteId,kind:"image"};this.allowAllUploaders&&(e.uploaderId=null),this.assetSelectionModal=Craft.createElementSelectorModal("craft\\elements\\Asset",{storageKey:"VizyInput.ChooseImage",multiSelect:!0,sources:this.volumes,criteria:e,onSelect:function(t,n){if(t.length){const r={};t.length>1;const i=function(o,a){const l=o.pop(),f=this._isTransformUrl(l.url);f||this.defaultTransform.length==0?(r[`asset${l.id}`]={id:l.id,src:this._buildAssetUrl(l.id,l.url,f?n:this.defaultTransform),alt:l.label,title:l.label,transform:f?n:this.defaultTransform},o.length?i(o,a):a()):this._getTransformUrl(l.id,this.defaultTransform,h=>{r[`asset${l.id}`]={id:l.id,src:this._buildAssetUrl(l.id,h,this.defaultTransform),alt:l.label,title:l.label,transform:this.defaultTransform},o.length?i(o,a):a()})}.bind(this);i(t,()=>{Object.keys(r).forEach(o=>{this.model=ve(ve({},this.model),r[o]),this.showEditModal=!0})})}}.bind(this),transforms:this.transforms,closeOtherModals:!1})},resetModel(){this.model={id:null,src:null,alt:null,title:null,url:null,target:null,transform:this.defaultTransform}},closeModal(){this.showEditModal=!1},onMouseDown(e){e.preventDefault()}}};function OY(e,t,n,r,i,o){const a=Ot("svg-icon"),l=Ot("image-menu-bubble"),f=Ot("image-menu-modal"),h=Tg("tooltip");return xe(),Ie("div",null,[Rn((xe(),Ie("button",{class:Vt(["btn vui-toolbar-btn",{active:o.active}]),onClick:t[0]||(t[0]=Dt((...p)=>o.runAction&&o.runAction(...p),["prevent"])),onMousedown:t[1]||(t[1]=(...p)=>o.onMouseDown&&o.onMouseDown(...p))},[at(a,{content:{icon:n.icon,svg:n.svg}},null,8,["content"])],34)),[[h,{content:n.title,theme:"vui-tooltip"}]]),at(l,{editor:n.editor,field:n.field},null,8,["editor","field"]),at(f,{modelValue:i.model,"onUpdate:modelValue":t[2]||(t[2]=p=>i.model=p),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Insert","modal-title":"Insert Image",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}var DY=_n(AY,[["render",OY]]);const MY={components:{MenuBarItem:hJ,LinkMenuBarItem:UJ,ImageMenuBarItem:DY},props:{field:{type:Object,default:null},editor:{type:Object,default:null},buttons:{type:Array,default:()=>[]}},data(){return{allButtons:[{name:"bold",svg:"bold",title:Craft.t("vizy","Bold"),action:()=>this.editor.chain().focus().toggleBold().run(),isActive:()=>this.editor.isActive("bold")},{name:"italic",svg:"italic",title:Craft.t("vizy","Italic"),action:()=>this.editor.chain().focus().toggleItalic().run(),isActive:()=>this.editor.isActive("italic")},{name:"strikethrough",svg:"strikethrough",title:Craft.t("vizy","Strike"),action:()=>this.editor.chain().focus().toggleStrike().run(),isActive:()=>this.editor.isActive("strike")},{name:"subscript",svg:"subscript",title:Craft.t("vizy","Subscript"),action:()=>this.editor.chain().focus().toggleSubscript().run(),isActive:()=>this.editor.isActive("subscript")},{name:"superscript",svg:"superscript",title:Craft.t("vizy","Superscript"),action:()=>this.editor.chain().focus().toggleSuperscript().run(),isActive:()=>this.editor.isActive("superscript")},{name:"underline",svg:"underline",title:Craft.t("vizy","Underline"),action:()=>this.editor.chain().focus().toggleUnderline().run(),isActive:()=>this.editor.isActive("underline")},{name:"code",svg:"brackets-curly",title:Craft.t("vizy","Inline Code"),action:()=>this.editor.chain().focus().toggleCode().run(),isActive:()=>this.editor.isActive("code")},{name:"highlight",icon:"highlighter",title:Craft.t("vizy","Highlight"),action:()=>this.editor.chain().focus().toggleHighlight().run(),isActive:()=>this.editor.isActive("highlight")},{name:"paragraph",icon:"paragraph",title:Craft.t("vizy","Paragraph"),action:()=>this.editor.chain().focus().setParagraph().run()},{name:"unordered-list",svg:"list-ul",title:Craft.t("vizy","Bullet List"),action:()=>this.editor.chain().focus().toggleBulletList().run(),isActive:()=>this.editor.isActive("bulletList")},{name:"ordered-list",svg:"list-ol",title:Craft.t("vizy","Ordered List"),action:()=>this.editor.chain().focus().toggleOrderedList().run(),isActive:()=>this.editor.isActive("orderedList")},{name:"code-block",svg:"code",title:Craft.t("vizy","Code Block"),action:()=>this.editor.chain().focus().toggleCodeBlock().run(),isActive:()=>this.editor.isActive("codeBlock")},{name:"quote",icon:"quote-right",title:Craft.t("vizy","Blockquote"),action:()=>this.editor.chain().focus().toggleBlockquote().run(),isActive:()=>this.editor.isActive("blockquote")},{name:"hr",svg:"horizontal-rule",title:Craft.t("vizy","Horizontal Rule"),action:()=>this.editor.chain().focus().setHorizontalRule().run()},{name:"line-break",svg:"page-break",title:Craft.t("vizy","Line Break"),action:()=>this.editor.chain().focus().setHardBreak().run()},{name:"clear-format",svg:"remove-format",title:Craft.t("vizy","Clear Format"),action:()=>this.editor.chain().focus().clearNodes().unsetAllMarks().run()},{name:"undo",svg:"undo",title:Craft.t("vizy","Undo"),action:()=>this.editor.chain().focus().undo().run()},{name:"redo",svg:"redo",title:Craft.t("vizy","Redo"),action:()=>this.editor.chain().focus().redo().run()},{name:"align-left",icon:"align-left",title:Craft.t("vizy","Align Left"),action:()=>this.editor.chain().focus().setTextAlign("left").run()},{name:"align-center",icon:"align-center",title:Craft.t("vizy","Align Center"),action:()=>this.editor.chain().focus().setTextAlign("center").run()},{name:"align-right",icon:"align-right",title:Craft.t("vizy","Align Right"),action:()=>this.editor.chain().focus().setTextAlign("right").run()},{name:"align-justify",icon:"align-justify",title:Craft.t("vizy","Align Justify"),action:()=>this.editor.chain().focus().setTextAlign("justify").run()},{name:"formatting",icon:"paragraph",title:Craft.t("vizy","Formatting"),options:[{name:"paragraph",title:Craft.t("vizy","Paragraph")},{name:"code-block",title:Craft.t("vizy","Code Block"),action:()=>this.editor.chain().focus().toggleCodeBlock().run()},{name:"blockquote",title:Craft.t("vizy","Blockquote"),action:()=>this.editor.chain().focus().toggleBlockquote().run()},{name:"h1",title:Craft.t("vizy","Heading 1"),action:()=>this.editor.chain().focus().toggleHeading({level:1}).run()},{name:"h2",title:Craft.t("vizy","Heading 2"),action:()=>this.editor.chain().focus().toggleHeading({level:2}).run()},{name:"h3",title:Craft.t("vizy","Heading 3"),action:()=>this.editor.chain().focus().toggleHeading({level:3}).run()},{name:"h4",title:Craft.t("vizy","Heading 4"),action:()=>this.editor.chain().focus().toggleHeading({level:4}).run()},{name:"h5",title:Craft.t("vizy","Heading 5"),action:()=>this.editor.chain().focus().toggleHeading({level:5}).run()},{name:"h6",title:Craft.t("vizy","Heading 6"),action:()=>this.editor.chain().focus().toggleHeading({level:6}).run()}]},{name:"link",svg:"link",title:Craft.t("vizy","Link"),component:"LinkMenuBarItem",isActive:()=>this.editor.isActive("link")},{name:"image",icon:"image",title:Craft.t("vizy","Image"),component:"ImageMenuBarItem",isActive:()=>this.editor.isActive("image")},{name:"html",svg:"file-code",title:Craft.t("vizy","HTML"),action:()=>this.editor.emit("vui:code-editor-toggle")}]}},computed:{availableButtons(){const e=[];return this.buttons.forEach(t=>{const n=this.allButtons.find(r=>r.name===t);n&&(n.name==="formatting"&&(n.options=this.getEnabledOptions(n,this.field.getFormattingOptions())),e.push(n))}),e}},methods:{getEnabledOptions(e,t){const n=[];return t.forEach(r=>{const i=e.options.find(o=>o.name===r);i&&n.push(i)}),n}}},NY={class:"vui-editor-toolbar"};function LY(e,t,n,r,i,o){return xe(),Ie("div",NY,[(xe(!0),Ie(Tt,null,Dn(o.availableButtons,(a,l)=>(xe(),Wt(Xs(a.component||"MenuBarItem"),fi({key:l},a,{editor:n.editor,field:n.field}),null,16,["editor","field"]))),128))])}var PY=_n(MY,[["render",LY]]);const IY=function(e){let t=e.replace("/<(.*?)>/g","");t=t.replace(/['"‘’“”[]\(\){}:]/g,""),t=t.toLowerCase(),t=Craft.asciiString(t);const n=Craft.filterArray(t.split(/[^a-z0-9]+/));t="";for(let r=0;r<n.length;r++)r===0?t+=n[r]:t+=n[r].charAt(0).toUpperCase()+n[r].substr(1);return t},qM=function(e,t,n){let r=t;return n&&(r=t+n),e.includes(r)?qM(e,t,n+1):r},Hy=function(e=""){return e+Craft.randomString(10)};class FY{constructor({options:t,editorView:n}){this.options=ve({element:null,onUpdate:()=>!1},t),this.preventHide=!1,this.editorView=n,this.isActive=!1,this.top=0,this.options.element.addEventListener("mousedown",this.mousedownHandler.bind(this),{capture:!0}),this.options.editor.on("focus",this.focusHandler.bind(this)),this.options.editor.on("blur",this.blurHandler.bind(this)),this.options.editor.on("resize",this.resizeHandler.bind(this))}mousedownHandler(){this.preventHide=!0}focusHandler(){this.update(this.options.editor.view)}blurHandler(t){if(this.preventHide){this.preventHide=!1;return}this.hide(t)}resizeHandler(){this.isActive&&this.update(this.options.editor.view)}isNodeEmpty(t){return!t.toJSON().content}update(t,n){const{state:r,composing:i}=t,{doc:o,selection:a}=r,l=n&&n.doc.eq(o)&&n.selection.eq(a);if(i||l)return;const{$anchor:f,anchor:h,empty:p}=a,m=this.options.element.offsetParent,v=f.depth===1,b=f.parent.type===r.doc.type.contentMatch.defaultType,_=this.isNodeEmpty(a.$anchor.parent);if(!p||!m||!(v&&b&&_)){this.hide();return}setTimeout(()=>{const C=m.getBoundingClientRect(),S=t.coordsAtPos(h).top-C.top;this.isActive=!0,this.top=S,this.sendUpdate()},10)}sendUpdate(){this.options.onUpdate({isActive:this.isActive,top:this.top})}hide(t){t&&t.relatedTarget&&this.options.element.parentNode&&this.options.element.parentNode.contains(t.relatedTarget)||(this.isActive=!1,this.sendUpdate())}destroy(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("focus",this.focusHandler),this.options.editor.off("blur",this.blurHandler),this.options.editor.off("resize",this.resizeHandler)}}function RY(e){return new bn({key:new Gn("floatingMenu"),view(t){return new FY({editorView:t,options:e})}})}const BY={props:{editor:{type:Object,default:null}},emits:["show","hide"],data(){return{menu:{isActive:!1,left:0,bottom:0}}},computed:{variables(){return{focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getAttributes.bind(this.editor),getNodeAttrs:this.editor.getAttributes.bind(this.editor),menu:this.menu}}},watch:{editor:{immediate:!0,handler(e){e&&this.$nextTick(()=>{e.registerPlugin(RY({editor:e,element:this.$el,onUpdate:t=>{t.isActive&&this.menu.isActive===!1?this.$emit("show",t):!t.isActive&&this.menu.isActive===!0&&this.$emit("hide",t),this.menu=t}}))})}}},beforeUnmount(){},render(){return this.editor?Xn("div",null,this.$slots.default({focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getAttributes.bind(this.editor),getNodeAttrs:this.editor.getAttributes.bind(this.editor),menu:this.menu})):null}},zY={name:"BlockPicker",components:{FloatingMenu:BY},props:{field:{type:Object,default:null},editor:{type:Object,default:null},blockGroups:{type:Array,default:()=>[]}},data(){return{tippy:null,search:""}},computed:{filteredBlockGroups(){return this.blockGroups.reduce((e,t)=>{const n=t.blockTypes.filter(r=>r.name.toLowerCase().includes(this.search.toLowerCase()));return n.length?e.concat(Xt(ve({},t),{blockTypes:n})):e},[])}},mounted(){const e=this.$el.querySelector("#vizy-blocks-template");e&&(e.style.display="block",this.tippy=gi(this.$el.querySelector(".vui-editor-insert-btn"),{content:e,trigger:"click",allowHTML:!0,arrow:!0,interactive:!0,placement:"right",theme:"light-border",maxWidth:"300px",zIndex:10,hideOnClick:!0}))},methods:{addBlock(e){const t=Hy("vizy-block-"),n={type:e.id},{fieldsHtml:r,footHtml:i}=e;this.field.setCachedFieldHtml(t,r),this.field.setCachedFieldJs(t,i),this.editor.chain().focus().setVizyBlock({id:t,values:n}).run(),setTimeout(()=>{this.$events.emit("vizy-blocks:addedBlock")},50),this.tippy.hide()}}},$Y=le("button",{type:"button","aria-label":"Add block","aria-haspopup":"true","aria-expanded":"false",class:"vui-editor-insert-btn"},[le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},[le("path",{fill:"currentColor",d:"M368 224H224V80c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v144H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h144v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V288h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"})])],-1),HY={id:"vizy-blocks-template",style:{display:"none"}},jY={key:0},VY=le("hr",null,null,-1),WY={class:"vui-block-items-header"},UY={class:"vui-block-items"},KY=["onClick"],qY=["innerHTML"],GY={class:"vui-block-item-heading"},JY={key:1,class:"vui-block-items-none"},YY=le("hr",null,null,-1);function XY(e,t,n,r,i,o){const a=Ot("floating-menu");return Rn((xe(),Wt(a,{ref:"menu",editor:n.editor},{default:fn(({menu:l})=>[le("div",{class:Vt(["vui-editor-insert",{"is-active":l.isActive}]),style:Si(`top: ${l.top}px`)},[$Y,le("div",HY,[le("div",null,[Rn(le("input",{"onUpdate:modelValue":t[0]||(t[0]=f=>i.search=f),type:"text",class:"text fullwidth",placeholder:"Search for blocks"},null,512),[[qr,i.search]])]),o.filteredBlockGroups.length?(xe(),Ie("div",jY,[(xe(!0),Ie(Tt,null,Dn(o.filteredBlockGroups,(f,h)=>(xe(),Ie("div",{key:h,class:"vui-block-group"},[VY,le("div",WY,Qe(f.name),1),le("div",UY,[(xe(!0),Ie(Tt,null,Dn(f.blockTypes,(p,m)=>(xe(),Ie("div",{key:m,class:"vui-block-item",onClick:v=>o.addBlock(p)},[le("div",{innerHTML:p.icon.svg},null,8,qY),le("span",GY,Qe(p.name),1)],8,KY))),128))])]))),128))])):(xe(),Ie("div",JY,[YY,ds(" "+Qe(e.t("vizy","No blocks found for \u201C{search}\u201D.",{search:i.search})),1)]))])],6)]),_:1},8,["editor"])),[[$c,n.blockGroups.length]])}var ZY=_n(zY,[["render",XY]]),QY=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Er={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(QY,function(){var n=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(n),o=/MSIE \d/.test(n),a=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),l=/Edge\/(\d+)/.exec(n),f=o||a||l,h=f&&(o?document.documentMode||6:+(l||a)[1]),p=!l&&/WebKit\//.test(n),m=p&&/Qt\/\d+\.\d+/.test(n),v=!l&&/Chrome\//.test(n),b=/Opera\//.test(n),_=/Apple Computer/.test(navigator.vendor),k=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),C=/PhantomJS/.test(n),E=_&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),S=/Android/.test(n),F=E||S||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),O=E||/Mac/.test(r),K=/\bCrOS\b/.test(n),j=/win/i.test(r),U=b&&n.match(/Version\/(\d*\.\d*)/);U&&(U=Number(U[1])),U&&U>=15&&(b=!1,p=!0);var q=O&&(m||b&&(U==null||U<12.11)),B=i||f&&h>=9;function R(s){return new RegExp("(^|\\s)"+s+"(?:$|\\s)\\s*")}var V=function(s,u){var d=s.className,c=R(u).exec(d);if(c){var g=d.slice(c.index+c[0].length);s.className=d.slice(0,c.index)+(g?c[1]+g:"")}};function Z(s){for(var u=s.childNodes.length;u>0;--u)s.removeChild(s.firstChild);return s}function W(s,u){return Z(s).appendChild(u)}function ie(s,u,d,c){var g=document.createElement(s);if(d&&(g.className=d),c&&(g.style.cssText=c),typeof u=="string")g.appendChild(document.createTextNode(u));else if(u)for(var y=0;y<u.length;++y)g.appendChild(u[y]);return g}function L(s,u,d,c){var g=ie(s,u,d,c);return g.setAttribute("role","presentation"),g}var ce;document.createRange?ce=function(s,u,d,c){var g=document.createRange();return g.setEnd(c||s,d),g.setStart(s,u),g}:ce=function(s,u,d){var c=document.body.createTextRange();try{c.moveToElementText(s.parentNode)}catch{return c}return c.collapse(!0),c.moveEnd("character",d),c.moveStart("character",u),c};function pe(s,u){if(u.nodeType==3&&(u=u.parentNode),s.contains)return s.contains(u);do if(u.nodeType==11&&(u=u.host),u==s)return!0;while(u=u.parentNode)}function Te(){var s;try{s=document.activeElement}catch{s=document.body||null}for(;s&&s.shadowRoot&&s.shadowRoot.activeElement;)s=s.shadowRoot.activeElement;return s}function We(s,u){var d=s.className;R(u).test(d)||(s.className+=(d?" ":"")+u)}function nt(s,u){for(var d=s.split(" "),c=0;c<d.length;c++)d[c]&&!R(d[c]).test(u)&&(u+=" "+d[c]);return u}var bt=function(s){s.select()};E?bt=function(s){s.selectionStart=0,s.selectionEnd=s.value.length}:f&&(bt=function(s){try{s.select()}catch{}});function Mt(s){var u=Array.prototype.slice.call(arguments,1);return function(){return s.apply(null,u)}}function pt(s,u,d){u||(u={});for(var c in s)s.hasOwnProperty(c)&&(d!==!1||!u.hasOwnProperty(c))&&(u[c]=s[c]);return u}function st(s,u,d,c,g){u==null&&(u=s.search(/[^\s\u00a0]/),u==-1&&(u=s.length));for(var y=c||0,w=g||0;;){var x=s.indexOf("	",y);if(x<0||x>=u)return w+(u-y);w+=x-y,w+=d-w%d,y=x+1}}var Ye=function(){this.id=null,this.f=null,this.time=0,this.handler=Mt(this.onTimeout,this)};Ye.prototype.onTimeout=function(s){s.id=0,s.time<=+new Date?s.f():setTimeout(s.handler,s.time-+new Date)},Ye.prototype.set=function(s,u){this.f=u;var d=+new Date+s;(!this.id||d<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,s),this.time=d)};function Re(s,u){for(var d=0;d<s.length;++d)if(s[d]==u)return d;return-1}var Ce=50,_e={toString:function(){return"CodeMirror.Pass"}},je={scroll:!1},qe={origin:"*mouse"},Ve={origin:"+move"};function gt(s,u,d){for(var c=0,g=0;;){var y=s.indexOf("	",c);y==-1&&(y=s.length);var w=y-c;if(y==s.length||g+w>=u)return c+Math.min(w,u-g);if(g+=y-c,g+=d-g%d,c=y+1,g>=u)return c}}var ee=[""];function re(s){for(;ee.length<=s;)ee.push(fe(ee)+" ");return ee[s]}function fe(s){return s[s.length-1]}function ge(s,u){for(var d=[],c=0;c<s.length;c++)d[c]=u(s[c],c);return d}function ye(s,u,d){for(var c=0,g=d(u);c<s.length&&d(s[c])<=g;)c++;s.splice(c,0,u)}function H(){}function X(s,u){var d;return Object.create?d=Object.create(s):(H.prototype=s,d=new H),u&&pt(u,d),d}var A=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function I(s){return/\w/.test(s)||s>"\x80"&&(s.toUpperCase()!=s.toLowerCase()||A.test(s))}function D(s,u){return u?u.source.indexOf("\\w")>-1&&I(s)?!0:u.test(s):I(s)}function z(s){for(var u in s)if(s.hasOwnProperty(u)&&s[u])return!1;return!0}var P=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Q(s){return s.charCodeAt(0)>=768&&P.test(s)}function ae(s,u,d){for(;(d<0?u>0:u<s.length)&&Q(s.charAt(u));)u+=d;return u}function de(s,u,d){for(var c=u>d?-1:1;;){if(u==d)return u;var g=(u+d)/2,y=c<0?Math.ceil(g):Math.floor(g);if(y==u)return s(y)?u:d;s(y)?d=y:u=y+c}}function me(s,u,d,c){if(!s)return c(u,d,"ltr",0);for(var g=!1,y=0;y<s.length;++y){var w=s[y];(w.from<d&&w.to>u||u==d&&w.to==u)&&(c(Math.max(w.from,u),Math.min(w.to,d),w.level==1?"rtl":"ltr",y),g=!0)}g||c(u,d,"ltr")}var J=null;function Y(s,u,d){var c;J=null;for(var g=0;g<s.length;++g){var y=s[g];if(y.from<u&&y.to>u)return g;y.to==u&&(y.from!=y.to&&d=="before"?c=g:J=g),y.from==u&&(y.from!=y.to&&d!="before"?c=g:J=g)}return c!=null?c:J}var he=function(){var s="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",u="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function d(M){return M<=247?s.charAt(M):1424<=M&&M<=1524?"R":1536<=M&&M<=1785?u.charAt(M-1536):1774<=M&&M<=2220?"r":8192<=M&&M<=8203?"w":M==8204?"b":"L"}var c=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,g=/[stwN]/,y=/[LRr]/,w=/[Lb1n]/,x=/[1n]/;function T(M,G,te){this.level=M,this.from=G,this.to=te}return function(M,G){var te=G=="ltr"?"L":"R";if(M.length==0||G=="ltr"&&!c.test(M))return!1;for(var ue=M.length,se=[],be=0;be<ue;++be)se.push(d(M.charCodeAt(be)));for(var Ee=0,Pe=te;Ee<ue;++Ee){var Be=se[Ee];Be=="m"?se[Ee]=Pe:Pe=Be}for(var He=0,ze=te;He<ue;++He){var Ge=se[He];Ge=="1"&&ze=="r"?se[He]="n":y.test(Ge)&&(ze=Ge,Ge=="r"&&(se[He]="R"))}for(var ot=1,rt=se[0];ot<ue-1;++ot){var _t=se[ot];_t=="+"&&rt=="1"&&se[ot+1]=="1"?se[ot]="1":_t==","&&rt==se[ot+1]&&(rt=="1"||rt=="n")&&(se[ot]=rt),rt=_t}for(var Qt=0;Qt<ue;++Qt){var Vn=se[Qt];if(Vn==",")se[Qt]="N";else if(Vn=="%"){var dn=void 0;for(dn=Qt+1;dn<ue&&se[dn]=="%";++dn);for(var Vr=Qt&&se[Qt-1]=="!"||dn<ue&&se[dn]=="1"?"1":"N",Nr=Qt;Nr<dn;++Nr)se[Nr]=Vr;Qt=dn-1}}for(var En=0,Lr=te;En<ue;++En){var Jn=se[En];Lr=="L"&&Jn=="1"?se[En]="L":y.test(Jn)&&(Lr=Jn)}for(var Pn=0;Pn<ue;++Pn)if(g.test(se[Pn])){var An=void 0;for(An=Pn+1;An<ue&&g.test(se[An]);++An);for(var mn=(Pn?se[Pn-1]:te)=="L",Pr=(An<ue?se[An]:te)=="L",Jl=mn==Pr?mn?"L":"R":te,Os=Pn;Os<An;++Os)se[Os]=Jl;Pn=An-1}for(var rr=[],uo,Wn=0;Wn<ue;)if(w.test(se[Wn])){var pv=Wn;for(++Wn;Wn<ue&&w.test(se[Wn]);++Wn);rr.push(new T(0,pv,Wn))}else{var Bo=Wn,Da=rr.length,Ma=G=="rtl"?1:0;for(++Wn;Wn<ue&&se[Wn]!="L";++Wn);for(var pr=Bo;pr<Wn;)if(x.test(se[pr])){Bo<pr&&(rr.splice(Da,0,new T(1,Bo,pr)),Da+=Ma);var Yl=pr;for(++pr;pr<Wn&&x.test(se[pr]);++pr);rr.splice(Da,0,new T(2,Yl,pr)),Da+=Ma,Bo=pr}else++pr;Bo<Wn&&rr.splice(Da,0,new T(1,Bo,Wn))}return G=="ltr"&&(rr[0].level==1&&(uo=M.match(/^\s+/))&&(rr[0].from=uo[0].length,rr.unshift(new T(0,0,uo[0].length))),fe(rr).level==1&&(uo=M.match(/\s+$/))&&(fe(rr).to-=uo[0].length,rr.push(new T(0,ue-uo[0].length,ue)))),G=="rtl"?rr.reverse():rr}}();function Le(s,u){var d=s.order;return d==null&&(d=s.order=he(s.text,u)),d}var it=[],oe=function(s,u,d){if(s.addEventListener)s.addEventListener(u,d,!1);else if(s.attachEvent)s.attachEvent("on"+u,d);else{var c=s._handlers||(s._handlers={});c[u]=(c[u]||it).concat(d)}};function Fe(s,u){return s._handlers&&s._handlers[u]||it}function De(s,u,d){if(s.removeEventListener)s.removeEventListener(u,d,!1);else if(s.detachEvent)s.detachEvent("on"+u,d);else{var c=s._handlers,g=c&&c[u];if(g){var y=Re(g,d);y>-1&&(c[u]=g.slice(0,y).concat(g.slice(y+1)))}}}function we(s,u){var d=Fe(s,u);if(!!d.length)for(var c=Array.prototype.slice.call(arguments,2),g=0;g<d.length;++g)d[g].apply(null,c)}function Ue(s,u,d){return typeof u=="string"&&(u={type:u,preventDefault:function(){this.defaultPrevented=!0}}),we(s,d||u.type,s,u),on(u)||u.codemirrorIgnore}function Yt(s){var u=s._handlers&&s._handlers.cursorActivity;if(!!u)for(var d=s.curOp.cursorActivityHandlers||(s.curOp.cursorActivityHandlers=[]),c=0;c<u.length;++c)Re(d,u[c])==-1&&d.push(u[c])}function ct(s,u){return Fe(s,u).length>0}function Bt(s){s.prototype.on=function(u,d){oe(this,u,d)},s.prototype.off=function(u,d){De(this,u,d)}}function zt(s){s.preventDefault?s.preventDefault():s.returnValue=!1}function nn(s){s.stopPropagation?s.stopPropagation():s.cancelBubble=!0}function on(s){return s.defaultPrevented!=null?s.defaultPrevented:s.returnValue==!1}function Sn(s){zt(s),nn(s)}function Tn(s){return s.target||s.srcElement}function Or(s){var u=s.which;return u==null&&(s.button&1?u=1:s.button&2?u=3:s.button&4&&(u=2)),O&&s.ctrlKey&&u==1&&(u=3),u}var Qr=function(){if(f&&h<9)return!1;var s=ie("div");return"draggable"in s||"dragDrop"in s}(),wn;function _a(s){if(wn==null){var u=ie("span","\u200B");W(s,ie("span",[u,document.createTextNode("x")])),s.firstChild.offsetHeight!=0&&(wn=u.offsetWidth<=1&&u.offsetHeight>2&&!(f&&h<8))}var d=wn?ie("span","\u200B"):ie("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return d.setAttribute("cm-text",""),d}var nf;function ro(s){if(nf!=null)return nf;var u=W(s,document.createTextNode("A\u062EA")),d=ce(u,0,1).getBoundingClientRect(),c=ce(u,1,2).getBoundingClientRect();return Z(s),!d||d.left==d.right?!1:nf=c.right-d.right<3}var rf=`

b`.split(/\n/).length!=3?function(s){for(var u=0,d=[],c=s.length;u<=c;){var g=s.indexOf(`
`,u);g==-1&&(g=s.length);var y=s.slice(u,s.charAt(g-1)=="\r"?g-1:g),w=y.indexOf("\r");w!=-1?(d.push(y.slice(0,w)),u+=w+1):(d.push(y),u=g+1)}return d}:function(s){return s.split(/\r\n?|\n/)},Dd=window.getSelection?function(s){try{return s.selectionStart!=s.selectionEnd}catch{return!1}}:function(s){var u;try{u=s.ownerDocument.selection.createRange()}catch{}return!u||u.parentElement()!=s?!1:u.compareEndPoints("StartToEnd",u)!=0},Md=function(){var s=ie("div");return"oncopy"in s?!0:(s.setAttribute("oncopy","return;"),typeof s.oncopy=="function")}(),of=null;function _s(s){if(of!=null)return of;var u=W(s,ie("span","x")),d=u.getBoundingClientRect(),c=ce(u,0,1).getBoundingClientRect();return of=Math.abs(d.left-c.left)>1}var vi={},ei={};function Nd(s,u){arguments.length>2&&(u.dependencies=Array.prototype.slice.call(arguments,2)),vi[s]=u}function No(s,u){ei[s]=u}function Ol(s){if(typeof s=="string"&&ei.hasOwnProperty(s))s=ei[s];else if(s&&typeof s.name=="string"&&ei.hasOwnProperty(s.name)){var u=ei[s.name];typeof u=="string"&&(u={name:u}),s=X(u,s),s.name=u.name}else{if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(s))return Ol("application/xml");if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(s))return Ol("application/json")}return typeof s=="string"?{name:s}:s||{name:"null"}}function Dl(s,u){u=Ol(u);var d=vi[u.name];if(!d)return Dl(s,"text/plain");var c=d(s,u);if(Ri.hasOwnProperty(u.name)){var g=Ri[u.name];for(var y in g)!g.hasOwnProperty(y)||(c.hasOwnProperty(y)&&(c["_"+y]=c[y]),c[y]=g[y])}if(c.name=u.name,u.helperType&&(c.helperType=u.helperType),u.modeProps)for(var w in u.modeProps)c[w]=u.modeProps[w];return c}var Ri={};function Bi(s,u){var d=Ri.hasOwnProperty(s)?Ri[s]:Ri[s]={};pt(u,d)}function ti(s,u){if(u===!0)return u;if(s.copyState)return s.copyState(u);var d={};for(var c in u){var g=u[c];g instanceof Array&&(g=g.concat([])),d[c]=g}return d}function sf(s,u){for(var d;s.innerMode&&(d=s.innerMode(u),!(!d||d.mode==s));)u=d.state,s=d.mode;return d||{mode:s,state:u}}function af(s,u,d){return s.startState?s.startState(u,d):!0}var gn=function(s,u,d){this.pos=this.start=0,this.string=s,this.tabSize=u||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=d};gn.prototype.eol=function(){return this.pos>=this.string.length},gn.prototype.sol=function(){return this.pos==this.lineStart},gn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},gn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},gn.prototype.eat=function(s){var u=this.string.charAt(this.pos),d;if(typeof s=="string"?d=u==s:d=u&&(s.test?s.test(u):s(u)),d)return++this.pos,u},gn.prototype.eatWhile=function(s){for(var u=this.pos;this.eat(s););return this.pos>u},gn.prototype.eatSpace=function(){for(var s=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>s},gn.prototype.skipToEnd=function(){this.pos=this.string.length},gn.prototype.skipTo=function(s){var u=this.string.indexOf(s,this.pos);if(u>-1)return this.pos=u,!0},gn.prototype.backUp=function(s){this.pos-=s},gn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=st(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?st(this.string,this.lineStart,this.tabSize):0)},gn.prototype.indentation=function(){return st(this.string,null,this.tabSize)-(this.lineStart?st(this.string,this.lineStart,this.tabSize):0)},gn.prototype.match=function(s,u,d){if(typeof s=="string"){var c=function(w){return d?w.toLowerCase():w},g=this.string.substr(this.pos,s.length);if(c(g)==c(s))return u!==!1&&(this.pos+=s.length),!0}else{var y=this.string.slice(this.pos).match(s);return y&&y.index>0?null:(y&&u!==!1&&(this.pos+=y[0].length),y)}},gn.prototype.current=function(){return this.string.slice(this.start,this.pos)},gn.prototype.hideFirstChars=function(s,u){this.lineStart+=s;try{return u()}finally{this.lineStart-=s}},gn.prototype.lookAhead=function(s){var u=this.lineOracle;return u&&u.lookAhead(s)},gn.prototype.baseToken=function(){var s=this.lineOracle;return s&&s.baseToken(this.pos)};function Ze(s,u){if(u-=s.first,u<0||u>=s.size)throw new Error("There is no line "+(u+s.first)+" in the document.");for(var d=s;!d.lines;)for(var c=0;;++c){var g=d.children[c],y=g.chunkSize();if(u<y){d=g;break}u-=y}return d.lines[u]}function io(s,u,d){var c=[],g=u.line;return s.iter(u.line,d.line+1,function(y){var w=y.text;g==d.line&&(w=w.slice(0,d.ch)),g==u.line&&(w=w.slice(u.ch)),c.push(w),++g}),c}function lf(s,u,d){var c=[];return s.iter(u,d,function(g){c.push(g.text)}),c}function Hr(s,u){var d=u-s.height;if(d)for(var c=s;c;c=c.parent)c.height+=d}function $t(s){if(s.parent==null)return null;for(var u=s.parent,d=Re(u.lines,s),c=u.parent;c;u=c,c=c.parent)for(var g=0;c.children[g]!=u;++g)d+=c.children[g].chunkSize();return d+u.first}function oo(s,u){var d=s.first;e:do{for(var c=0;c<s.children.length;++c){var g=s.children[c],y=g.height;if(u<y){s=g;continue e}u-=y,d+=g.chunkSize()}return d}while(!s.lines);for(var w=0;w<s.lines.length;++w){var x=s.lines[w],T=x.height;if(u<T)break;u-=T}return d+w}function wa(s,u){return u>=s.first&&u<s.first+s.size}function uf(s,u){return String(s.lineNumberFormatter(u+s.firstLineNumber))}function Oe(s,u,d){if(d===void 0&&(d=null),!(this instanceof Oe))return new Oe(s,u,d);this.line=s,this.ch=u,this.sticky=d}function N(s,u){return s.line-u.line||s.ch-u.ch}function ne(s,u){return s.sticky==u.sticky&&N(s,u)==0}function ke(s){return Oe(s.line,s.ch)}function Me(s,u){return N(s,u)<0?u:s}function ft(s,u){return N(s,u)<0?s:u}function Nt(s,u){return Math.max(s.first,Math.min(u,s.first+s.size-1))}function Ke(s,u){if(u.line<s.first)return Oe(s.first,0);var d=s.first+s.size-1;return u.line>d?Oe(d,Ze(s,d).text.length):tr(u,Ze(s,u.line).text.length)}function tr(s,u){var d=s.ch;return d==null||d>u?Oe(s.line,u):d<0?Oe(s.line,0):s}function ni(s,u){for(var d=[],c=0;c<u.length;c++)d[c]=Ke(s,u[c]);return d}var Ml=function(s,u){this.state=s,this.lookAhead=u},so=function(s,u,d,c){this.state=u,this.doc=s,this.line=d,this.maxLookAhead=c||0,this.baseTokens=null,this.baseTokenPos=1};so.prototype.lookAhead=function(s){var u=this.doc.getLine(this.line+s);return u!=null&&s>this.maxLookAhead&&(this.maxLookAhead=s),u},so.prototype.baseToken=function(s){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=s;)this.baseTokenPos+=2;var u=this.baseTokens[this.baseTokenPos+1];return{type:u&&u.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-s}},so.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},so.fromSaved=function(s,u,d){return u instanceof Ml?new so(s,ti(s.mode,u.state),d,u.lookAhead):new so(s,ti(s.mode,u),d)},so.prototype.save=function(s){var u=s!==!1?ti(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Ml(u,this.maxLookAhead):u};function S1(s,u,d,c){var g=[s.state.modeGen],y={};M1(s,u.text,s.doc.mode,d,function(M,G){return g.push(M,G)},y,c);for(var w=d.state,x=function(M){d.baseTokens=g;var G=s.state.overlays[M],te=1,ue=0;d.state=!0,M1(s,u.text,G.mode,d,function(se,be){for(var Ee=te;ue<se;){var Pe=g[te];Pe>se&&g.splice(te,1,se,g[te+1],Pe),te+=2,ue=Math.min(se,Pe)}if(!!be)if(G.opaque)g.splice(Ee,te-Ee,se,"overlay "+be),te=Ee+2;else for(;Ee<te;Ee+=2){var Be=g[Ee+1];g[Ee+1]=(Be?Be+" ":"")+"overlay "+be}},y),d.state=w,d.baseTokens=null,d.baseTokenPos=1},T=0;T<s.state.overlays.length;++T)x(T);return{styles:g,classes:y.bgClass||y.textClass?y:null}}function T1(s,u,d){if(!u.styles||u.styles[0]!=s.state.modeGen){var c=ff(s,$t(u)),g=u.text.length>s.options.maxHighlightLength&&ti(s.doc.mode,c.state),y=S1(s,u,c);g&&(c.state=g),u.stateAfter=c.save(!g),u.styles=y.styles,y.classes?u.styleClasses=y.classes:u.styleClasses&&(u.styleClasses=null),d===s.doc.highlightFrontier&&(s.doc.modeFrontier=Math.max(s.doc.modeFrontier,++s.doc.highlightFrontier))}return u.styles}function ff(s,u,d){var c=s.doc,g=s.display;if(!c.mode.startState)return new so(c,!0,u);var y=C6(s,u,d),w=y>c.first&&Ze(c,y-1).stateAfter,x=w?so.fromSaved(c,w,y):new so(c,af(c.mode),y);return c.iter(y,u,function(T){Cm(s,T.text,x);var M=x.line;T.stateAfter=M==u-1||M%5==0||M>=g.viewFrom&&M<g.viewTo?x.save():null,x.nextLine()}),d&&(c.modeFrontier=x.line),x}function Cm(s,u,d,c){var g=s.doc.mode,y=new gn(u,s.options.tabSize,d);for(y.start=y.pos=c||0,u==""&&E1(g,d.state);!y.eol();)Sm(g,y,d.state),y.start=y.pos}function E1(s,u){if(s.blankLine)return s.blankLine(u);if(!!s.innerMode){var d=sf(s,u);if(d.mode.blankLine)return d.mode.blankLine(d.state)}}function Sm(s,u,d,c){for(var g=0;g<10;g++){c&&(c[0]=sf(s,d).mode);var y=s.token(u,d);if(u.pos>u.start)return y}throw new Error("Mode "+s.name+" failed to advance stream.")}var A1=function(s,u,d){this.start=s.start,this.end=s.pos,this.string=s.current(),this.type=u||null,this.state=d};function O1(s,u,d,c){var g=s.doc,y=g.mode,w;u=Ke(g,u);var x=Ze(g,u.line),T=ff(s,u.line,d),M=new gn(x.text,s.options.tabSize,T),G;for(c&&(G=[]);(c||M.pos<u.ch)&&!M.eol();)M.start=M.pos,w=Sm(y,M,T.state),c&&G.push(new A1(M,w,ti(g.mode,T.state)));return c?G:new A1(M,w,T.state)}function D1(s,u){if(s)for(;;){var d=s.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!d)break;s=s.slice(0,d.index)+s.slice(d.index+d[0].length);var c=d[1]?"bgClass":"textClass";u[c]==null?u[c]=d[2]:new RegExp("(?:^|\\s)"+d[2]+"(?:$|\\s)").test(u[c])||(u[c]+=" "+d[2])}return s}function M1(s,u,d,c,g,y,w){var x=d.flattenSpans;x==null&&(x=s.options.flattenSpans);var T=0,M=null,G=new gn(u,s.options.tabSize,c),te,ue=s.options.addModeClass&&[null];for(u==""&&D1(E1(d,c.state),y);!G.eol();){if(G.pos>s.options.maxHighlightLength?(x=!1,w&&Cm(s,u,c,G.pos),G.pos=u.length,te=null):te=D1(Sm(d,G,c.state,ue),y),ue){var se=ue[0].name;se&&(te="m-"+(te?se+" "+te:se))}if(!x||M!=te){for(;T<G.start;)T=Math.min(G.start,T+5e3),g(T,M);M=te}G.start=G.pos}for(;T<G.pos;){var be=Math.min(G.pos,T+5e3);g(be,M),T=be}}function C6(s,u,d){for(var c,g,y=s.doc,w=d?-1:u-(s.doc.mode.innerMode?1e3:100),x=u;x>w;--x){if(x<=y.first)return y.first;var T=Ze(y,x-1),M=T.stateAfter;if(M&&(!d||x+(M instanceof Ml?M.lookAhead:0)<=y.modeFrontier))return x;var G=st(T.text,null,s.options.tabSize);(g==null||c>G)&&(g=x-1,c=G)}return g}function S6(s,u){if(s.modeFrontier=Math.min(s.modeFrontier,u),!(s.highlightFrontier<u-10)){for(var d=s.first,c=u-1;c>d;c--){var g=Ze(s,c).stateAfter;if(g&&(!(g instanceof Ml)||c+g.lookAhead<u)){d=c+1;break}}s.highlightFrontier=Math.min(s.highlightFrontier,d)}}var N1=!1,Lo=!1;function T6(){N1=!0}function E6(){Lo=!0}function Ld(s,u,d){this.marker=s,this.from=u,this.to=d}function cf(s,u){if(s)for(var d=0;d<s.length;++d){var c=s[d];if(c.marker==u)return c}}function A6(s,u){for(var d,c=0;c<s.length;++c)s[c]!=u&&(d||(d=[])).push(s[c]);return d}function O6(s,u,d){var c=d&&window.WeakSet&&(d.markedSpans||(d.markedSpans=new WeakSet));c&&s.markedSpans&&c.has(s.markedSpans)?s.markedSpans.push(u):(s.markedSpans=s.markedSpans?s.markedSpans.concat([u]):[u],c&&c.add(s.markedSpans)),u.marker.attachLine(s)}function D6(s,u,d){var c;if(s)for(var g=0;g<s.length;++g){var y=s[g],w=y.marker,x=y.from==null||(w.inclusiveLeft?y.from<=u:y.from<u);if(x||y.from==u&&w.type=="bookmark"&&(!d||!y.marker.insertLeft)){var T=y.to==null||(w.inclusiveRight?y.to>=u:y.to>u);(c||(c=[])).push(new Ld(w,y.from,T?null:y.to))}}return c}function M6(s,u,d){var c;if(s)for(var g=0;g<s.length;++g){var y=s[g],w=y.marker,x=y.to==null||(w.inclusiveRight?y.to>=u:y.to>u);if(x||y.from==u&&w.type=="bookmark"&&(!d||y.marker.insertLeft)){var T=y.from==null||(w.inclusiveLeft?y.from<=u:y.from<u);(c||(c=[])).push(new Ld(w,T?null:y.from-u,y.to==null?null:y.to-u))}}return c}function Tm(s,u){if(u.full)return null;var d=wa(s,u.from.line)&&Ze(s,u.from.line).markedSpans,c=wa(s,u.to.line)&&Ze(s,u.to.line).markedSpans;if(!d&&!c)return null;var g=u.from.ch,y=u.to.ch,w=N(u.from,u.to)==0,x=D6(d,g,w),T=M6(c,y,w),M=u.text.length==1,G=fe(u.text).length+(M?g:0);if(x)for(var te=0;te<x.length;++te){var ue=x[te];if(ue.to==null){var se=cf(T,ue.marker);se?M&&(ue.to=se.to==null?null:se.to+G):ue.to=g}}if(T)for(var be=0;be<T.length;++be){var Ee=T[be];if(Ee.to!=null&&(Ee.to+=G),Ee.from==null){var Pe=cf(x,Ee.marker);Pe||(Ee.from=G,M&&(x||(x=[])).push(Ee))}else Ee.from+=G,M&&(x||(x=[])).push(Ee)}x&&(x=L1(x)),T&&T!=x&&(T=L1(T));var Be=[x];if(!M){var He=u.text.length-2,ze;if(He>0&&x)for(var Ge=0;Ge<x.length;++Ge)x[Ge].to==null&&(ze||(ze=[])).push(new Ld(x[Ge].marker,null,null));for(var ot=0;ot<He;++ot)Be.push(ze);Be.push(T)}return Be}function L1(s){for(var u=0;u<s.length;++u){var d=s[u];d.from!=null&&d.from==d.to&&d.marker.clearWhenEmpty!==!1&&s.splice(u--,1)}return s.length?s:null}function N6(s,u,d){var c=null;if(s.iter(u.line,d.line+1,function(se){if(se.markedSpans)for(var be=0;be<se.markedSpans.length;++be){var Ee=se.markedSpans[be].marker;Ee.readOnly&&(!c||Re(c,Ee)==-1)&&(c||(c=[])).push(Ee)}}),!c)return null;for(var g=[{from:u,to:d}],y=0;y<c.length;++y)for(var w=c[y],x=w.find(0),T=0;T<g.length;++T){var M=g[T];if(!(N(M.to,x.from)<0||N(M.from,x.to)>0)){var G=[T,1],te=N(M.from,x.from),ue=N(M.to,x.to);(te<0||!w.inclusiveLeft&&!te)&&G.push({from:M.from,to:x.from}),(ue>0||!w.inclusiveRight&&!ue)&&G.push({from:x.to,to:M.to}),g.splice.apply(g,G),T+=G.length-3}}return g}function P1(s){var u=s.markedSpans;if(!!u){for(var d=0;d<u.length;++d)u[d].marker.detachLine(s);s.markedSpans=null}}function I1(s,u){if(!!u){for(var d=0;d<u.length;++d)u[d].marker.attachLine(s);s.markedSpans=u}}function Pd(s){return s.inclusiveLeft?-1:0}function Id(s){return s.inclusiveRight?1:0}function Em(s,u){var d=s.lines.length-u.lines.length;if(d!=0)return d;var c=s.find(),g=u.find(),y=N(c.from,g.from)||Pd(s)-Pd(u);if(y)return-y;var w=N(c.to,g.to)||Id(s)-Id(u);return w||u.id-s.id}function F1(s,u){var d=Lo&&s.markedSpans,c;if(d)for(var g=void 0,y=0;y<d.length;++y)g=d[y],g.marker.collapsed&&(u?g.from:g.to)==null&&(!c||Em(c,g.marker)<0)&&(c=g.marker);return c}function R1(s){return F1(s,!0)}function Fd(s){return F1(s,!1)}function L6(s,u){var d=Lo&&s.markedSpans,c;if(d)for(var g=0;g<d.length;++g){var y=d[g];y.marker.collapsed&&(y.from==null||y.from<u)&&(y.to==null||y.to>u)&&(!c||Em(c,y.marker)<0)&&(c=y.marker)}return c}function B1(s,u,d,c,g){var y=Ze(s,u),w=Lo&&y.markedSpans;if(w)for(var x=0;x<w.length;++x){var T=w[x];if(!!T.marker.collapsed){var M=T.marker.find(0),G=N(M.from,d)||Pd(T.marker)-Pd(g),te=N(M.to,c)||Id(T.marker)-Id(g);if(!(G>=0&&te<=0||G<=0&&te>=0)&&(G<=0&&(T.marker.inclusiveRight&&g.inclusiveLeft?N(M.to,d)>=0:N(M.to,d)>0)||G>=0&&(T.marker.inclusiveRight&&g.inclusiveLeft?N(M.from,c)<=0:N(M.from,c)<0)))return!0}}}function zi(s){for(var u;u=R1(s);)s=u.find(-1,!0).line;return s}function P6(s){for(var u;u=Fd(s);)s=u.find(1,!0).line;return s}function I6(s){for(var u,d;u=Fd(s);)s=u.find(1,!0).line,(d||(d=[])).push(s);return d}function Am(s,u){var d=Ze(s,u),c=zi(d);return d==c?u:$t(c)}function z1(s,u){if(u>s.lastLine())return u;var d=Ze(s,u),c;if(!ws(s,d))return u;for(;c=Fd(d);)d=c.find(1,!0).line;return $t(d)+1}function ws(s,u){var d=Lo&&u.markedSpans;if(d){for(var c=void 0,g=0;g<d.length;++g)if(c=d[g],!!c.marker.collapsed){if(c.from==null)return!0;if(!c.marker.widgetNode&&c.from==0&&c.marker.inclusiveLeft&&Om(s,u,c))return!0}}}function Om(s,u,d){if(d.to==null){var c=d.marker.find(1,!0);return Om(s,c.line,cf(c.line.markedSpans,d.marker))}if(d.marker.inclusiveRight&&d.to==u.text.length)return!0;for(var g=void 0,y=0;y<u.markedSpans.length;++y)if(g=u.markedSpans[y],g.marker.collapsed&&!g.marker.widgetNode&&g.from==d.to&&(g.to==null||g.to!=d.from)&&(g.marker.inclusiveLeft||d.marker.inclusiveRight)&&Om(s,u,g))return!0}function Po(s){s=zi(s);for(var u=0,d=s.parent,c=0;c<d.lines.length;++c){var g=d.lines[c];if(g==s)break;u+=g.height}for(var y=d.parent;y;d=y,y=d.parent)for(var w=0;w<y.children.length;++w){var x=y.children[w];if(x==d)break;u+=x.height}return u}function Rd(s){if(s.height==0)return 0;for(var u=s.text.length,d,c=s;d=R1(c);){var g=d.find(0,!0);c=g.from.line,u+=g.from.ch-g.to.ch}for(c=s;d=Fd(c);){var y=d.find(0,!0);u-=c.text.length-y.from.ch,c=y.to.line,u+=c.text.length-y.to.ch}return u}function Dm(s){var u=s.display,d=s.doc;u.maxLine=Ze(d,d.first),u.maxLineLength=Rd(u.maxLine),u.maxLineChanged=!0,d.iter(function(c){var g=Rd(c);g>u.maxLineLength&&(u.maxLineLength=g,u.maxLine=c)})}var Nl=function(s,u,d){this.text=s,I1(this,u),this.height=d?d(this):1};Nl.prototype.lineNo=function(){return $t(this)},Bt(Nl);function F6(s,u,d,c){s.text=u,s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null),s.order!=null&&(s.order=null),P1(s),I1(s,d);var g=c?c(s):1;g!=s.height&&Hr(s,g)}function R6(s){s.parent=null,P1(s)}var B6={},z6={};function $1(s,u){if(!s||/^\s*$/.test(s))return null;var d=u.addModeClass?z6:B6;return d[s]||(d[s]=s.replace(/\S+/g,"cm-$&"))}function H1(s,u){var d=L("span",null,null,p?"padding-right: .1px":null),c={pre:L("pre",[d],"CodeMirror-line"),content:d,col:0,pos:0,cm:s,trailingSpace:!1,splitSpaces:s.getOption("lineWrapping")};u.measure={};for(var g=0;g<=(u.rest?u.rest.length:0);g++){var y=g?u.rest[g-1]:u.line,w=void 0;c.pos=0,c.addToken=H6,ro(s.display.measure)&&(w=Le(y,s.doc.direction))&&(c.addToken=V6(c.addToken,w)),c.map=[];var x=u!=s.display.externalMeasured&&$t(y);W6(y,c,T1(s,y,x)),y.styleClasses&&(y.styleClasses.bgClass&&(c.bgClass=nt(y.styleClasses.bgClass,c.bgClass||"")),y.styleClasses.textClass&&(c.textClass=nt(y.styleClasses.textClass,c.textClass||""))),c.map.length==0&&c.map.push(0,0,c.content.appendChild(_a(s.display.measure))),g==0?(u.measure.map=c.map,u.measure.cache={}):((u.measure.maps||(u.measure.maps=[])).push(c.map),(u.measure.caches||(u.measure.caches=[])).push({}))}if(p){var T=c.content.lastChild;(/\bcm-tab\b/.test(T.className)||T.querySelector&&T.querySelector(".cm-tab"))&&(c.content.className="cm-tab-wrap-hack")}return we(s,"renderLine",s,u.line,c.pre),c.pre.className&&(c.textClass=nt(c.pre.className,c.textClass||"")),c}function $6(s){var u=ie("span","\u2022","cm-invalidchar");return u.title="\\u"+s.charCodeAt(0).toString(16),u.setAttribute("aria-label",u.title),u}function H6(s,u,d,c,g,y,w){if(!!u){var x=s.splitSpaces?j6(u,s.trailingSpace):u,T=s.cm.state.specialChars,M=!1,G;if(!T.test(u))s.col+=u.length,G=document.createTextNode(x),s.map.push(s.pos,s.pos+u.length,G),f&&h<9&&(M=!0),s.pos+=u.length;else{G=document.createDocumentFragment();for(var te=0;;){T.lastIndex=te;var ue=T.exec(u),se=ue?ue.index-te:u.length-te;if(se){var be=document.createTextNode(x.slice(te,te+se));f&&h<9?G.appendChild(ie("span",[be])):G.appendChild(be),s.map.push(s.pos,s.pos+se,be),s.col+=se,s.pos+=se}if(!ue)break;te+=se+1;var Ee=void 0;if(ue[0]=="	"){var Pe=s.cm.options.tabSize,Be=Pe-s.col%Pe;Ee=G.appendChild(ie("span",re(Be),"cm-tab")),Ee.setAttribute("role","presentation"),Ee.setAttribute("cm-text","	"),s.col+=Be}else ue[0]=="\r"||ue[0]==`
`?(Ee=G.appendChild(ie("span",ue[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),Ee.setAttribute("cm-text",ue[0]),s.col+=1):(Ee=s.cm.options.specialCharPlaceholder(ue[0]),Ee.setAttribute("cm-text",ue[0]),f&&h<9?G.appendChild(ie("span",[Ee])):G.appendChild(Ee),s.col+=1);s.map.push(s.pos,s.pos+1,Ee),s.pos++}}if(s.trailingSpace=x.charCodeAt(u.length-1)==32,d||c||g||M||y||w){var He=d||"";c&&(He+=c),g&&(He+=g);var ze=ie("span",[G],He,y);if(w)for(var Ge in w)w.hasOwnProperty(Ge)&&Ge!="style"&&Ge!="class"&&ze.setAttribute(Ge,w[Ge]);return s.content.appendChild(ze)}s.content.appendChild(G)}}function j6(s,u){if(s.length>1&&!/  /.test(s))return s;for(var d=u,c="",g=0;g<s.length;g++){var y=s.charAt(g);y==" "&&d&&(g==s.length-1||s.charCodeAt(g+1)==32)&&(y="\xA0"),c+=y,d=y==" "}return c}function V6(s,u){return function(d,c,g,y,w,x,T){g=g?g+" cm-force-border":"cm-force-border";for(var M=d.pos,G=M+c.length;;){for(var te=void 0,ue=0;ue<u.length&&(te=u[ue],!(te.to>M&&te.from<=M));ue++);if(te.to>=G)return s(d,c,g,y,w,x,T);s(d,c.slice(0,te.to-M),g,y,null,x,T),y=null,c=c.slice(te.to-M),M=te.to}}}function j1(s,u,d,c){var g=!c&&d.widgetNode;g&&s.map.push(s.pos,s.pos+u,g),!c&&s.cm.display.input.needsContentAttribute&&(g||(g=s.content.appendChild(document.createElement("span"))),g.setAttribute("cm-marker",d.id)),g&&(s.cm.display.input.setUneditable(g),s.content.appendChild(g)),s.pos+=u,s.trailingSpace=!1}function W6(s,u,d){var c=s.markedSpans,g=s.text,y=0;if(!c){for(var w=1;w<d.length;w+=2)u.addToken(u,g.slice(y,y=d[w]),$1(d[w+1],u.cm.options));return}for(var x=g.length,T=0,M=1,G="",te,ue,se=0,be,Ee,Pe,Be,He;;){if(se==T){be=Ee=Pe=ue="",He=null,Be=null,se=1/0;for(var ze=[],Ge=void 0,ot=0;ot<c.length;++ot){var rt=c[ot],_t=rt.marker;if(_t.type=="bookmark"&&rt.from==T&&_t.widgetNode)ze.push(_t);else if(rt.from<=T&&(rt.to==null||rt.to>T||_t.collapsed&&rt.to==T&&rt.from==T)){if(rt.to!=null&&rt.to!=T&&se>rt.to&&(se=rt.to,Ee=""),_t.className&&(be+=" "+_t.className),_t.css&&(ue=(ue?ue+";":"")+_t.css),_t.startStyle&&rt.from==T&&(Pe+=" "+_t.startStyle),_t.endStyle&&rt.to==se&&(Ge||(Ge=[])).push(_t.endStyle,rt.to),_t.title&&((He||(He={})).title=_t.title),_t.attributes)for(var Qt in _t.attributes)(He||(He={}))[Qt]=_t.attributes[Qt];_t.collapsed&&(!Be||Em(Be.marker,_t)<0)&&(Be=rt)}else rt.from>T&&se>rt.from&&(se=rt.from)}if(Ge)for(var Vn=0;Vn<Ge.length;Vn+=2)Ge[Vn+1]==se&&(Ee+=" "+Ge[Vn]);if(!Be||Be.from==T)for(var dn=0;dn<ze.length;++dn)j1(u,0,ze[dn]);if(Be&&(Be.from||0)==T){if(j1(u,(Be.to==null?x+1:Be.to)-T,Be.marker,Be.from==null),Be.to==null)return;Be.to==T&&(Be=!1)}}if(T>=x)break;for(var Vr=Math.min(x,se);;){if(G){var Nr=T+G.length;if(!Be){var En=Nr>Vr?G.slice(0,Vr-T):G;u.addToken(u,En,te?te+be:be,Pe,T+En.length==se?Ee:"",ue,He)}if(Nr>=Vr){G=G.slice(Vr-T),T=Vr;break}T=Nr,Pe=""}G=g.slice(y,y=d[M++]),te=$1(d[M++],u.cm.options)}}}function V1(s,u,d){this.line=u,this.rest=I6(u),this.size=this.rest?$t(fe(this.rest))-d+1:1,this.node=this.text=null,this.hidden=ws(s,u)}function Bd(s,u,d){for(var c=[],g,y=u;y<d;y=g){var w=new V1(s.doc,Ze(s.doc,y),y);g=y+w.size,c.push(w)}return c}var Ll=null;function U6(s){Ll?Ll.ops.push(s):s.ownsGroup=Ll={ops:[s],delayedCallbacks:[]}}function K6(s){var u=s.delayedCallbacks,d=0;do{for(;d<u.length;d++)u[d].call(null);for(var c=0;c<s.ops.length;c++){var g=s.ops[c];if(g.cursorActivityHandlers)for(;g.cursorActivityCalled<g.cursorActivityHandlers.length;)g.cursorActivityHandlers[g.cursorActivityCalled++].call(null,g.cm)}}while(d<u.length)}function q6(s,u){var d=s.ownsGroup;if(!!d)try{K6(d)}finally{Ll=null,u(d)}}var df=null;function $n(s,u){var d=Fe(s,u);if(!!d.length){var c=Array.prototype.slice.call(arguments,2),g;Ll?g=Ll.delayedCallbacks:df?g=df:(g=df=[],setTimeout(G6,0));for(var y=function(x){g.push(function(){return d[x].apply(null,c)})},w=0;w<d.length;++w)y(w)}}function G6(){var s=df;df=null;for(var u=0;u<s.length;++u)s[u]()}function W1(s,u,d,c){for(var g=0;g<u.changes.length;g++){var y=u.changes[g];y=="text"?Y6(s,u):y=="gutter"?K1(s,u,d,c):y=="class"?Mm(s,u):y=="widget"&&X6(s,u,c)}u.changes=null}function hf(s){return s.node==s.text&&(s.node=ie("div",null,null,"position: relative"),s.text.parentNode&&s.text.parentNode.replaceChild(s.node,s.text),s.node.appendChild(s.text),f&&h<8&&(s.node.style.zIndex=2)),s.node}function J6(s,u){var d=u.bgClass?u.bgClass+" "+(u.line.bgClass||""):u.line.bgClass;if(d&&(d+=" CodeMirror-linebackground"),u.background)d?u.background.className=d:(u.background.parentNode.removeChild(u.background),u.background=null);else if(d){var c=hf(u);u.background=c.insertBefore(ie("div",null,d),c.firstChild),s.display.input.setUneditable(u.background)}}function U1(s,u){var d=s.display.externalMeasured;return d&&d.line==u.line?(s.display.externalMeasured=null,u.measure=d.measure,d.built):H1(s,u)}function Y6(s,u){var d=u.text.className,c=U1(s,u);u.text==u.node&&(u.node=c.pre),u.text.parentNode.replaceChild(c.pre,u.text),u.text=c.pre,c.bgClass!=u.bgClass||c.textClass!=u.textClass?(u.bgClass=c.bgClass,u.textClass=c.textClass,Mm(s,u)):d&&(u.text.className=d)}function Mm(s,u){J6(s,u),u.line.wrapClass?hf(u).className=u.line.wrapClass:u.node!=u.text&&(u.node.className="");var d=u.textClass?u.textClass+" "+(u.line.textClass||""):u.line.textClass;u.text.className=d||""}function K1(s,u,d,c){if(u.gutter&&(u.node.removeChild(u.gutter),u.gutter=null),u.gutterBackground&&(u.node.removeChild(u.gutterBackground),u.gutterBackground=null),u.line.gutterClass){var g=hf(u);u.gutterBackground=ie("div",null,"CodeMirror-gutter-background "+u.line.gutterClass,"left: "+(s.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px; width: "+c.gutterTotalWidth+"px"),s.display.input.setUneditable(u.gutterBackground),g.insertBefore(u.gutterBackground,u.text)}var y=u.line.gutterMarkers;if(s.options.lineNumbers||y){var w=hf(u),x=u.gutter=ie("div",null,"CodeMirror-gutter-wrapper","left: "+(s.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px");if(x.setAttribute("aria-hidden","true"),s.display.input.setUneditable(x),w.insertBefore(x,u.text),u.line.gutterClass&&(x.className+=" "+u.line.gutterClass),s.options.lineNumbers&&(!y||!y["CodeMirror-linenumbers"])&&(u.lineNumber=x.appendChild(ie("div",uf(s.options,d),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+c.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+s.display.lineNumInnerWidth+"px"))),y)for(var T=0;T<s.display.gutterSpecs.length;++T){var M=s.display.gutterSpecs[T].className,G=y.hasOwnProperty(M)&&y[M];G&&x.appendChild(ie("div",[G],"CodeMirror-gutter-elt","left: "+c.gutterLeft[M]+"px; width: "+c.gutterWidth[M]+"px"))}}}function X6(s,u,d){u.alignable&&(u.alignable=null);for(var c=R("CodeMirror-linewidget"),g=u.node.firstChild,y=void 0;g;g=y)y=g.nextSibling,c.test(g.className)&&u.node.removeChild(g);q1(s,u,d)}function Z6(s,u,d,c){var g=U1(s,u);return u.text=u.node=g.pre,g.bgClass&&(u.bgClass=g.bgClass),g.textClass&&(u.textClass=g.textClass),Mm(s,u),K1(s,u,d,c),q1(s,u,c),u.node}function q1(s,u,d){if(G1(s,u.line,u,d,!0),u.rest)for(var c=0;c<u.rest.length;c++)G1(s,u.rest[c],u,d,!1)}function G1(s,u,d,c,g){if(!!u.widgets)for(var y=hf(d),w=0,x=u.widgets;w<x.length;++w){var T=x[w],M=ie("div",[T.node],"CodeMirror-linewidget"+(T.className?" "+T.className:""));T.handleMouseEvents||M.setAttribute("cm-ignore-events","true"),Q6(T,M,d,c),s.display.input.setUneditable(M),g&&T.above?y.insertBefore(M,d.gutter||d.text):y.appendChild(M),$n(T,"redraw")}}function Q6(s,u,d,c){if(s.noHScroll){(d.alignable||(d.alignable=[])).push(u);var g=c.wrapperWidth;u.style.left=c.fixedPos+"px",s.coverGutter||(g-=c.gutterTotalWidth,u.style.paddingLeft=c.gutterTotalWidth+"px"),u.style.width=g+"px"}s.coverGutter&&(u.style.zIndex=5,u.style.position="relative",s.noHScroll||(u.style.marginLeft=-c.gutterTotalWidth+"px"))}function pf(s){if(s.height!=null)return s.height;var u=s.doc.cm;if(!u)return 0;if(!pe(document.body,s.node)){var d="position: relative;";s.coverGutter&&(d+="margin-left: -"+u.display.gutters.offsetWidth+"px;"),s.noHScroll&&(d+="width: "+u.display.wrapper.clientWidth+"px;"),W(u.display.measure,ie("div",[s.node],null,d))}return s.height=s.node.parentNode.offsetHeight}function Io(s,u){for(var d=Tn(u);d!=s.wrapper;d=d.parentNode)if(!d||d.nodeType==1&&d.getAttribute("cm-ignore-events")=="true"||d.parentNode==s.sizer&&d!=s.mover)return!0}function zd(s){return s.lineSpace.offsetTop}function Nm(s){return s.mover.offsetHeight-s.lineSpace.offsetHeight}function J1(s){if(s.cachedPaddingH)return s.cachedPaddingH;var u=W(s.measure,ie("pre","x","CodeMirror-line-like")),d=window.getComputedStyle?window.getComputedStyle(u):u.currentStyle,c={left:parseInt(d.paddingLeft),right:parseInt(d.paddingRight)};return!isNaN(c.left)&&!isNaN(c.right)&&(s.cachedPaddingH=c),c}function ao(s){return Ce-s.display.nativeBarWidth}function ka(s){return s.display.scroller.clientWidth-ao(s)-s.display.barWidth}function Lm(s){return s.display.scroller.clientHeight-ao(s)-s.display.barHeight}function e3(s,u,d){var c=s.options.lineWrapping,g=c&&ka(s);if(!u.measure.heights||c&&u.measure.width!=g){var y=u.measure.heights=[];if(c){u.measure.width=g;for(var w=u.text.firstChild.getClientRects(),x=0;x<w.length-1;x++){var T=w[x],M=w[x+1];Math.abs(T.bottom-M.bottom)>2&&y.push((T.bottom+M.top)/2-d.top)}}y.push(d.bottom-d.top)}}function Y1(s,u,d){if(s.line==u)return{map:s.measure.map,cache:s.measure.cache};if(s.rest){for(var c=0;c<s.rest.length;c++)if(s.rest[c]==u)return{map:s.measure.maps[c],cache:s.measure.caches[c]};for(var g=0;g<s.rest.length;g++)if($t(s.rest[g])>d)return{map:s.measure.maps[g],cache:s.measure.caches[g],before:!0}}}function t3(s,u){u=zi(u);var d=$t(u),c=s.display.externalMeasured=new V1(s.doc,u,d);c.lineN=d;var g=c.built=H1(s,c);return c.text=g.pre,W(s.display.lineMeasure,g.pre),c}function X1(s,u,d,c){return lo(s,Pl(s,u),d,c)}function Pm(s,u){if(u>=s.display.viewFrom&&u<s.display.viewTo)return s.display.view[Sa(s,u)];var d=s.display.externalMeasured;if(d&&u>=d.lineN&&u<d.lineN+d.size)return d}function Pl(s,u){var d=$t(u),c=Pm(s,d);c&&!c.text?c=null:c&&c.changes&&(W1(s,c,d,zm(s)),s.curOp.forceUpdate=!0),c||(c=t3(s,u));var g=Y1(c,u,d);return{line:u,view:c,rect:null,map:g.map,cache:g.cache,before:g.before,hasHeights:!1}}function lo(s,u,d,c,g){u.before&&(d=-1);var y=d+(c||""),w;return u.cache.hasOwnProperty(y)?w=u.cache[y]:(u.rect||(u.rect=u.view.text.getBoundingClientRect()),u.hasHeights||(e3(s,u.view,u.rect),u.hasHeights=!0),w=r3(s,u,d,c),w.bogus||(u.cache[y]=w)),{left:w.left,right:w.right,top:g?w.rtop:w.top,bottom:g?w.rbottom:w.bottom}}var Z1={left:0,right:0,top:0,bottom:0};function Q1(s,u,d){for(var c,g,y,w,x,T,M=0;M<s.length;M+=3)if(x=s[M],T=s[M+1],u<x?(g=0,y=1,w="left"):u<T?(g=u-x,y=g+1):(M==s.length-3||u==T&&s[M+3]>u)&&(y=T-x,g=y-1,u>=T&&(w="right")),g!=null){if(c=s[M+2],x==T&&d==(c.insertLeft?"left":"right")&&(w=d),d=="left"&&g==0)for(;M&&s[M-2]==s[M-3]&&s[M-1].insertLeft;)c=s[(M-=3)+2],w="left";if(d=="right"&&g==T-x)for(;M<s.length-3&&s[M+3]==s[M+4]&&!s[M+5].insertLeft;)c=s[(M+=3)+2],w="right";break}return{node:c,start:g,end:y,collapse:w,coverStart:x,coverEnd:T}}function n3(s,u){var d=Z1;if(u=="left")for(var c=0;c<s.length&&(d=s[c]).left==d.right;c++);else for(var g=s.length-1;g>=0&&(d=s[g]).left==d.right;g--);return d}function r3(s,u,d,c){var g=Q1(u.map,d,c),y=g.node,w=g.start,x=g.end,T=g.collapse,M;if(y.nodeType==3){for(var G=0;G<4;G++){for(;w&&Q(u.line.text.charAt(g.coverStart+w));)--w;for(;g.coverStart+x<g.coverEnd&&Q(u.line.text.charAt(g.coverStart+x));)++x;if(f&&h<9&&w==0&&x==g.coverEnd-g.coverStart?M=y.parentNode.getBoundingClientRect():M=n3(ce(y,w,x).getClientRects(),c),M.left||M.right||w==0)break;x=w,w=w-1,T="right"}f&&h<11&&(M=i3(s.display.measure,M))}else{w>0&&(T=c="right");var te;s.options.lineWrapping&&(te=y.getClientRects()).length>1?M=te[c=="right"?te.length-1:0]:M=y.getBoundingClientRect()}if(f&&h<9&&!w&&(!M||!M.left&&!M.right)){var ue=y.parentNode.getClientRects()[0];ue?M={left:ue.left,right:ue.left+Fl(s.display),top:ue.top,bottom:ue.bottom}:M=Z1}for(var se=M.top-u.rect.top,be=M.bottom-u.rect.top,Ee=(se+be)/2,Pe=u.view.measure.heights,Be=0;Be<Pe.length-1&&!(Ee<Pe[Be]);Be++);var He=Be?Pe[Be-1]:0,ze=Pe[Be],Ge={left:(T=="right"?M.right:M.left)-u.rect.left,right:(T=="left"?M.left:M.right)-u.rect.left,top:He,bottom:ze};return!M.left&&!M.right&&(Ge.bogus=!0),s.options.singleCursorHeightPerLine||(Ge.rtop=se,Ge.rbottom=be),Ge}function i3(s,u){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!_s(s))return u;var d=screen.logicalXDPI/screen.deviceXDPI,c=screen.logicalYDPI/screen.deviceYDPI;return{left:u.left*d,right:u.right*d,top:u.top*c,bottom:u.bottom*c}}function ew(s){if(s.measure&&(s.measure.cache={},s.measure.heights=null,s.rest))for(var u=0;u<s.rest.length;u++)s.measure.caches[u]={}}function tw(s){s.display.externalMeasure=null,Z(s.display.lineMeasure);for(var u=0;u<s.display.view.length;u++)ew(s.display.view[u])}function gf(s){tw(s),s.display.cachedCharWidth=s.display.cachedTextHeight=s.display.cachedPaddingH=null,s.options.lineWrapping||(s.display.maxLineChanged=!0),s.display.lineNumChars=null}function nw(){return v&&S?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function rw(){return v&&S?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Im(s){var u=zi(s),d=u.widgets,c=0;if(d)for(var g=0;g<d.length;++g)d[g].above&&(c+=pf(d[g]));return c}function $d(s,u,d,c,g){if(!g){var y=Im(u);d.top+=y,d.bottom+=y}if(c=="line")return d;c||(c="local");var w=Po(u);if(c=="local"?w+=zd(s.display):w-=s.display.viewOffset,c=="page"||c=="window"){var x=s.display.lineSpace.getBoundingClientRect();w+=x.top+(c=="window"?0:rw());var T=x.left+(c=="window"?0:nw());d.left+=T,d.right+=T}return d.top+=w,d.bottom+=w,d}function iw(s,u,d){if(d=="div")return u;var c=u.left,g=u.top;if(d=="page")c-=nw(),g-=rw();else if(d=="local"||!d){var y=s.display.sizer.getBoundingClientRect();c+=y.left,g+=y.top}var w=s.display.lineSpace.getBoundingClientRect();return{left:c-w.left,top:g-w.top}}function Hd(s,u,d,c,g){return c||(c=Ze(s.doc,u.line)),$d(s,c,X1(s,c,u.ch,g),d)}function $i(s,u,d,c,g,y){c=c||Ze(s.doc,u.line),g||(g=Pl(s,c));function w(be,Ee){var Pe=lo(s,g,be,Ee?"right":"left",y);return Ee?Pe.left=Pe.right:Pe.right=Pe.left,$d(s,c,Pe,d)}var x=Le(c,s.doc.direction),T=u.ch,M=u.sticky;if(T>=c.text.length?(T=c.text.length,M="before"):T<=0&&(T=0,M="after"),!x)return w(M=="before"?T-1:T,M=="before");function G(be,Ee,Pe){var Be=x[Ee],He=Be.level==1;return w(Pe?be-1:be,He!=Pe)}var te=Y(x,T,M),ue=J,se=G(T,te,M=="before");return ue!=null&&(se.other=G(T,ue,M!="before")),se}function ow(s,u){var d=0;u=Ke(s.doc,u),s.options.lineWrapping||(d=Fl(s.display)*u.ch);var c=Ze(s.doc,u.line),g=Po(c)+zd(s.display);return{left:d,right:d,top:g,bottom:g+c.height}}function Fm(s,u,d,c,g){var y=Oe(s,u,d);return y.xRel=g,c&&(y.outside=c),y}function Rm(s,u,d){var c=s.doc;if(d+=s.display.viewOffset,d<0)return Fm(c.first,0,null,-1,-1);var g=oo(c,d),y=c.first+c.size-1;if(g>y)return Fm(c.first+c.size-1,Ze(c,y).text.length,null,1,1);u<0&&(u=0);for(var w=Ze(c,g);;){var x=o3(s,w,g,u,d),T=L6(w,x.ch+(x.xRel>0||x.outside>0?1:0));if(!T)return x;var M=T.find(1);if(M.line==g)return M;w=Ze(c,g=M.line)}}function sw(s,u,d,c){c-=Im(u);var g=u.text.length,y=de(function(w){return lo(s,d,w-1).bottom<=c},g,0);return g=de(function(w){return lo(s,d,w).top>c},y,g),{begin:y,end:g}}function aw(s,u,d,c){d||(d=Pl(s,u));var g=$d(s,u,lo(s,d,c),"line").top;return sw(s,u,d,g)}function Bm(s,u,d,c){return s.bottom<=d?!1:s.top>d?!0:(c?s.left:s.right)>u}function o3(s,u,d,c,g){g-=Po(u);var y=Pl(s,u),w=Im(u),x=0,T=u.text.length,M=!0,G=Le(u,s.doc.direction);if(G){var te=(s.options.lineWrapping?a3:s3)(s,u,d,y,G,c,g);M=te.level!=1,x=M?te.from:te.to-1,T=M?te.to:te.from-1}var ue=null,se=null,be=de(function(ot){var rt=lo(s,y,ot);return rt.top+=w,rt.bottom+=w,Bm(rt,c,g,!1)?(rt.top<=g&&rt.left<=c&&(ue=ot,se=rt),!0):!1},x,T),Ee,Pe,Be=!1;if(se){var He=c-se.left<se.right-c,ze=He==M;be=ue+(ze?0:1),Pe=ze?"after":"before",Ee=He?se.left:se.right}else{!M&&(be==T||be==x)&&be++,Pe=be==0?"after":be==u.text.length?"before":lo(s,y,be-(M?1:0)).bottom+w<=g==M?"after":"before";var Ge=$i(s,Oe(d,be,Pe),"line",u,y);Ee=Ge.left,Be=g<Ge.top?-1:g>=Ge.bottom?1:0}return be=ae(u.text,be,1),Fm(d,be,Pe,Be,c-Ee)}function s3(s,u,d,c,g,y,w){var x=de(function(te){var ue=g[te],se=ue.level!=1;return Bm($i(s,Oe(d,se?ue.to:ue.from,se?"before":"after"),"line",u,c),y,w,!0)},0,g.length-1),T=g[x];if(x>0){var M=T.level!=1,G=$i(s,Oe(d,M?T.from:T.to,M?"after":"before"),"line",u,c);Bm(G,y,w,!0)&&G.top>w&&(T=g[x-1])}return T}function a3(s,u,d,c,g,y,w){var x=sw(s,u,c,w),T=x.begin,M=x.end;/\s/.test(u.text.charAt(M-1))&&M--;for(var G=null,te=null,ue=0;ue<g.length;ue++){var se=g[ue];if(!(se.from>=M||se.to<=T)){var be=se.level!=1,Ee=lo(s,c,be?Math.min(M,se.to)-1:Math.max(T,se.from)).right,Pe=Ee<y?y-Ee+1e9:Ee-y;(!G||te>Pe)&&(G=se,te=Pe)}}return G||(G=g[g.length-1]),G.from<T&&(G={from:T,to:G.to,level:G.level}),G.to>M&&(G={from:G.from,to:M,level:G.level}),G}var xa;function Il(s){if(s.cachedTextHeight!=null)return s.cachedTextHeight;if(xa==null){xa=ie("pre",null,"CodeMirror-line-like");for(var u=0;u<49;++u)xa.appendChild(document.createTextNode("x")),xa.appendChild(ie("br"));xa.appendChild(document.createTextNode("x"))}W(s.measure,xa);var d=xa.offsetHeight/50;return d>3&&(s.cachedTextHeight=d),Z(s.measure),d||1}function Fl(s){if(s.cachedCharWidth!=null)return s.cachedCharWidth;var u=ie("span","xxxxxxxxxx"),d=ie("pre",[u],"CodeMirror-line-like");W(s.measure,d);var c=u.getBoundingClientRect(),g=(c.right-c.left)/10;return g>2&&(s.cachedCharWidth=g),g||10}function zm(s){for(var u=s.display,d={},c={},g=u.gutters.clientLeft,y=u.gutters.firstChild,w=0;y;y=y.nextSibling,++w){var x=s.display.gutterSpecs[w].className;d[x]=y.offsetLeft+y.clientLeft+g,c[x]=y.clientWidth}return{fixedPos:$m(u),gutterTotalWidth:u.gutters.offsetWidth,gutterLeft:d,gutterWidth:c,wrapperWidth:u.wrapper.clientWidth}}function $m(s){return s.scroller.getBoundingClientRect().left-s.sizer.getBoundingClientRect().left}function lw(s){var u=Il(s.display),d=s.options.lineWrapping,c=d&&Math.max(5,s.display.scroller.clientWidth/Fl(s.display)-3);return function(g){if(ws(s.doc,g))return 0;var y=0;if(g.widgets)for(var w=0;w<g.widgets.length;w++)g.widgets[w].height&&(y+=g.widgets[w].height);return d?y+(Math.ceil(g.text.length/c)||1)*u:y+u}}function Hm(s){var u=s.doc,d=lw(s);u.iter(function(c){var g=d(c);g!=c.height&&Hr(c,g)})}function Ca(s,u,d,c){var g=s.display;if(!d&&Tn(u).getAttribute("cm-not-content")=="true")return null;var y,w,x=g.lineSpace.getBoundingClientRect();try{y=u.clientX-x.left,w=u.clientY-x.top}catch{return null}var T=Rm(s,y,w),M;if(c&&T.xRel>0&&(M=Ze(s.doc,T.line).text).length==T.ch){var G=st(M,M.length,s.options.tabSize)-M.length;T=Oe(T.line,Math.max(0,Math.round((y-J1(s.display).left)/Fl(s.display))-G))}return T}function Sa(s,u){if(u>=s.display.viewTo||(u-=s.display.viewFrom,u<0))return null;for(var d=s.display.view,c=0;c<d.length;c++)if(u-=d[c].size,u<0)return c}function Dr(s,u,d,c){u==null&&(u=s.doc.first),d==null&&(d=s.doc.first+s.doc.size),c||(c=0);var g=s.display;if(c&&d<g.viewTo&&(g.updateLineNumbers==null||g.updateLineNumbers>u)&&(g.updateLineNumbers=u),s.curOp.viewChanged=!0,u>=g.viewTo)Lo&&Am(s.doc,u)<g.viewTo&&xs(s);else if(d<=g.viewFrom)Lo&&z1(s.doc,d+c)>g.viewFrom?xs(s):(g.viewFrom+=c,g.viewTo+=c);else if(u<=g.viewFrom&&d>=g.viewTo)xs(s);else if(u<=g.viewFrom){var y=jd(s,d,d+c,1);y?(g.view=g.view.slice(y.index),g.viewFrom=y.lineN,g.viewTo+=c):xs(s)}else if(d>=g.viewTo){var w=jd(s,u,u,-1);w?(g.view=g.view.slice(0,w.index),g.viewTo=w.lineN):xs(s)}else{var x=jd(s,u,u,-1),T=jd(s,d,d+c,1);x&&T?(g.view=g.view.slice(0,x.index).concat(Bd(s,x.lineN,T.lineN)).concat(g.view.slice(T.index)),g.viewTo+=c):xs(s)}var M=g.externalMeasured;M&&(d<M.lineN?M.lineN+=c:u<M.lineN+M.size&&(g.externalMeasured=null))}function ks(s,u,d){s.curOp.viewChanged=!0;var c=s.display,g=s.display.externalMeasured;if(g&&u>=g.lineN&&u<g.lineN+g.size&&(c.externalMeasured=null),!(u<c.viewFrom||u>=c.viewTo)){var y=c.view[Sa(s,u)];if(y.node!=null){var w=y.changes||(y.changes=[]);Re(w,d)==-1&&w.push(d)}}}function xs(s){s.display.viewFrom=s.display.viewTo=s.doc.first,s.display.view=[],s.display.viewOffset=0}function jd(s,u,d,c){var g=Sa(s,u),y,w=s.display.view;if(!Lo||d==s.doc.first+s.doc.size)return{index:g,lineN:d};for(var x=s.display.viewFrom,T=0;T<g;T++)x+=w[T].size;if(x!=u){if(c>0){if(g==w.length-1)return null;y=x+w[g].size-u,g++}else y=x-u;u+=y,d+=y}for(;Am(s.doc,d)!=d;){if(g==(c<0?0:w.length-1))return null;d+=c*w[g-(c<0?1:0)].size,g+=c}return{index:g,lineN:d}}function l3(s,u,d){var c=s.display,g=c.view;g.length==0||u>=c.viewTo||d<=c.viewFrom?(c.view=Bd(s,u,d),c.viewFrom=u):(c.viewFrom>u?c.view=Bd(s,u,c.viewFrom).concat(c.view):c.viewFrom<u&&(c.view=c.view.slice(Sa(s,u))),c.viewFrom=u,c.viewTo<d?c.view=c.view.concat(Bd(s,c.viewTo,d)):c.viewTo>d&&(c.view=c.view.slice(0,Sa(s,d)))),c.viewTo=d}function uw(s){for(var u=s.display.view,d=0,c=0;c<u.length;c++){var g=u[c];!g.hidden&&(!g.node||g.changes)&&++d}return d}function mf(s){s.display.input.showSelection(s.display.input.prepareSelection())}function fw(s,u){u===void 0&&(u=!0);var d=s.doc,c={},g=c.cursors=document.createDocumentFragment(),y=c.selection=document.createDocumentFragment(),w=s.options.$customCursor;w&&(u=!0);for(var x=0;x<d.sel.ranges.length;x++)if(!(!u&&x==d.sel.primIndex)){var T=d.sel.ranges[x];if(!(T.from().line>=s.display.viewTo||T.to().line<s.display.viewFrom)){var M=T.empty();if(w){var G=w(s,T);G&&jm(s,G,g)}else(M||s.options.showCursorWhenSelecting)&&jm(s,T.head,g);M||u3(s,T,y)}}return c}function jm(s,u,d){var c=$i(s,u,"div",null,null,!s.options.singleCursorHeightPerLine),g=d.appendChild(ie("div","\xA0","CodeMirror-cursor"));if(g.style.left=c.left+"px",g.style.top=c.top+"px",g.style.height=Math.max(0,c.bottom-c.top)*s.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(s.getWrapperElement().className)){var y=Hd(s,u,"div",null,null),w=y.right-y.left;g.style.width=(w>0?w:s.defaultCharWidth())+"px"}if(c.other){var x=d.appendChild(ie("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));x.style.display="",x.style.left=c.other.left+"px",x.style.top=c.other.top+"px",x.style.height=(c.other.bottom-c.other.top)*.85+"px"}}function Vd(s,u){return s.top-u.top||s.left-u.left}function u3(s,u,d){var c=s.display,g=s.doc,y=document.createDocumentFragment(),w=J1(s.display),x=w.left,T=Math.max(c.sizerWidth,ka(s)-c.sizer.offsetLeft)-w.right,M=g.direction=="ltr";function G(ze,Ge,ot,rt){Ge<0&&(Ge=0),Ge=Math.round(Ge),rt=Math.round(rt),y.appendChild(ie("div",null,"CodeMirror-selected","position: absolute; left: "+ze+`px;
                             top: `+Ge+"px; width: "+(ot==null?T-ze:ot)+`px;
                             height: `+(rt-Ge)+"px"))}function te(ze,Ge,ot){var rt=Ze(g,ze),_t=rt.text.length,Qt,Vn;function dn(En,Lr){return Hd(s,Oe(ze,En),"div",rt,Lr)}function Vr(En,Lr,Jn){var Pn=aw(s,rt,null,En),An=Lr=="ltr"==(Jn=="after")?"left":"right",mn=Jn=="after"?Pn.begin:Pn.end-(/\s/.test(rt.text.charAt(Pn.end-1))?2:1);return dn(mn,An)[An]}var Nr=Le(rt,g.direction);return me(Nr,Ge||0,ot==null?_t:ot,function(En,Lr,Jn,Pn){var An=Jn=="ltr",mn=dn(En,An?"left":"right"),Pr=dn(Lr-1,An?"right":"left"),Jl=Ge==null&&En==0,Os=ot==null&&Lr==_t,rr=Pn==0,uo=!Nr||Pn==Nr.length-1;if(Pr.top-mn.top<=3){var Wn=(M?Jl:Os)&&rr,pv=(M?Os:Jl)&&uo,Bo=Wn?x:(An?mn:Pr).left,Da=pv?T:(An?Pr:mn).right;G(Bo,mn.top,Da-Bo,mn.bottom)}else{var Ma,pr,Yl,gv;An?(Ma=M&&Jl&&rr?x:mn.left,pr=M?T:Vr(En,Jn,"before"),Yl=M?x:Vr(Lr,Jn,"after"),gv=M&&Os&&uo?T:Pr.right):(Ma=M?Vr(En,Jn,"before"):x,pr=!M&&Jl&&rr?T:mn.right,Yl=!M&&Os&&uo?x:Pr.left,gv=M?Vr(Lr,Jn,"after"):T),G(Ma,mn.top,pr-Ma,mn.bottom),mn.bottom<Pr.top&&G(x,mn.bottom,null,Pr.top),G(Yl,Pr.top,gv-Yl,Pr.bottom)}(!Qt||Vd(mn,Qt)<0)&&(Qt=mn),Vd(Pr,Qt)<0&&(Qt=Pr),(!Vn||Vd(mn,Vn)<0)&&(Vn=mn),Vd(Pr,Vn)<0&&(Vn=Pr)}),{start:Qt,end:Vn}}var ue=u.from(),se=u.to();if(ue.line==se.line)te(ue.line,ue.ch,se.ch);else{var be=Ze(g,ue.line),Ee=Ze(g,se.line),Pe=zi(be)==zi(Ee),Be=te(ue.line,ue.ch,Pe?be.text.length+1:null).end,He=te(se.line,Pe?0:null,se.ch).start;Pe&&(Be.top<He.top-2?(G(Be.right,Be.top,null,Be.bottom),G(x,He.top,He.left,He.bottom)):G(Be.right,Be.top,He.left-Be.right,Be.bottom)),Be.bottom<He.top&&G(x,Be.bottom,null,He.top)}d.appendChild(y)}function Vm(s){if(!!s.state.focused){var u=s.display;clearInterval(u.blinker);var d=!0;u.cursorDiv.style.visibility="",s.options.cursorBlinkRate>0?u.blinker=setInterval(function(){s.hasFocus()||Rl(s),u.cursorDiv.style.visibility=(d=!d)?"":"hidden"},s.options.cursorBlinkRate):s.options.cursorBlinkRate<0&&(u.cursorDiv.style.visibility="hidden")}}function cw(s){s.hasFocus()||(s.display.input.focus(),s.state.focused||Um(s))}function Wm(s){s.state.delayingBlurEvent=!0,setTimeout(function(){s.state.delayingBlurEvent&&(s.state.delayingBlurEvent=!1,s.state.focused&&Rl(s))},100)}function Um(s,u){s.state.delayingBlurEvent&&!s.state.draggingText&&(s.state.delayingBlurEvent=!1),s.options.readOnly!="nocursor"&&(s.state.focused||(we(s,"focus",s,u),s.state.focused=!0,We(s.display.wrapper,"CodeMirror-focused"),!s.curOp&&s.display.selForContextMenu!=s.doc.sel&&(s.display.input.reset(),p&&setTimeout(function(){return s.display.input.reset(!0)},20)),s.display.input.receivedFocus()),Vm(s))}function Rl(s,u){s.state.delayingBlurEvent||(s.state.focused&&(we(s,"blur",s,u),s.state.focused=!1,V(s.display.wrapper,"CodeMirror-focused")),clearInterval(s.display.blinker),setTimeout(function(){s.state.focused||(s.display.shift=!1)},150))}function Wd(s){for(var u=s.display,d=u.lineDiv.offsetTop,c=Math.max(0,u.scroller.getBoundingClientRect().top),g=u.lineDiv.getBoundingClientRect().top,y=0,w=0;w<u.view.length;w++){var x=u.view[w],T=s.options.lineWrapping,M=void 0,G=0;if(!x.hidden){if(g+=x.line.height,f&&h<8){var te=x.node.offsetTop+x.node.offsetHeight;M=te-d,d=te}else{var ue=x.node.getBoundingClientRect();M=ue.bottom-ue.top,!T&&x.text.firstChild&&(G=x.text.firstChild.getBoundingClientRect().right-ue.left-1)}var se=x.line.height-M;if((se>.005||se<-.005)&&(g<c&&(y-=se),Hr(x.line,M),dw(x.line),x.rest))for(var be=0;be<x.rest.length;be++)dw(x.rest[be]);if(G>s.display.sizerWidth){var Ee=Math.ceil(G/Fl(s.display));Ee>s.display.maxLineLength&&(s.display.maxLineLength=Ee,s.display.maxLine=x.line,s.display.maxLineChanged=!0)}}}Math.abs(y)>2&&(u.scroller.scrollTop+=y)}function dw(s){if(s.widgets)for(var u=0;u<s.widgets.length;++u){var d=s.widgets[u],c=d.node.parentNode;c&&(d.height=c.offsetHeight)}}function Ud(s,u,d){var c=d&&d.top!=null?Math.max(0,d.top):s.scroller.scrollTop;c=Math.floor(c-zd(s));var g=d&&d.bottom!=null?d.bottom:c+s.wrapper.clientHeight,y=oo(u,c),w=oo(u,g);if(d&&d.ensure){var x=d.ensure.from.line,T=d.ensure.to.line;x<y?(y=x,w=oo(u,Po(Ze(u,x))+s.wrapper.clientHeight)):Math.min(T,u.lastLine())>=w&&(y=oo(u,Po(Ze(u,T))-s.wrapper.clientHeight),w=T)}return{from:y,to:Math.max(w,y+1)}}function f3(s,u){if(!Ue(s,"scrollCursorIntoView")){var d=s.display,c=d.sizer.getBoundingClientRect(),g=null;if(u.top+c.top<0?g=!0:u.bottom+c.top>(window.innerHeight||document.documentElement.clientHeight)&&(g=!1),g!=null&&!C){var y=ie("div","\u200B",null,`position: absolute;
                         top: `+(u.top-d.viewOffset-zd(s.display))+`px;
                         height: `+(u.bottom-u.top+ao(s)+d.barHeight)+`px;
                         left: `+u.left+"px; width: "+Math.max(2,u.right-u.left)+"px;");s.display.lineSpace.appendChild(y),y.scrollIntoView(g),s.display.lineSpace.removeChild(y)}}}function c3(s,u,d,c){c==null&&(c=0);var g;!s.options.lineWrapping&&u==d&&(d=u.sticky=="before"?Oe(u.line,u.ch+1,"before"):u,u=u.ch?Oe(u.line,u.sticky=="before"?u.ch-1:u.ch,"after"):u);for(var y=0;y<5;y++){var w=!1,x=$i(s,u),T=!d||d==u?x:$i(s,d);g={left:Math.min(x.left,T.left),top:Math.min(x.top,T.top)-c,right:Math.max(x.left,T.left),bottom:Math.max(x.bottom,T.bottom)+c};var M=Km(s,g),G=s.doc.scrollTop,te=s.doc.scrollLeft;if(M.scrollTop!=null&&(yf(s,M.scrollTop),Math.abs(s.doc.scrollTop-G)>1&&(w=!0)),M.scrollLeft!=null&&(Ta(s,M.scrollLeft),Math.abs(s.doc.scrollLeft-te)>1&&(w=!0)),!w)break}return g}function d3(s,u){var d=Km(s,u);d.scrollTop!=null&&yf(s,d.scrollTop),d.scrollLeft!=null&&Ta(s,d.scrollLeft)}function Km(s,u){var d=s.display,c=Il(s.display);u.top<0&&(u.top=0);var g=s.curOp&&s.curOp.scrollTop!=null?s.curOp.scrollTop:d.scroller.scrollTop,y=Lm(s),w={};u.bottom-u.top>y&&(u.bottom=u.top+y);var x=s.doc.height+Nm(d),T=u.top<c,M=u.bottom>x-c;if(u.top<g)w.scrollTop=T?0:u.top;else if(u.bottom>g+y){var G=Math.min(u.top,(M?x:u.bottom)-y);G!=g&&(w.scrollTop=G)}var te=s.options.fixedGutter?0:d.gutters.offsetWidth,ue=s.curOp&&s.curOp.scrollLeft!=null?s.curOp.scrollLeft:d.scroller.scrollLeft-te,se=ka(s)-d.gutters.offsetWidth,be=u.right-u.left>se;return be&&(u.right=u.left+se),u.left<10?w.scrollLeft=0:u.left<ue?w.scrollLeft=Math.max(0,u.left+te-(be?0:10)):u.right>se+ue-3&&(w.scrollLeft=u.right+(be?0:10)-se),w}function qm(s,u){u!=null&&(Kd(s),s.curOp.scrollTop=(s.curOp.scrollTop==null?s.doc.scrollTop:s.curOp.scrollTop)+u)}function Bl(s){Kd(s);var u=s.getCursor();s.curOp.scrollToPos={from:u,to:u,margin:s.options.cursorScrollMargin}}function vf(s,u,d){(u!=null||d!=null)&&Kd(s),u!=null&&(s.curOp.scrollLeft=u),d!=null&&(s.curOp.scrollTop=d)}function h3(s,u){Kd(s),s.curOp.scrollToPos=u}function Kd(s){var u=s.curOp.scrollToPos;if(u){s.curOp.scrollToPos=null;var d=ow(s,u.from),c=ow(s,u.to);hw(s,d,c,u.margin)}}function hw(s,u,d,c){var g=Km(s,{left:Math.min(u.left,d.left),top:Math.min(u.top,d.top)-c,right:Math.max(u.right,d.right),bottom:Math.max(u.bottom,d.bottom)+c});vf(s,g.scrollLeft,g.scrollTop)}function yf(s,u){Math.abs(s.doc.scrollTop-u)<2||(i||Jm(s,{top:u}),pw(s,u,!0),i&&Jm(s),wf(s,100))}function pw(s,u,d){u=Math.max(0,Math.min(s.display.scroller.scrollHeight-s.display.scroller.clientHeight,u)),!(s.display.scroller.scrollTop==u&&!d)&&(s.doc.scrollTop=u,s.display.scrollbars.setScrollTop(u),s.display.scroller.scrollTop!=u&&(s.display.scroller.scrollTop=u))}function Ta(s,u,d,c){u=Math.max(0,Math.min(u,s.display.scroller.scrollWidth-s.display.scroller.clientWidth)),!((d?u==s.doc.scrollLeft:Math.abs(s.doc.scrollLeft-u)<2)&&!c)&&(s.doc.scrollLeft=u,bw(s),s.display.scroller.scrollLeft!=u&&(s.display.scroller.scrollLeft=u),s.display.scrollbars.setScrollLeft(u))}function bf(s){var u=s.display,d=u.gutters.offsetWidth,c=Math.round(s.doc.height+Nm(s.display));return{clientHeight:u.scroller.clientHeight,viewHeight:u.wrapper.clientHeight,scrollWidth:u.scroller.scrollWidth,clientWidth:u.scroller.clientWidth,viewWidth:u.wrapper.clientWidth,barLeft:s.options.fixedGutter?d:0,docHeight:c,scrollHeight:c+ao(s)+u.barHeight,nativeBarWidth:u.nativeBarWidth,gutterWidth:d}}var Ea=function(s,u,d){this.cm=d;var c=this.vert=ie("div",[ie("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),g=this.horiz=ie("div",[ie("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");c.tabIndex=g.tabIndex=-1,s(c),s(g),oe(c,"scroll",function(){c.clientHeight&&u(c.scrollTop,"vertical")}),oe(g,"scroll",function(){g.clientWidth&&u(g.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,f&&h<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ea.prototype.update=function(s){var u=s.scrollWidth>s.clientWidth+1,d=s.scrollHeight>s.clientHeight+1,c=s.nativeBarWidth;if(d){this.vert.style.display="block",this.vert.style.bottom=u?c+"px":"0";var g=s.viewHeight-(u?c:0);this.vert.firstChild.style.height=Math.max(0,s.scrollHeight-s.clientHeight+g)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(u){this.horiz.style.display="block",this.horiz.style.right=d?c+"px":"0",this.horiz.style.left=s.barLeft+"px";var y=s.viewWidth-s.barLeft-(d?c:0);this.horiz.firstChild.style.width=Math.max(0,s.scrollWidth-s.clientWidth+y)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&s.clientHeight>0&&(c==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:d?c:0,bottom:u?c:0}},Ea.prototype.setScrollLeft=function(s){this.horiz.scrollLeft!=s&&(this.horiz.scrollLeft=s),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ea.prototype.setScrollTop=function(s){this.vert.scrollTop!=s&&(this.vert.scrollTop=s),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ea.prototype.zeroWidthHack=function(){var s=O&&!k?"12px":"18px";this.horiz.style.height=this.vert.style.width=s,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Ye,this.disableVert=new Ye},Ea.prototype.enableZeroWidthBar=function(s,u,d){s.style.pointerEvents="auto";function c(){var g=s.getBoundingClientRect(),y=d=="vert"?document.elementFromPoint(g.right-1,(g.top+g.bottom)/2):document.elementFromPoint((g.right+g.left)/2,g.bottom-1);y!=s?s.style.pointerEvents="none":u.set(1e3,c)}u.set(1e3,c)},Ea.prototype.clear=function(){var s=this.horiz.parentNode;s.removeChild(this.horiz),s.removeChild(this.vert)};var _f=function(){};_f.prototype.update=function(){return{bottom:0,right:0}},_f.prototype.setScrollLeft=function(){},_f.prototype.setScrollTop=function(){},_f.prototype.clear=function(){};function zl(s,u){u||(u=bf(s));var d=s.display.barWidth,c=s.display.barHeight;gw(s,u);for(var g=0;g<4&&d!=s.display.barWidth||c!=s.display.barHeight;g++)d!=s.display.barWidth&&s.options.lineWrapping&&Wd(s),gw(s,bf(s)),d=s.display.barWidth,c=s.display.barHeight}function gw(s,u){var d=s.display,c=d.scrollbars.update(u);d.sizer.style.paddingRight=(d.barWidth=c.right)+"px",d.sizer.style.paddingBottom=(d.barHeight=c.bottom)+"px",d.heightForcer.style.borderBottom=c.bottom+"px solid transparent",c.right&&c.bottom?(d.scrollbarFiller.style.display="block",d.scrollbarFiller.style.height=c.bottom+"px",d.scrollbarFiller.style.width=c.right+"px"):d.scrollbarFiller.style.display="",c.bottom&&s.options.coverGutterNextToScrollbar&&s.options.fixedGutter?(d.gutterFiller.style.display="block",d.gutterFiller.style.height=c.bottom+"px",d.gutterFiller.style.width=u.gutterWidth+"px"):d.gutterFiller.style.display=""}var mw={native:Ea,null:_f};function vw(s){s.display.scrollbars&&(s.display.scrollbars.clear(),s.display.scrollbars.addClass&&V(s.display.wrapper,s.display.scrollbars.addClass)),s.display.scrollbars=new mw[s.options.scrollbarStyle](function(u){s.display.wrapper.insertBefore(u,s.display.scrollbarFiller),oe(u,"mousedown",function(){s.state.focused&&setTimeout(function(){return s.display.input.focus()},0)}),u.setAttribute("cm-not-content","true")},function(u,d){d=="horizontal"?Ta(s,u):yf(s,u)},s),s.display.scrollbars.addClass&&We(s.display.wrapper,s.display.scrollbars.addClass)}var p3=0;function Aa(s){s.curOp={cm:s,viewChanged:!1,startHeight:s.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++p3,markArrays:null},U6(s.curOp)}function Oa(s){var u=s.curOp;u&&q6(u,function(d){for(var c=0;c<d.ops.length;c++)d.ops[c].cm.curOp=null;g3(d)})}function g3(s){for(var u=s.ops,d=0;d<u.length;d++)m3(u[d]);for(var c=0;c<u.length;c++)v3(u[c]);for(var g=0;g<u.length;g++)y3(u[g]);for(var y=0;y<u.length;y++)b3(u[y]);for(var w=0;w<u.length;w++)_3(u[w])}function m3(s){var u=s.cm,d=u.display;k3(u),s.updateMaxLine&&Dm(u),s.mustUpdate=s.viewChanged||s.forceUpdate||s.scrollTop!=null||s.scrollToPos&&(s.scrollToPos.from.line<d.viewFrom||s.scrollToPos.to.line>=d.viewTo)||d.maxLineChanged&&u.options.lineWrapping,s.update=s.mustUpdate&&new qd(u,s.mustUpdate&&{top:s.scrollTop,ensure:s.scrollToPos},s.forceUpdate)}function v3(s){s.updatedDisplay=s.mustUpdate&&Gm(s.cm,s.update)}function y3(s){var u=s.cm,d=u.display;s.updatedDisplay&&Wd(u),s.barMeasure=bf(u),d.maxLineChanged&&!u.options.lineWrapping&&(s.adjustWidthTo=X1(u,d.maxLine,d.maxLine.text.length).left+3,u.display.sizerWidth=s.adjustWidthTo,s.barMeasure.scrollWidth=Math.max(d.scroller.clientWidth,d.sizer.offsetLeft+s.adjustWidthTo+ao(u)+u.display.barWidth),s.maxScrollLeft=Math.max(0,d.sizer.offsetLeft+s.adjustWidthTo-ka(u))),(s.updatedDisplay||s.selectionChanged)&&(s.preparedSelection=d.input.prepareSelection())}function b3(s){var u=s.cm;s.adjustWidthTo!=null&&(u.display.sizer.style.minWidth=s.adjustWidthTo+"px",s.maxScrollLeft<u.doc.scrollLeft&&Ta(u,Math.min(u.display.scroller.scrollLeft,s.maxScrollLeft),!0),u.display.maxLineChanged=!1);var d=s.focus&&s.focus==Te();s.preparedSelection&&u.display.input.showSelection(s.preparedSelection,d),(s.updatedDisplay||s.startHeight!=u.doc.height)&&zl(u,s.barMeasure),s.updatedDisplay&&Xm(u,s.barMeasure),s.selectionChanged&&Vm(u),u.state.focused&&s.updateInput&&u.display.input.reset(s.typing),d&&cw(s.cm)}function _3(s){var u=s.cm,d=u.display,c=u.doc;if(s.updatedDisplay&&yw(u,s.update),d.wheelStartX!=null&&(s.scrollTop!=null||s.scrollLeft!=null||s.scrollToPos)&&(d.wheelStartX=d.wheelStartY=null),s.scrollTop!=null&&pw(u,s.scrollTop,s.forceScroll),s.scrollLeft!=null&&Ta(u,s.scrollLeft,!0,!0),s.scrollToPos){var g=c3(u,Ke(c,s.scrollToPos.from),Ke(c,s.scrollToPos.to),s.scrollToPos.margin);f3(u,g)}var y=s.maybeHiddenMarkers,w=s.maybeUnhiddenMarkers;if(y)for(var x=0;x<y.length;++x)y[x].lines.length||we(y[x],"hide");if(w)for(var T=0;T<w.length;++T)w[T].lines.length&&we(w[T],"unhide");d.wrapper.offsetHeight&&(c.scrollTop=u.display.scroller.scrollTop),s.changeObjs&&we(u,"changes",u,s.changeObjs),s.update&&s.update.finish()}function jr(s,u){if(s.curOp)return u();Aa(s);try{return u()}finally{Oa(s)}}function Hn(s,u){return function(){if(s.curOp)return u.apply(s,arguments);Aa(s);try{return u.apply(s,arguments)}finally{Oa(s)}}}function hr(s){return function(){if(this.curOp)return s.apply(this,arguments);Aa(this);try{return s.apply(this,arguments)}finally{Oa(this)}}}function jn(s){return function(){var u=this.cm;if(!u||u.curOp)return s.apply(this,arguments);Aa(u);try{return s.apply(this,arguments)}finally{Oa(u)}}}function wf(s,u){s.doc.highlightFrontier<s.display.viewTo&&s.state.highlight.set(u,Mt(w3,s))}function w3(s){var u=s.doc;if(!(u.highlightFrontier>=s.display.viewTo)){var d=+new Date+s.options.workTime,c=ff(s,u.highlightFrontier),g=[];u.iter(c.line,Math.min(u.first+u.size,s.display.viewTo+500),function(y){if(c.line>=s.display.viewFrom){var w=y.styles,x=y.text.length>s.options.maxHighlightLength?ti(u.mode,c.state):null,T=S1(s,y,c,!0);x&&(c.state=x),y.styles=T.styles;var M=y.styleClasses,G=T.classes;G?y.styleClasses=G:M&&(y.styleClasses=null);for(var te=!w||w.length!=y.styles.length||M!=G&&(!M||!G||M.bgClass!=G.bgClass||M.textClass!=G.textClass),ue=0;!te&&ue<w.length;++ue)te=w[ue]!=y.styles[ue];te&&g.push(c.line),y.stateAfter=c.save(),c.nextLine()}else y.text.length<=s.options.maxHighlightLength&&Cm(s,y.text,c),y.stateAfter=c.line%5==0?c.save():null,c.nextLine();if(+new Date>d)return wf(s,s.options.workDelay),!0}),u.highlightFrontier=c.line,u.modeFrontier=Math.max(u.modeFrontier,c.line),g.length&&jr(s,function(){for(var y=0;y<g.length;y++)ks(s,g[y],"text")})}}var qd=function(s,u,d){var c=s.display;this.viewport=u,this.visible=Ud(c,s.doc,u),this.editorIsHidden=!c.wrapper.offsetWidth,this.wrapperHeight=c.wrapper.clientHeight,this.wrapperWidth=c.wrapper.clientWidth,this.oldDisplayWidth=ka(s),this.force=d,this.dims=zm(s),this.events=[]};qd.prototype.signal=function(s,u){ct(s,u)&&this.events.push(arguments)},qd.prototype.finish=function(){for(var s=0;s<this.events.length;s++)we.apply(null,this.events[s])};function k3(s){var u=s.display;!u.scrollbarsClipped&&u.scroller.offsetWidth&&(u.nativeBarWidth=u.scroller.offsetWidth-u.scroller.clientWidth,u.heightForcer.style.height=ao(s)+"px",u.sizer.style.marginBottom=-u.nativeBarWidth+"px",u.sizer.style.borderRightWidth=ao(s)+"px",u.scrollbarsClipped=!0)}function x3(s){if(s.hasFocus())return null;var u=Te();if(!u||!pe(s.display.lineDiv,u))return null;var d={activeElt:u};if(window.getSelection){var c=window.getSelection();c.anchorNode&&c.extend&&pe(s.display.lineDiv,c.anchorNode)&&(d.anchorNode=c.anchorNode,d.anchorOffset=c.anchorOffset,d.focusNode=c.focusNode,d.focusOffset=c.focusOffset)}return d}function C3(s){if(!(!s||!s.activeElt||s.activeElt==Te())&&(s.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(s.activeElt.nodeName)&&s.anchorNode&&pe(document.body,s.anchorNode)&&pe(document.body,s.focusNode))){var u=window.getSelection(),d=document.createRange();d.setEnd(s.anchorNode,s.anchorOffset),d.collapse(!1),u.removeAllRanges(),u.addRange(d),u.extend(s.focusNode,s.focusOffset)}}function Gm(s,u){var d=s.display,c=s.doc;if(u.editorIsHidden)return xs(s),!1;if(!u.force&&u.visible.from>=d.viewFrom&&u.visible.to<=d.viewTo&&(d.updateLineNumbers==null||d.updateLineNumbers>=d.viewTo)&&d.renderedView==d.view&&uw(s)==0)return!1;_w(s)&&(xs(s),u.dims=zm(s));var g=c.first+c.size,y=Math.max(u.visible.from-s.options.viewportMargin,c.first),w=Math.min(g,u.visible.to+s.options.viewportMargin);d.viewFrom<y&&y-d.viewFrom<20&&(y=Math.max(c.first,d.viewFrom)),d.viewTo>w&&d.viewTo-w<20&&(w=Math.min(g,d.viewTo)),Lo&&(y=Am(s.doc,y),w=z1(s.doc,w));var x=y!=d.viewFrom||w!=d.viewTo||d.lastWrapHeight!=u.wrapperHeight||d.lastWrapWidth!=u.wrapperWidth;l3(s,y,w),d.viewOffset=Po(Ze(s.doc,d.viewFrom)),s.display.mover.style.top=d.viewOffset+"px";var T=uw(s);if(!x&&T==0&&!u.force&&d.renderedView==d.view&&(d.updateLineNumbers==null||d.updateLineNumbers>=d.viewTo))return!1;var M=x3(s);return T>4&&(d.lineDiv.style.display="none"),S3(s,d.updateLineNumbers,u.dims),T>4&&(d.lineDiv.style.display=""),d.renderedView=d.view,C3(M),Z(d.cursorDiv),Z(d.selectionDiv),d.gutters.style.height=d.sizer.style.minHeight=0,x&&(d.lastWrapHeight=u.wrapperHeight,d.lastWrapWidth=u.wrapperWidth,wf(s,400)),d.updateLineNumbers=null,!0}function yw(s,u){for(var d=u.viewport,c=!0;;c=!1){if(!c||!s.options.lineWrapping||u.oldDisplayWidth==ka(s)){if(d&&d.top!=null&&(d={top:Math.min(s.doc.height+Nm(s.display)-Lm(s),d.top)}),u.visible=Ud(s.display,s.doc,d),u.visible.from>=s.display.viewFrom&&u.visible.to<=s.display.viewTo)break}else c&&(u.visible=Ud(s.display,s.doc,d));if(!Gm(s,u))break;Wd(s);var g=bf(s);mf(s),zl(s,g),Xm(s,g),u.force=!1}u.signal(s,"update",s),(s.display.viewFrom!=s.display.reportedViewFrom||s.display.viewTo!=s.display.reportedViewTo)&&(u.signal(s,"viewportChange",s,s.display.viewFrom,s.display.viewTo),s.display.reportedViewFrom=s.display.viewFrom,s.display.reportedViewTo=s.display.viewTo)}function Jm(s,u){var d=new qd(s,u);if(Gm(s,d)){Wd(s),yw(s,d);var c=bf(s);mf(s),zl(s,c),Xm(s,c),d.finish()}}function S3(s,u,d){var c=s.display,g=s.options.lineNumbers,y=c.lineDiv,w=y.firstChild;function x(be){var Ee=be.nextSibling;return p&&O&&s.display.currentWheelTarget==be?be.style.display="none":be.parentNode.removeChild(be),Ee}for(var T=c.view,M=c.viewFrom,G=0;G<T.length;G++){var te=T[G];if(!te.hidden)if(!te.node||te.node.parentNode!=y){var ue=Z6(s,te,M,d);y.insertBefore(ue,w)}else{for(;w!=te.node;)w=x(w);var se=g&&u!=null&&u<=M&&te.lineNumber;te.changes&&(Re(te.changes,"gutter")>-1&&(se=!1),W1(s,te,M,d)),se&&(Z(te.lineNumber),te.lineNumber.appendChild(document.createTextNode(uf(s.options,M)))),w=te.node.nextSibling}M+=te.size}for(;w;)w=x(w)}function Ym(s){var u=s.gutters.offsetWidth;s.sizer.style.marginLeft=u+"px",$n(s,"gutterChanged",s)}function Xm(s,u){s.display.sizer.style.minHeight=u.docHeight+"px",s.display.heightForcer.style.top=u.docHeight+"px",s.display.gutters.style.height=u.docHeight+s.display.barHeight+ao(s)+"px"}function bw(s){var u=s.display,d=u.view;if(!(!u.alignWidgets&&(!u.gutters.firstChild||!s.options.fixedGutter))){for(var c=$m(u)-u.scroller.scrollLeft+s.doc.scrollLeft,g=u.gutters.offsetWidth,y=c+"px",w=0;w<d.length;w++)if(!d[w].hidden){s.options.fixedGutter&&(d[w].gutter&&(d[w].gutter.style.left=y),d[w].gutterBackground&&(d[w].gutterBackground.style.left=y));var x=d[w].alignable;if(x)for(var T=0;T<x.length;T++)x[T].style.left=y}s.options.fixedGutter&&(u.gutters.style.left=c+g+"px")}}function _w(s){if(!s.options.lineNumbers)return!1;var u=s.doc,d=uf(s.options,u.first+u.size-1),c=s.display;if(d.length!=c.lineNumChars){var g=c.measure.appendChild(ie("div",[ie("div",d)],"CodeMirror-linenumber CodeMirror-gutter-elt")),y=g.firstChild.offsetWidth,w=g.offsetWidth-y;return c.lineGutter.style.width="",c.lineNumInnerWidth=Math.max(y,c.lineGutter.offsetWidth-w)+1,c.lineNumWidth=c.lineNumInnerWidth+w,c.lineNumChars=c.lineNumInnerWidth?d.length:-1,c.lineGutter.style.width=c.lineNumWidth+"px",Ym(s.display),!0}return!1}function Zm(s,u){for(var d=[],c=!1,g=0;g<s.length;g++){var y=s[g],w=null;if(typeof y!="string"&&(w=y.style,y=y.className),y=="CodeMirror-linenumbers")if(u)c=!0;else continue;d.push({className:y,style:w})}return u&&!c&&d.push({className:"CodeMirror-linenumbers",style:null}),d}function ww(s){var u=s.gutters,d=s.gutterSpecs;Z(u),s.lineGutter=null;for(var c=0;c<d.length;++c){var g=d[c],y=g.className,w=g.style,x=u.appendChild(ie("div",null,"CodeMirror-gutter "+y));w&&(x.style.cssText=w),y=="CodeMirror-linenumbers"&&(s.lineGutter=x,x.style.width=(s.lineNumWidth||1)+"px")}u.style.display=d.length?"":"none",Ym(s)}function kf(s){ww(s.display),Dr(s),bw(s)}function T3(s,u,d,c){var g=this;this.input=d,g.scrollbarFiller=ie("div",null,"CodeMirror-scrollbar-filler"),g.scrollbarFiller.setAttribute("cm-not-content","true"),g.gutterFiller=ie("div",null,"CodeMirror-gutter-filler"),g.gutterFiller.setAttribute("cm-not-content","true"),g.lineDiv=L("div",null,"CodeMirror-code"),g.selectionDiv=ie("div",null,null,"position: relative; z-index: 1"),g.cursorDiv=ie("div",null,"CodeMirror-cursors"),g.measure=ie("div",null,"CodeMirror-measure"),g.lineMeasure=ie("div",null,"CodeMirror-measure"),g.lineSpace=L("div",[g.measure,g.lineMeasure,g.selectionDiv,g.cursorDiv,g.lineDiv],null,"position: relative; outline: none");var y=L("div",[g.lineSpace],"CodeMirror-lines");g.mover=ie("div",[y],null,"position: relative"),g.sizer=ie("div",[g.mover],"CodeMirror-sizer"),g.sizerWidth=null,g.heightForcer=ie("div",null,null,"position: absolute; height: "+Ce+"px; width: 1px;"),g.gutters=ie("div",null,"CodeMirror-gutters"),g.lineGutter=null,g.scroller=ie("div",[g.sizer,g.heightForcer,g.gutters],"CodeMirror-scroll"),g.scroller.setAttribute("tabIndex","-1"),g.wrapper=ie("div",[g.scrollbarFiller,g.gutterFiller,g.scroller],"CodeMirror"),g.wrapper.setAttribute("translate","no"),f&&h<8&&(g.gutters.style.zIndex=-1,g.scroller.style.paddingRight=0),!p&&!(i&&F)&&(g.scroller.draggable=!0),s&&(s.appendChild?s.appendChild(g.wrapper):s(g.wrapper)),g.viewFrom=g.viewTo=u.first,g.reportedViewFrom=g.reportedViewTo=u.first,g.view=[],g.renderedView=null,g.externalMeasured=null,g.viewOffset=0,g.lastWrapHeight=g.lastWrapWidth=0,g.updateLineNumbers=null,g.nativeBarWidth=g.barHeight=g.barWidth=0,g.scrollbarsClipped=!1,g.lineNumWidth=g.lineNumInnerWidth=g.lineNumChars=null,g.alignWidgets=!1,g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.maxLine=null,g.maxLineLength=0,g.maxLineChanged=!1,g.wheelDX=g.wheelDY=g.wheelStartX=g.wheelStartY=null,g.shift=!1,g.selForContextMenu=null,g.activeTouch=null,g.gutterSpecs=Zm(c.gutters,c.lineNumbers),ww(g),d.init(g)}var Gd=0,Fo=null;f?Fo=-.53:i?Fo=15:v?Fo=-.7:_&&(Fo=-1/3);function kw(s){var u=s.wheelDeltaX,d=s.wheelDeltaY;return u==null&&s.detail&&s.axis==s.HORIZONTAL_AXIS&&(u=s.detail),d==null&&s.detail&&s.axis==s.VERTICAL_AXIS?d=s.detail:d==null&&(d=s.wheelDelta),{x:u,y:d}}function E3(s){var u=kw(s);return u.x*=Fo,u.y*=Fo,u}function xw(s,u){var d=kw(u),c=d.x,g=d.y,y=Fo;u.deltaMode===0&&(c=u.deltaX,g=u.deltaY,y=1);var w=s.display,x=w.scroller,T=x.scrollWidth>x.clientWidth,M=x.scrollHeight>x.clientHeight;if(!!(c&&T||g&&M)){if(g&&O&&p){e:for(var G=u.target,te=w.view;G!=x;G=G.parentNode)for(var ue=0;ue<te.length;ue++)if(te[ue].node==G){s.display.currentWheelTarget=G;break e}}if(c&&!i&&!b&&y!=null){g&&M&&yf(s,Math.max(0,x.scrollTop+g*y)),Ta(s,Math.max(0,x.scrollLeft+c*y)),(!g||g&&M)&&zt(u),w.wheelStartX=null;return}if(g&&y!=null){var se=g*y,be=s.doc.scrollTop,Ee=be+w.wrapper.clientHeight;se<0?be=Math.max(0,be+se-50):Ee=Math.min(s.doc.height,Ee+se+50),Jm(s,{top:be,bottom:Ee})}Gd<20&&u.deltaMode!==0&&(w.wheelStartX==null?(w.wheelStartX=x.scrollLeft,w.wheelStartY=x.scrollTop,w.wheelDX=c,w.wheelDY=g,setTimeout(function(){if(w.wheelStartX!=null){var Pe=x.scrollLeft-w.wheelStartX,Be=x.scrollTop-w.wheelStartY,He=Be&&w.wheelDY&&Be/w.wheelDY||Pe&&w.wheelDX&&Pe/w.wheelDX;w.wheelStartX=w.wheelStartY=null,He&&(Fo=(Fo*Gd+He)/(Gd+1),++Gd)}},200)):(w.wheelDX+=c,w.wheelDY+=g))}}var ri=function(s,u){this.ranges=s,this.primIndex=u};ri.prototype.primary=function(){return this.ranges[this.primIndex]},ri.prototype.equals=function(s){if(s==this)return!0;if(s.primIndex!=this.primIndex||s.ranges.length!=this.ranges.length)return!1;for(var u=0;u<this.ranges.length;u++){var d=this.ranges[u],c=s.ranges[u];if(!ne(d.anchor,c.anchor)||!ne(d.head,c.head))return!1}return!0},ri.prototype.deepCopy=function(){for(var s=[],u=0;u<this.ranges.length;u++)s[u]=new Ht(ke(this.ranges[u].anchor),ke(this.ranges[u].head));return new ri(s,this.primIndex)},ri.prototype.somethingSelected=function(){for(var s=0;s<this.ranges.length;s++)if(!this.ranges[s].empty())return!0;return!1},ri.prototype.contains=function(s,u){u||(u=s);for(var d=0;d<this.ranges.length;d++){var c=this.ranges[d];if(N(u,c.from())>=0&&N(s,c.to())<=0)return d}return-1};var Ht=function(s,u){this.anchor=s,this.head=u};Ht.prototype.from=function(){return ft(this.anchor,this.head)},Ht.prototype.to=function(){return Me(this.anchor,this.head)},Ht.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Hi(s,u,d){var c=s&&s.options.selectionsMayTouch,g=u[d];u.sort(function(ue,se){return N(ue.from(),se.from())}),d=Re(u,g);for(var y=1;y<u.length;y++){var w=u[y],x=u[y-1],T=N(x.to(),w.from());if(c&&!w.empty()?T>0:T>=0){var M=ft(x.from(),w.from()),G=Me(x.to(),w.to()),te=x.empty()?w.from()==w.head:x.from()==x.head;y<=d&&--d,u.splice(--y,2,new Ht(te?G:M,te?M:G))}}return new ri(u,d)}function Cs(s,u){return new ri([new Ht(s,u||s)],0)}function Ss(s){return s.text?Oe(s.from.line+s.text.length-1,fe(s.text).length+(s.text.length==1?s.from.ch:0)):s.to}function Cw(s,u){if(N(s,u.from)<0)return s;if(N(s,u.to)<=0)return Ss(u);var d=s.line+u.text.length-(u.to.line-u.from.line)-1,c=s.ch;return s.line==u.to.line&&(c+=Ss(u).ch-u.to.ch),Oe(d,c)}function Qm(s,u){for(var d=[],c=0;c<s.sel.ranges.length;c++){var g=s.sel.ranges[c];d.push(new Ht(Cw(g.anchor,u),Cw(g.head,u)))}return Hi(s.cm,d,s.sel.primIndex)}function Sw(s,u,d){return s.line==u.line?Oe(d.line,s.ch-u.ch+d.ch):Oe(d.line+(s.line-u.line),s.ch)}function A3(s,u,d){for(var c=[],g=Oe(s.first,0),y=g,w=0;w<u.length;w++){var x=u[w],T=Sw(x.from,g,y),M=Sw(Ss(x),g,y);if(g=x.to,y=M,d=="around"){var G=s.sel.ranges[w],te=N(G.head,G.anchor)<0;c[w]=new Ht(te?M:T,te?T:M)}else c[w]=new Ht(T,T)}return new ri(c,s.sel.primIndex)}function ev(s){s.doc.mode=Dl(s.options,s.doc.modeOption),xf(s)}function xf(s){s.doc.iter(function(u){u.stateAfter&&(u.stateAfter=null),u.styles&&(u.styles=null)}),s.doc.modeFrontier=s.doc.highlightFrontier=s.doc.first,wf(s,100),s.state.modeGen++,s.curOp&&Dr(s)}function Tw(s,u){return u.from.ch==0&&u.to.ch==0&&fe(u.text)==""&&(!s.cm||s.cm.options.wholeLineUpdateBefore)}function tv(s,u,d,c){function g(He){return d?d[He]:null}function y(He,ze,Ge){F6(He,ze,Ge,c),$n(He,"change",He,u)}function w(He,ze){for(var Ge=[],ot=He;ot<ze;++ot)Ge.push(new Nl(M[ot],g(ot),c));return Ge}var x=u.from,T=u.to,M=u.text,G=Ze(s,x.line),te=Ze(s,T.line),ue=fe(M),se=g(M.length-1),be=T.line-x.line;if(u.full)s.insert(0,w(0,M.length)),s.remove(M.length,s.size-M.length);else if(Tw(s,u)){var Ee=w(0,M.length-1);y(te,te.text,se),be&&s.remove(x.line,be),Ee.length&&s.insert(x.line,Ee)}else if(G==te)if(M.length==1)y(G,G.text.slice(0,x.ch)+ue+G.text.slice(T.ch),se);else{var Pe=w(1,M.length-1);Pe.push(new Nl(ue+G.text.slice(T.ch),se,c)),y(G,G.text.slice(0,x.ch)+M[0],g(0)),s.insert(x.line+1,Pe)}else if(M.length==1)y(G,G.text.slice(0,x.ch)+M[0]+te.text.slice(T.ch),g(0)),s.remove(x.line+1,be);else{y(G,G.text.slice(0,x.ch)+M[0],g(0)),y(te,ue+te.text.slice(T.ch),se);var Be=w(1,M.length-1);be>1&&s.remove(x.line+1,be-1),s.insert(x.line+1,Be)}$n(s,"change",s,u)}function Ts(s,u,d){function c(g,y,w){if(g.linked)for(var x=0;x<g.linked.length;++x){var T=g.linked[x];if(T.doc!=y){var M=w&&T.sharedHist;d&&!M||(u(T.doc,M),c(T.doc,g,M))}}}c(s,null,!0)}function Ew(s,u){if(u.cm)throw new Error("This document is already in use.");s.doc=u,u.cm=s,Hm(s),ev(s),Aw(s),s.options.direction=u.direction,s.options.lineWrapping||Dm(s),s.options.mode=u.modeOption,Dr(s)}function Aw(s){(s.doc.direction=="rtl"?We:V)(s.display.lineDiv,"CodeMirror-rtl")}function O3(s){jr(s,function(){Aw(s),Dr(s)})}function Jd(s){this.done=[],this.undone=[],this.undoDepth=s?s.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=s?s.maxGeneration:1}function nv(s,u){var d={from:ke(u.from),to:Ss(u),text:io(s,u.from,u.to)};return Mw(s,d,u.from.line,u.to.line+1),Ts(s,function(c){return Mw(c,d,u.from.line,u.to.line+1)},!0),d}function Ow(s){for(;s.length;){var u=fe(s);if(u.ranges)s.pop();else break}}function D3(s,u){if(u)return Ow(s.done),fe(s.done);if(s.done.length&&!fe(s.done).ranges)return fe(s.done);if(s.done.length>1&&!s.done[s.done.length-2].ranges)return s.done.pop(),fe(s.done)}function Dw(s,u,d,c){var g=s.history;g.undone.length=0;var y=+new Date,w,x;if((g.lastOp==c||g.lastOrigin==u.origin&&u.origin&&(u.origin.charAt(0)=="+"&&g.lastModTime>y-(s.cm?s.cm.options.historyEventDelay:500)||u.origin.charAt(0)=="*"))&&(w=D3(g,g.lastOp==c)))x=fe(w.changes),N(u.from,u.to)==0&&N(u.from,x.to)==0?x.to=Ss(u):w.changes.push(nv(s,u));else{var T=fe(g.done);for((!T||!T.ranges)&&Yd(s.sel,g.done),w={changes:[nv(s,u)],generation:g.generation},g.done.push(w);g.done.length>g.undoDepth;)g.done.shift(),g.done[0].ranges||g.done.shift()}g.done.push(d),g.generation=++g.maxGeneration,g.lastModTime=g.lastSelTime=y,g.lastOp=g.lastSelOp=c,g.lastOrigin=g.lastSelOrigin=u.origin,x||we(s,"historyAdded")}function M3(s,u,d,c){var g=u.charAt(0);return g=="*"||g=="+"&&d.ranges.length==c.ranges.length&&d.somethingSelected()==c.somethingSelected()&&new Date-s.history.lastSelTime<=(s.cm?s.cm.options.historyEventDelay:500)}function N3(s,u,d,c){var g=s.history,y=c&&c.origin;d==g.lastSelOp||y&&g.lastSelOrigin==y&&(g.lastModTime==g.lastSelTime&&g.lastOrigin==y||M3(s,y,fe(g.done),u))?g.done[g.done.length-1]=u:Yd(u,g.done),g.lastSelTime=+new Date,g.lastSelOrigin=y,g.lastSelOp=d,c&&c.clearRedo!==!1&&Ow(g.undone)}function Yd(s,u){var d=fe(u);d&&d.ranges&&d.equals(s)||u.push(s)}function Mw(s,u,d,c){var g=u["spans_"+s.id],y=0;s.iter(Math.max(s.first,d),Math.min(s.first+s.size,c),function(w){w.markedSpans&&((g||(g=u["spans_"+s.id]={}))[y]=w.markedSpans),++y})}function L3(s){if(!s)return null;for(var u,d=0;d<s.length;++d)s[d].marker.explicitlyCleared?u||(u=s.slice(0,d)):u&&u.push(s[d]);return u?u.length?u:null:s}function P3(s,u){var d=u["spans_"+s.id];if(!d)return null;for(var c=[],g=0;g<u.text.length;++g)c.push(L3(d[g]));return c}function Nw(s,u){var d=P3(s,u),c=Tm(s,u);if(!d)return c;if(!c)return d;for(var g=0;g<d.length;++g){var y=d[g],w=c[g];if(y&&w){e:for(var x=0;x<w.length;++x){for(var T=w[x],M=0;M<y.length;++M)if(y[M].marker==T.marker)continue e;y.push(T)}}else w&&(d[g]=w)}return d}function $l(s,u,d){for(var c=[],g=0;g<s.length;++g){var y=s[g];if(y.ranges){c.push(d?ri.prototype.deepCopy.call(y):y);continue}var w=y.changes,x=[];c.push({changes:x});for(var T=0;T<w.length;++T){var M=w[T],G=void 0;if(x.push({from:M.from,to:M.to,text:M.text}),u)for(var te in M)(G=te.match(/^spans_(\d+)$/))&&Re(u,Number(G[1]))>-1&&(fe(x)[te]=M[te],delete M[te])}}return c}function rv(s,u,d,c){if(c){var g=s.anchor;if(d){var y=N(u,g)<0;y!=N(d,g)<0?(g=u,u=d):y!=N(u,d)<0&&(u=d)}return new Ht(g,u)}else return new Ht(d||u,u)}function Xd(s,u,d,c,g){g==null&&(g=s.cm&&(s.cm.display.shift||s.extend)),nr(s,new ri([rv(s.sel.primary(),u,d,g)],0),c)}function Lw(s,u,d){for(var c=[],g=s.cm&&(s.cm.display.shift||s.extend),y=0;y<s.sel.ranges.length;y++)c[y]=rv(s.sel.ranges[y],u[y],null,g);var w=Hi(s.cm,c,s.sel.primIndex);nr(s,w,d)}function iv(s,u,d,c){var g=s.sel.ranges.slice(0);g[u]=d,nr(s,Hi(s.cm,g,s.sel.primIndex),c)}function Pw(s,u,d,c){nr(s,Cs(u,d),c)}function I3(s,u,d){var c={ranges:u.ranges,update:function(g){this.ranges=[];for(var y=0;y<g.length;y++)this.ranges[y]=new Ht(Ke(s,g[y].anchor),Ke(s,g[y].head))},origin:d&&d.origin};return we(s,"beforeSelectionChange",s,c),s.cm&&we(s.cm,"beforeSelectionChange",s.cm,c),c.ranges!=u.ranges?Hi(s.cm,c.ranges,c.ranges.length-1):u}function Iw(s,u,d){var c=s.history.done,g=fe(c);g&&g.ranges?(c[c.length-1]=u,Zd(s,u,d)):nr(s,u,d)}function nr(s,u,d){Zd(s,u,d),N3(s,s.sel,s.cm?s.cm.curOp.id:NaN,d)}function Zd(s,u,d){(ct(s,"beforeSelectionChange")||s.cm&&ct(s.cm,"beforeSelectionChange"))&&(u=I3(s,u,d));var c=d&&d.bias||(N(u.primary().head,s.sel.primary().head)<0?-1:1);Fw(s,Bw(s,u,c,!0)),!(d&&d.scroll===!1)&&s.cm&&s.cm.getOption("readOnly")!="nocursor"&&Bl(s.cm)}function Fw(s,u){u.equals(s.sel)||(s.sel=u,s.cm&&(s.cm.curOp.updateInput=1,s.cm.curOp.selectionChanged=!0,Yt(s.cm)),$n(s,"cursorActivity",s))}function Rw(s){Fw(s,Bw(s,s.sel,null,!1))}function Bw(s,u,d,c){for(var g,y=0;y<u.ranges.length;y++){var w=u.ranges[y],x=u.ranges.length==s.sel.ranges.length&&s.sel.ranges[y],T=Qd(s,w.anchor,x&&x.anchor,d,c),M=Qd(s,w.head,x&&x.head,d,c);(g||T!=w.anchor||M!=w.head)&&(g||(g=u.ranges.slice(0,y)),g[y]=new Ht(T,M))}return g?Hi(s.cm,g,u.primIndex):u}function Hl(s,u,d,c,g){var y=Ze(s,u.line);if(y.markedSpans)for(var w=0;w<y.markedSpans.length;++w){var x=y.markedSpans[w],T=x.marker,M="selectLeft"in T?!T.selectLeft:T.inclusiveLeft,G="selectRight"in T?!T.selectRight:T.inclusiveRight;if((x.from==null||(M?x.from<=u.ch:x.from<u.ch))&&(x.to==null||(G?x.to>=u.ch:x.to>u.ch))){if(g&&(we(T,"beforeCursorEnter"),T.explicitlyCleared))if(y.markedSpans){--w;continue}else break;if(!T.atomic)continue;if(d){var te=T.find(c<0?1:-1),ue=void 0;if((c<0?G:M)&&(te=zw(s,te,-c,te&&te.line==u.line?y:null)),te&&te.line==u.line&&(ue=N(te,d))&&(c<0?ue<0:ue>0))return Hl(s,te,u,c,g)}var se=T.find(c<0?-1:1);return(c<0?M:G)&&(se=zw(s,se,c,se.line==u.line?y:null)),se?Hl(s,se,u,c,g):null}}return u}function Qd(s,u,d,c,g){var y=c||1,w=Hl(s,u,d,y,g)||!g&&Hl(s,u,d,y,!0)||Hl(s,u,d,-y,g)||!g&&Hl(s,u,d,-y,!0);return w||(s.cantEdit=!0,Oe(s.first,0))}function zw(s,u,d,c){return d<0&&u.ch==0?u.line>s.first?Ke(s,Oe(u.line-1)):null:d>0&&u.ch==(c||Ze(s,u.line)).text.length?u.line<s.first+s.size-1?Oe(u.line+1,0):null:new Oe(u.line,u.ch+d)}function $w(s){s.setSelection(Oe(s.firstLine(),0),Oe(s.lastLine()),je)}function Hw(s,u,d){var c={canceled:!1,from:u.from,to:u.to,text:u.text,origin:u.origin,cancel:function(){return c.canceled=!0}};return d&&(c.update=function(g,y,w,x){g&&(c.from=Ke(s,g)),y&&(c.to=Ke(s,y)),w&&(c.text=w),x!==void 0&&(c.origin=x)}),we(s,"beforeChange",s,c),s.cm&&we(s.cm,"beforeChange",s.cm,c),c.canceled?(s.cm&&(s.cm.curOp.updateInput=2),null):{from:c.from,to:c.to,text:c.text,origin:c.origin}}function jl(s,u,d){if(s.cm){if(!s.cm.curOp)return Hn(s.cm,jl)(s,u,d);if(s.cm.state.suppressEdits)return}if(!((ct(s,"beforeChange")||s.cm&&ct(s.cm,"beforeChange"))&&(u=Hw(s,u,!0),!u))){var c=N1&&!d&&N6(s,u.from,u.to);if(c)for(var g=c.length-1;g>=0;--g)jw(s,{from:c[g].from,to:c[g].to,text:g?[""]:u.text,origin:u.origin});else jw(s,u)}}function jw(s,u){if(!(u.text.length==1&&u.text[0]==""&&N(u.from,u.to)==0)){var d=Qm(s,u);Dw(s,u,d,s.cm?s.cm.curOp.id:NaN),Cf(s,u,d,Tm(s,u));var c=[];Ts(s,function(g,y){!y&&Re(c,g.history)==-1&&(Kw(g.history,u),c.push(g.history)),Cf(g,u,null,Tm(g,u))})}}function eh(s,u,d){var c=s.cm&&s.cm.state.suppressEdits;if(!(c&&!d)){for(var g=s.history,y,w=s.sel,x=u=="undo"?g.done:g.undone,T=u=="undo"?g.undone:g.done,M=0;M<x.length&&(y=x[M],!(d?y.ranges&&!y.equals(s.sel):!y.ranges));M++);if(M!=x.length){for(g.lastOrigin=g.lastSelOrigin=null;;)if(y=x.pop(),y.ranges){if(Yd(y,T),d&&!y.equals(s.sel)){nr(s,y,{clearRedo:!1});return}w=y}else if(c){x.push(y);return}else break;var G=[];Yd(w,T),T.push({changes:G,generation:g.generation}),g.generation=y.generation||++g.maxGeneration;for(var te=ct(s,"beforeChange")||s.cm&&ct(s.cm,"beforeChange"),ue=function(Ee){var Pe=y.changes[Ee];if(Pe.origin=u,te&&!Hw(s,Pe,!1))return x.length=0,{};G.push(nv(s,Pe));var Be=Ee?Qm(s,Pe):fe(x);Cf(s,Pe,Be,Nw(s,Pe)),!Ee&&s.cm&&s.cm.scrollIntoView({from:Pe.from,to:Ss(Pe)});var He=[];Ts(s,function(ze,Ge){!Ge&&Re(He,ze.history)==-1&&(Kw(ze.history,Pe),He.push(ze.history)),Cf(ze,Pe,null,Nw(ze,Pe))})},se=y.changes.length-1;se>=0;--se){var be=ue(se);if(be)return be.v}}}}function Vw(s,u){if(u!=0&&(s.first+=u,s.sel=new ri(ge(s.sel.ranges,function(g){return new Ht(Oe(g.anchor.line+u,g.anchor.ch),Oe(g.head.line+u,g.head.ch))}),s.sel.primIndex),s.cm)){Dr(s.cm,s.first,s.first-u,u);for(var d=s.cm.display,c=d.viewFrom;c<d.viewTo;c++)ks(s.cm,c,"gutter")}}function Cf(s,u,d,c){if(s.cm&&!s.cm.curOp)return Hn(s.cm,Cf)(s,u,d,c);if(u.to.line<s.first){Vw(s,u.text.length-1-(u.to.line-u.from.line));return}if(!(u.from.line>s.lastLine())){if(u.from.line<s.first){var g=u.text.length-1-(s.first-u.from.line);Vw(s,g),u={from:Oe(s.first,0),to:Oe(u.to.line+g,u.to.ch),text:[fe(u.text)],origin:u.origin}}var y=s.lastLine();u.to.line>y&&(u={from:u.from,to:Oe(y,Ze(s,y).text.length),text:[u.text[0]],origin:u.origin}),u.removed=io(s,u.from,u.to),d||(d=Qm(s,u)),s.cm?F3(s.cm,u,c):tv(s,u,c),Zd(s,d,je),s.cantEdit&&Qd(s,Oe(s.firstLine(),0))&&(s.cantEdit=!1)}}function F3(s,u,d){var c=s.doc,g=s.display,y=u.from,w=u.to,x=!1,T=y.line;s.options.lineWrapping||(T=$t(zi(Ze(c,y.line))),c.iter(T,w.line+1,function(se){if(se==g.maxLine)return x=!0,!0})),c.sel.contains(u.from,u.to)>-1&&Yt(s),tv(c,u,d,lw(s)),s.options.lineWrapping||(c.iter(T,y.line+u.text.length,function(se){var be=Rd(se);be>g.maxLineLength&&(g.maxLine=se,g.maxLineLength=be,g.maxLineChanged=!0,x=!1)}),x&&(s.curOp.updateMaxLine=!0)),S6(c,y.line),wf(s,400);var M=u.text.length-(w.line-y.line)-1;u.full?Dr(s):y.line==w.line&&u.text.length==1&&!Tw(s.doc,u)?ks(s,y.line,"text"):Dr(s,y.line,w.line+1,M);var G=ct(s,"changes"),te=ct(s,"change");if(te||G){var ue={from:y,to:w,text:u.text,removed:u.removed,origin:u.origin};te&&$n(s,"change",s,ue),G&&(s.curOp.changeObjs||(s.curOp.changeObjs=[])).push(ue)}s.display.selForContextMenu=null}function Vl(s,u,d,c,g){var y;c||(c=d),N(c,d)<0&&(y=[c,d],d=y[0],c=y[1]),typeof u=="string"&&(u=s.splitLines(u)),jl(s,{from:d,to:c,text:u,origin:g})}function Ww(s,u,d,c){d<s.line?s.line+=c:u<s.line&&(s.line=u,s.ch=0)}function Uw(s,u,d,c){for(var g=0;g<s.length;++g){var y=s[g],w=!0;if(y.ranges){y.copied||(y=s[g]=y.deepCopy(),y.copied=!0);for(var x=0;x<y.ranges.length;x++)Ww(y.ranges[x].anchor,u,d,c),Ww(y.ranges[x].head,u,d,c);continue}for(var T=0;T<y.changes.length;++T){var M=y.changes[T];if(d<M.from.line)M.from=Oe(M.from.line+c,M.from.ch),M.to=Oe(M.to.line+c,M.to.ch);else if(u<=M.to.line){w=!1;break}}w||(s.splice(0,g+1),g=0)}}function Kw(s,u){var d=u.from.line,c=u.to.line,g=u.text.length-(c-d)-1;Uw(s.done,d,c,g),Uw(s.undone,d,c,g)}function Sf(s,u,d,c){var g=u,y=u;return typeof u=="number"?y=Ze(s,Nt(s,u)):g=$t(u),g==null?null:(c(y,g)&&s.cm&&ks(s.cm,g,d),y)}function Tf(s){this.lines=s,this.parent=null;for(var u=0,d=0;d<s.length;++d)s[d].parent=this,u+=s[d].height;this.height=u}Tf.prototype={chunkSize:function(){return this.lines.length},removeInner:function(s,u){for(var d=s,c=s+u;d<c;++d){var g=this.lines[d];this.height-=g.height,R6(g),$n(g,"delete")}this.lines.splice(s,u)},collapse:function(s){s.push.apply(s,this.lines)},insertInner:function(s,u,d){this.height+=d,this.lines=this.lines.slice(0,s).concat(u).concat(this.lines.slice(s));for(var c=0;c<u.length;++c)u[c].parent=this},iterN:function(s,u,d){for(var c=s+u;s<c;++s)if(d(this.lines[s]))return!0}};function Ef(s){this.children=s;for(var u=0,d=0,c=0;c<s.length;++c){var g=s[c];u+=g.chunkSize(),d+=g.height,g.parent=this}this.size=u,this.height=d,this.parent=null}Ef.prototype={chunkSize:function(){return this.size},removeInner:function(s,u){this.size-=u;for(var d=0;d<this.children.length;++d){var c=this.children[d],g=c.chunkSize();if(s<g){var y=Math.min(u,g-s),w=c.height;if(c.removeInner(s,y),this.height-=w-c.height,g==y&&(this.children.splice(d--,1),c.parent=null),(u-=y)==0)break;s=0}else s-=g}if(this.size-u<25&&(this.children.length>1||!(this.children[0]instanceof Tf))){var x=[];this.collapse(x),this.children=[new Tf(x)],this.children[0].parent=this}},collapse:function(s){for(var u=0;u<this.children.length;++u)this.children[u].collapse(s)},insertInner:function(s,u,d){this.size+=u.length,this.height+=d;for(var c=0;c<this.children.length;++c){var g=this.children[c],y=g.chunkSize();if(s<=y){if(g.insertInner(s,u,d),g.lines&&g.lines.length>50){for(var w=g.lines.length%25+25,x=w;x<g.lines.length;){var T=new Tf(g.lines.slice(x,x+=25));g.height-=T.height,this.children.splice(++c,0,T),T.parent=this}g.lines=g.lines.slice(0,w),this.maybeSpill()}break}s-=y}},maybeSpill:function(){if(!(this.children.length<=10)){var s=this;do{var u=s.children.splice(s.children.length-5,5),d=new Ef(u);if(s.parent){s.size-=d.size,s.height-=d.height;var g=Re(s.parent.children,s);s.parent.children.splice(g+1,0,d)}else{var c=new Ef(s.children);c.parent=s,s.children=[c,d],s=c}d.parent=s.parent}while(s.children.length>10);s.parent.maybeSpill()}},iterN:function(s,u,d){for(var c=0;c<this.children.length;++c){var g=this.children[c],y=g.chunkSize();if(s<y){var w=Math.min(u,y-s);if(g.iterN(s,w,d))return!0;if((u-=w)==0)break;s=0}else s-=y}}};var Af=function(s,u,d){if(d)for(var c in d)d.hasOwnProperty(c)&&(this[c]=d[c]);this.doc=s,this.node=u};Af.prototype.clear=function(){var s=this.doc.cm,u=this.line.widgets,d=this.line,c=$t(d);if(!(c==null||!u)){for(var g=0;g<u.length;++g)u[g]==this&&u.splice(g--,1);u.length||(d.widgets=null);var y=pf(this);Hr(d,Math.max(0,d.height-y)),s&&(jr(s,function(){qw(s,d,-y),ks(s,c,"widget")}),$n(s,"lineWidgetCleared",s,this,c))}},Af.prototype.changed=function(){var s=this,u=this.height,d=this.doc.cm,c=this.line;this.height=null;var g=pf(this)-u;!g||(ws(this.doc,c)||Hr(c,c.height+g),d&&jr(d,function(){d.curOp.forceUpdate=!0,qw(d,c,g),$n(d,"lineWidgetChanged",d,s,$t(c))}))},Bt(Af);function qw(s,u,d){Po(u)<(s.curOp&&s.curOp.scrollTop||s.doc.scrollTop)&&qm(s,d)}function R3(s,u,d,c){var g=new Af(s,d,c),y=s.cm;return y&&g.noHScroll&&(y.display.alignWidgets=!0),Sf(s,u,"widget",function(w){var x=w.widgets||(w.widgets=[]);if(g.insertAt==null?x.push(g):x.splice(Math.min(x.length,Math.max(0,g.insertAt)),0,g),g.line=w,y&&!ws(s,w)){var T=Po(w)<s.scrollTop;Hr(w,w.height+pf(g)),T&&qm(y,g.height),y.curOp.forceUpdate=!0}return!0}),y&&$n(y,"lineWidgetAdded",y,g,typeof u=="number"?u:$t(u)),g}var Gw=0,Es=function(s,u){this.lines=[],this.type=u,this.doc=s,this.id=++Gw};Es.prototype.clear=function(){if(!this.explicitlyCleared){var s=this.doc.cm,u=s&&!s.curOp;if(u&&Aa(s),ct(this,"clear")){var d=this.find();d&&$n(this,"clear",d.from,d.to)}for(var c=null,g=null,y=0;y<this.lines.length;++y){var w=this.lines[y],x=cf(w.markedSpans,this);s&&!this.collapsed?ks(s,$t(w),"text"):s&&(x.to!=null&&(g=$t(w)),x.from!=null&&(c=$t(w))),w.markedSpans=A6(w.markedSpans,x),x.from==null&&this.collapsed&&!ws(this.doc,w)&&s&&Hr(w,Il(s.display))}if(s&&this.collapsed&&!s.options.lineWrapping)for(var T=0;T<this.lines.length;++T){var M=zi(this.lines[T]),G=Rd(M);G>s.display.maxLineLength&&(s.display.maxLine=M,s.display.maxLineLength=G,s.display.maxLineChanged=!0)}c!=null&&s&&this.collapsed&&Dr(s,c,g+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,s&&Rw(s.doc)),s&&$n(s,"markerCleared",s,this,c,g),u&&Oa(s),this.parent&&this.parent.clear()}},Es.prototype.find=function(s,u){s==null&&this.type=="bookmark"&&(s=1);for(var d,c,g=0;g<this.lines.length;++g){var y=this.lines[g],w=cf(y.markedSpans,this);if(w.from!=null&&(d=Oe(u?y:$t(y),w.from),s==-1))return d;if(w.to!=null&&(c=Oe(u?y:$t(y),w.to),s==1))return c}return d&&{from:d,to:c}},Es.prototype.changed=function(){var s=this,u=this.find(-1,!0),d=this,c=this.doc.cm;!u||!c||jr(c,function(){var g=u.line,y=$t(u.line),w=Pm(c,y);if(w&&(ew(w),c.curOp.selectionChanged=c.curOp.forceUpdate=!0),c.curOp.updateMaxLine=!0,!ws(d.doc,g)&&d.height!=null){var x=d.height;d.height=null;var T=pf(d)-x;T&&Hr(g,g.height+T)}$n(c,"markerChanged",c,s)})},Es.prototype.attachLine=function(s){if(!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;(!u.maybeHiddenMarkers||Re(u.maybeHiddenMarkers,this)==-1)&&(u.maybeUnhiddenMarkers||(u.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(s)},Es.prototype.detachLine=function(s){if(this.lines.splice(Re(this.lines,s),1),!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;(u.maybeHiddenMarkers||(u.maybeHiddenMarkers=[])).push(this)}},Bt(Es);function Wl(s,u,d,c,g){if(c&&c.shared)return B3(s,u,d,c,g);if(s.cm&&!s.cm.curOp)return Hn(s.cm,Wl)(s,u,d,c,g);var y=new Es(s,g),w=N(u,d);if(c&&pt(c,y,!1),w>0||w==0&&y.clearWhenEmpty!==!1)return y;if(y.replacedWith&&(y.collapsed=!0,y.widgetNode=L("span",[y.replacedWith],"CodeMirror-widget"),c.handleMouseEvents||y.widgetNode.setAttribute("cm-ignore-events","true"),c.insertLeft&&(y.widgetNode.insertLeft=!0)),y.collapsed){if(B1(s,u.line,u,d,y)||u.line!=d.line&&B1(s,d.line,u,d,y))throw new Error("Inserting collapsed marker partially overlapping an existing one");E6()}y.addToHistory&&Dw(s,{from:u,to:d,origin:"markText"},s.sel,NaN);var x=u.line,T=s.cm,M;if(s.iter(x,d.line+1,function(te){T&&y.collapsed&&!T.options.lineWrapping&&zi(te)==T.display.maxLine&&(M=!0),y.collapsed&&x!=u.line&&Hr(te,0),O6(te,new Ld(y,x==u.line?u.ch:null,x==d.line?d.ch:null),s.cm&&s.cm.curOp),++x}),y.collapsed&&s.iter(u.line,d.line+1,function(te){ws(s,te)&&Hr(te,0)}),y.clearOnEnter&&oe(y,"beforeCursorEnter",function(){return y.clear()}),y.readOnly&&(T6(),(s.history.done.length||s.history.undone.length)&&s.clearHistory()),y.collapsed&&(y.id=++Gw,y.atomic=!0),T){if(M&&(T.curOp.updateMaxLine=!0),y.collapsed)Dr(T,u.line,d.line+1);else if(y.className||y.startStyle||y.endStyle||y.css||y.attributes||y.title)for(var G=u.line;G<=d.line;G++)ks(T,G,"text");y.atomic&&Rw(T.doc),$n(T,"markerAdded",T,y)}return y}var Of=function(s,u){this.markers=s,this.primary=u;for(var d=0;d<s.length;++d)s[d].parent=this};Of.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var s=0;s<this.markers.length;++s)this.markers[s].clear();$n(this,"clear")}},Of.prototype.find=function(s,u){return this.primary.find(s,u)},Bt(Of);function B3(s,u,d,c,g){c=pt(c),c.shared=!1;var y=[Wl(s,u,d,c,g)],w=y[0],x=c.widgetNode;return Ts(s,function(T){x&&(c.widgetNode=x.cloneNode(!0)),y.push(Wl(T,Ke(T,u),Ke(T,d),c,g));for(var M=0;M<T.linked.length;++M)if(T.linked[M].isParent)return;w=fe(y)}),new Of(y,w)}function Jw(s){return s.findMarks(Oe(s.first,0),s.clipPos(Oe(s.lastLine())),function(u){return u.parent})}function z3(s,u){for(var d=0;d<u.length;d++){var c=u[d],g=c.find(),y=s.clipPos(g.from),w=s.clipPos(g.to);if(N(y,w)){var x=Wl(s,y,w,c.primary,c.primary.type);c.markers.push(x),x.parent=c}}}function $3(s){for(var u=function(c){var g=s[c],y=[g.primary.doc];Ts(g.primary.doc,function(T){return y.push(T)});for(var w=0;w<g.markers.length;w++){var x=g.markers[w];Re(y,x.doc)==-1&&(x.parent=null,g.markers.splice(w--,1))}},d=0;d<s.length;d++)u(d)}var H3=0,Mr=function(s,u,d,c,g){if(!(this instanceof Mr))return new Mr(s,u,d,c,g);d==null&&(d=0),Ef.call(this,[new Tf([new Nl("",null)])]),this.first=d,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=d;var y=Oe(d,0);this.sel=Cs(y),this.history=new Jd(null),this.id=++H3,this.modeOption=u,this.lineSep=c,this.direction=g=="rtl"?"rtl":"ltr",this.extend=!1,typeof s=="string"&&(s=this.splitLines(s)),tv(this,{from:y,to:y,text:s}),nr(this,Cs(y),je)};Mr.prototype=X(Ef.prototype,{constructor:Mr,iter:function(s,u,d){d?this.iterN(s-this.first,u-s,d):this.iterN(this.first,this.first+this.size,s)},insert:function(s,u){for(var d=0,c=0;c<u.length;++c)d+=u[c].height;this.insertInner(s-this.first,u,d)},remove:function(s,u){this.removeInner(s-this.first,u)},getValue:function(s){var u=lf(this,this.first,this.first+this.size);return s===!1?u:u.join(s||this.lineSeparator())},setValue:jn(function(s){var u=Oe(this.first,0),d=this.first+this.size-1;jl(this,{from:u,to:Oe(d,Ze(this,d).text.length),text:this.splitLines(s),origin:"setValue",full:!0},!0),this.cm&&vf(this.cm,0,0),nr(this,Cs(u),je)}),replaceRange:function(s,u,d,c){u=Ke(this,u),d=d?Ke(this,d):u,Vl(this,s,u,d,c)},getRange:function(s,u,d){var c=io(this,Ke(this,s),Ke(this,u));return d===!1?c:d===""?c.join(""):c.join(d||this.lineSeparator())},getLine:function(s){var u=this.getLineHandle(s);return u&&u.text},getLineHandle:function(s){if(wa(this,s))return Ze(this,s)},getLineNumber:function(s){return $t(s)},getLineHandleVisualStart:function(s){return typeof s=="number"&&(s=Ze(this,s)),zi(s)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(s){return Ke(this,s)},getCursor:function(s){var u=this.sel.primary(),d;return s==null||s=="head"?d=u.head:s=="anchor"?d=u.anchor:s=="end"||s=="to"||s===!1?d=u.to():d=u.from(),d},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:jn(function(s,u,d){Pw(this,Ke(this,typeof s=="number"?Oe(s,u||0):s),null,d)}),setSelection:jn(function(s,u,d){Pw(this,Ke(this,s),Ke(this,u||s),d)}),extendSelection:jn(function(s,u,d){Xd(this,Ke(this,s),u&&Ke(this,u),d)}),extendSelections:jn(function(s,u){Lw(this,ni(this,s),u)}),extendSelectionsBy:jn(function(s,u){var d=ge(this.sel.ranges,s);Lw(this,ni(this,d),u)}),setSelections:jn(function(s,u,d){if(!!s.length){for(var c=[],g=0;g<s.length;g++)c[g]=new Ht(Ke(this,s[g].anchor),Ke(this,s[g].head||s[g].anchor));u==null&&(u=Math.min(s.length-1,this.sel.primIndex)),nr(this,Hi(this.cm,c,u),d)}}),addSelection:jn(function(s,u,d){var c=this.sel.ranges.slice(0);c.push(new Ht(Ke(this,s),Ke(this,u||s))),nr(this,Hi(this.cm,c,c.length-1),d)}),getSelection:function(s){for(var u=this.sel.ranges,d,c=0;c<u.length;c++){var g=io(this,u[c].from(),u[c].to());d=d?d.concat(g):g}return s===!1?d:d.join(s||this.lineSeparator())},getSelections:function(s){for(var u=[],d=this.sel.ranges,c=0;c<d.length;c++){var g=io(this,d[c].from(),d[c].to());s!==!1&&(g=g.join(s||this.lineSeparator())),u[c]=g}return u},replaceSelection:function(s,u,d){for(var c=[],g=0;g<this.sel.ranges.length;g++)c[g]=s;this.replaceSelections(c,u,d||"+input")},replaceSelections:jn(function(s,u,d){for(var c=[],g=this.sel,y=0;y<g.ranges.length;y++){var w=g.ranges[y];c[y]={from:w.from(),to:w.to(),text:this.splitLines(s[y]),origin:d}}for(var x=u&&u!="end"&&A3(this,c,u),T=c.length-1;T>=0;T--)jl(this,c[T]);x?Iw(this,x):this.cm&&Bl(this.cm)}),undo:jn(function(){eh(this,"undo")}),redo:jn(function(){eh(this,"redo")}),undoSelection:jn(function(){eh(this,"undo",!0)}),redoSelection:jn(function(){eh(this,"redo",!0)}),setExtending:function(s){this.extend=s},getExtending:function(){return this.extend},historySize:function(){for(var s=this.history,u=0,d=0,c=0;c<s.done.length;c++)s.done[c].ranges||++u;for(var g=0;g<s.undone.length;g++)s.undone[g].ranges||++d;return{undo:u,redo:d}},clearHistory:function(){var s=this;this.history=new Jd(this.history),Ts(this,function(u){return u.history=s.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(s){return s&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(s){return this.history.generation==(s||this.cleanGeneration)},getHistory:function(){return{done:$l(this.history.done),undone:$l(this.history.undone)}},setHistory:function(s){var u=this.history=new Jd(this.history);u.done=$l(s.done.slice(0),null,!0),u.undone=$l(s.undone.slice(0),null,!0)},setGutterMarker:jn(function(s,u,d){return Sf(this,s,"gutter",function(c){var g=c.gutterMarkers||(c.gutterMarkers={});return g[u]=d,!d&&z(g)&&(c.gutterMarkers=null),!0})}),clearGutter:jn(function(s){var u=this;this.iter(function(d){d.gutterMarkers&&d.gutterMarkers[s]&&Sf(u,d,"gutter",function(){return d.gutterMarkers[s]=null,z(d.gutterMarkers)&&(d.gutterMarkers=null),!0})})}),lineInfo:function(s){var u;if(typeof s=="number"){if(!wa(this,s)||(u=s,s=Ze(this,s),!s))return null}else if(u=$t(s),u==null)return null;return{line:u,handle:s,text:s.text,gutterMarkers:s.gutterMarkers,textClass:s.textClass,bgClass:s.bgClass,wrapClass:s.wrapClass,widgets:s.widgets}},addLineClass:jn(function(s,u,d){return Sf(this,s,u=="gutter"?"gutter":"class",function(c){var g=u=="text"?"textClass":u=="background"?"bgClass":u=="gutter"?"gutterClass":"wrapClass";if(!c[g])c[g]=d;else{if(R(d).test(c[g]))return!1;c[g]+=" "+d}return!0})}),removeLineClass:jn(function(s,u,d){return Sf(this,s,u=="gutter"?"gutter":"class",function(c){var g=u=="text"?"textClass":u=="background"?"bgClass":u=="gutter"?"gutterClass":"wrapClass",y=c[g];if(y)if(d==null)c[g]=null;else{var w=y.match(R(d));if(!w)return!1;var x=w.index+w[0].length;c[g]=y.slice(0,w.index)+(!w.index||x==y.length?"":" ")+y.slice(x)||null}else return!1;return!0})}),addLineWidget:jn(function(s,u,d){return R3(this,s,u,d)}),removeLineWidget:function(s){s.clear()},markText:function(s,u,d){return Wl(this,Ke(this,s),Ke(this,u),d,d&&d.type||"range")},setBookmark:function(s,u){var d={replacedWith:u&&(u.nodeType==null?u.widget:u),insertLeft:u&&u.insertLeft,clearWhenEmpty:!1,shared:u&&u.shared,handleMouseEvents:u&&u.handleMouseEvents};return s=Ke(this,s),Wl(this,s,s,d,"bookmark")},findMarksAt:function(s){s=Ke(this,s);var u=[],d=Ze(this,s.line).markedSpans;if(d)for(var c=0;c<d.length;++c){var g=d[c];(g.from==null||g.from<=s.ch)&&(g.to==null||g.to>=s.ch)&&u.push(g.marker.parent||g.marker)}return u},findMarks:function(s,u,d){s=Ke(this,s),u=Ke(this,u);var c=[],g=s.line;return this.iter(s.line,u.line+1,function(y){var w=y.markedSpans;if(w)for(var x=0;x<w.length;x++){var T=w[x];!(T.to!=null&&g==s.line&&s.ch>=T.to||T.from==null&&g!=s.line||T.from!=null&&g==u.line&&T.from>=u.ch)&&(!d||d(T.marker))&&c.push(T.marker.parent||T.marker)}++g}),c},getAllMarks:function(){var s=[];return this.iter(function(u){var d=u.markedSpans;if(d)for(var c=0;c<d.length;++c)d[c].from!=null&&s.push(d[c].marker)}),s},posFromIndex:function(s){var u,d=this.first,c=this.lineSeparator().length;return this.iter(function(g){var y=g.text.length+c;if(y>s)return u=s,!0;s-=y,++d}),Ke(this,Oe(d,u))},indexFromPos:function(s){s=Ke(this,s);var u=s.ch;if(s.line<this.first||s.ch<0)return 0;var d=this.lineSeparator().length;return this.iter(this.first,s.line,function(c){u+=c.text.length+d}),u},copy:function(s){var u=new Mr(lf(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return u.scrollTop=this.scrollTop,u.scrollLeft=this.scrollLeft,u.sel=this.sel,u.extend=!1,s&&(u.history.undoDepth=this.history.undoDepth,u.setHistory(this.getHistory())),u},linkedDoc:function(s){s||(s={});var u=this.first,d=this.first+this.size;s.from!=null&&s.from>u&&(u=s.from),s.to!=null&&s.to<d&&(d=s.to);var c=new Mr(lf(this,u,d),s.mode||this.modeOption,u,this.lineSep,this.direction);return s.sharedHist&&(c.history=this.history),(this.linked||(this.linked=[])).push({doc:c,sharedHist:s.sharedHist}),c.linked=[{doc:this,isParent:!0,sharedHist:s.sharedHist}],z3(c,Jw(this)),c},unlinkDoc:function(s){if(s instanceof ln&&(s=s.doc),this.linked)for(var u=0;u<this.linked.length;++u){var d=this.linked[u];if(d.doc==s){this.linked.splice(u,1),s.unlinkDoc(this),$3(Jw(this));break}}if(s.history==this.history){var c=[s.id];Ts(s,function(g){return c.push(g.id)},!0),s.history=new Jd(null),s.history.done=$l(this.history.done,c),s.history.undone=$l(this.history.undone,c)}},iterLinkedDocs:function(s){Ts(this,s)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(s){return this.lineSep?s.split(this.lineSep):rf(s)},lineSeparator:function(){return this.lineSep||`
`},setDirection:jn(function(s){s!="rtl"&&(s="ltr"),s!=this.direction&&(this.direction=s,this.iter(function(u){return u.order=null}),this.cm&&O3(this.cm))})}),Mr.prototype.eachLine=Mr.prototype.iter;var Yw=0;function j3(s){var u=this;if(Xw(u),!(Ue(u,s)||Io(u.display,s))){zt(s),f&&(Yw=+new Date);var d=Ca(u,s,!0),c=s.dataTransfer.files;if(!(!d||u.isReadOnly()))if(c&&c.length&&window.FileReader&&window.File)for(var g=c.length,y=Array(g),w=0,x=function(){++w==g&&Hn(u,function(){d=Ke(u.doc,d);var se={from:d,to:d,text:u.doc.splitLines(y.filter(function(be){return be!=null}).join(u.doc.lineSeparator())),origin:"paste"};jl(u.doc,se),Iw(u.doc,Cs(Ke(u.doc,d),Ke(u.doc,Ss(se))))})()},T=function(se,be){if(u.options.allowDropFileTypes&&Re(u.options.allowDropFileTypes,se.type)==-1){x();return}var Ee=new FileReader;Ee.onerror=function(){return x()},Ee.onload=function(){var Pe=Ee.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Pe)){x();return}y[be]=Pe,x()},Ee.readAsText(se)},M=0;M<c.length;M++)T(c[M],M);else{if(u.state.draggingText&&u.doc.sel.contains(d)>-1){u.state.draggingText(s),setTimeout(function(){return u.display.input.focus()},20);return}try{var G=s.dataTransfer.getData("Text");if(G){var te;if(u.state.draggingText&&!u.state.draggingText.copy&&(te=u.listSelections()),Zd(u.doc,Cs(d,d)),te)for(var ue=0;ue<te.length;++ue)Vl(u.doc,"",te[ue].anchor,te[ue].head,"drag");u.replaceSelection(G,"around","paste"),u.display.input.focus()}}catch{}}}}function V3(s,u){if(f&&(!s.state.draggingText||+new Date-Yw<100)){Sn(u);return}if(!(Ue(s,u)||Io(s.display,u))&&(u.dataTransfer.setData("Text",s.getSelection()),u.dataTransfer.effectAllowed="copyMove",u.dataTransfer.setDragImage&&!_)){var d=ie("img",null,null,"position: fixed; left: 0; top: 0;");d.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",b&&(d.width=d.height=1,s.display.wrapper.appendChild(d),d._top=d.offsetTop),u.dataTransfer.setDragImage(d,0,0),b&&d.parentNode.removeChild(d)}}function W3(s,u){var d=Ca(s,u);if(!!d){var c=document.createDocumentFragment();jm(s,d,c),s.display.dragCursor||(s.display.dragCursor=ie("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),s.display.lineSpace.insertBefore(s.display.dragCursor,s.display.cursorDiv)),W(s.display.dragCursor,c)}}function Xw(s){s.display.dragCursor&&(s.display.lineSpace.removeChild(s.display.dragCursor),s.display.dragCursor=null)}function Zw(s){if(!!document.getElementsByClassName){for(var u=document.getElementsByClassName("CodeMirror"),d=[],c=0;c<u.length;c++){var g=u[c].CodeMirror;g&&d.push(g)}d.length&&d[0].operation(function(){for(var y=0;y<d.length;y++)s(d[y])})}}var Qw=!1;function U3(){Qw||(K3(),Qw=!0)}function K3(){var s;oe(window,"resize",function(){s==null&&(s=setTimeout(function(){s=null,Zw(q3)},100))}),oe(window,"blur",function(){return Zw(Rl)})}function q3(s){var u=s.display;u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null,u.scrollbarsClipped=!1,s.setSize()}for(var As={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Df=0;Df<10;Df++)As[Df+48]=As[Df+96]=String(Df);for(var th=65;th<=90;th++)As[th]=String.fromCharCode(th);for(var Mf=1;Mf<=12;Mf++)As[Mf+111]=As[Mf+63235]="F"+Mf;var Ro={};Ro.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ro.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ro.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ro.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ro.default=O?Ro.macDefault:Ro.pcDefault;function G3(s){var u=s.split(/-(?!$)/);s=u[u.length-1];for(var d,c,g,y,w=0;w<u.length-1;w++){var x=u[w];if(/^(cmd|meta|m)$/i.test(x))y=!0;else if(/^a(lt)?$/i.test(x))d=!0;else if(/^(c|ctrl|control)$/i.test(x))c=!0;else if(/^s(hift)?$/i.test(x))g=!0;else throw new Error("Unrecognized modifier name: "+x)}return d&&(s="Alt-"+s),c&&(s="Ctrl-"+s),y&&(s="Cmd-"+s),g&&(s="Shift-"+s),s}function J3(s){var u={};for(var d in s)if(s.hasOwnProperty(d)){var c=s[d];if(/^(name|fallthrough|(de|at)tach)$/.test(d))continue;if(c=="..."){delete s[d];continue}for(var g=ge(d.split(" "),G3),y=0;y<g.length;y++){var w=void 0,x=void 0;y==g.length-1?(x=g.join(" "),w=c):(x=g.slice(0,y+1).join(" "),w="...");var T=u[x];if(!T)u[x]=w;else if(T!=w)throw new Error("Inconsistent bindings for "+x)}delete s[d]}for(var M in u)s[M]=u[M];return s}function Ul(s,u,d,c){u=nh(u);var g=u.call?u.call(s,c):u[s];if(g===!1)return"nothing";if(g==="...")return"multi";if(g!=null&&d(g))return"handled";if(u.fallthrough){if(Object.prototype.toString.call(u.fallthrough)!="[object Array]")return Ul(s,u.fallthrough,d,c);for(var y=0;y<u.fallthrough.length;y++){var w=Ul(s,u.fallthrough[y],d,c);if(w)return w}}}function ek(s){var u=typeof s=="string"?s:As[s.keyCode];return u=="Ctrl"||u=="Alt"||u=="Shift"||u=="Mod"}function tk(s,u,d){var c=s;return u.altKey&&c!="Alt"&&(s="Alt-"+s),(q?u.metaKey:u.ctrlKey)&&c!="Ctrl"&&(s="Ctrl-"+s),(q?u.ctrlKey:u.metaKey)&&c!="Mod"&&(s="Cmd-"+s),!d&&u.shiftKey&&c!="Shift"&&(s="Shift-"+s),s}function nk(s,u){if(b&&s.keyCode==34&&s.char)return!1;var d=As[s.keyCode];return d==null||s.altGraphKey?!1:(s.keyCode==3&&s.code&&(d=s.code),tk(d,s,u))}function nh(s){return typeof s=="string"?Ro[s]:s}function Kl(s,u){for(var d=s.doc.sel.ranges,c=[],g=0;g<d.length;g++){for(var y=u(d[g]);c.length&&N(y.from,fe(c).to)<=0;){var w=c.pop();if(N(w.from,y.from)<0){y.from=w.from;break}}c.push(y)}jr(s,function(){for(var x=c.length-1;x>=0;x--)Vl(s.doc,"",c[x].from,c[x].to,"+delete");Bl(s)})}function ov(s,u,d){var c=ae(s.text,u+d,d);return c<0||c>s.text.length?null:c}function sv(s,u,d){var c=ov(s,u.ch,d);return c==null?null:new Oe(u.line,c,d<0?"after":"before")}function av(s,u,d,c,g){if(s){u.doc.direction=="rtl"&&(g=-g);var y=Le(d,u.doc.direction);if(y){var w=g<0?fe(y):y[0],x=g<0==(w.level==1),T=x?"after":"before",M;if(w.level>0||u.doc.direction=="rtl"){var G=Pl(u,d);M=g<0?d.text.length-1:0;var te=lo(u,G,M).top;M=de(function(ue){return lo(u,G,ue).top==te},g<0==(w.level==1)?w.from:w.to-1,M),T=="before"&&(M=ov(d,M,1))}else M=g<0?w.to:w.from;return new Oe(c,M,T)}}return new Oe(c,g<0?d.text.length:0,g<0?"before":"after")}function Y3(s,u,d,c){var g=Le(u,s.doc.direction);if(!g)return sv(u,d,c);d.ch>=u.text.length?(d.ch=u.text.length,d.sticky="before"):d.ch<=0&&(d.ch=0,d.sticky="after");var y=Y(g,d.ch,d.sticky),w=g[y];if(s.doc.direction=="ltr"&&w.level%2==0&&(c>0?w.to>d.ch:w.from<d.ch))return sv(u,d,c);var x=function(Be,He){return ov(u,Be instanceof Oe?Be.ch:Be,He)},T,M=function(Be){return s.options.lineWrapping?(T=T||Pl(s,u),aw(s,u,T,Be)):{begin:0,end:u.text.length}},G=M(d.sticky=="before"?x(d,-1):d.ch);if(s.doc.direction=="rtl"||w.level==1){var te=w.level==1==c<0,ue=x(d,te?1:-1);if(ue!=null&&(te?ue<=w.to&&ue<=G.end:ue>=w.from&&ue>=G.begin)){var se=te?"before":"after";return new Oe(d.line,ue,se)}}var be=function(Be,He,ze){for(var Ge=function(Qt,Vn){return Vn?new Oe(d.line,x(Qt,1),"before"):new Oe(d.line,Qt,"after")};Be>=0&&Be<g.length;Be+=He){var ot=g[Be],rt=He>0==(ot.level!=1),_t=rt?ze.begin:x(ze.end,-1);if(ot.from<=_t&&_t<ot.to||(_t=rt?ot.from:x(ot.to,-1),ze.begin<=_t&&_t<ze.end))return Ge(_t,rt)}},Ee=be(y+c,c,G);if(Ee)return Ee;var Pe=c>0?G.end:x(G.begin,-1);return Pe!=null&&!(c>0&&Pe==u.text.length)&&(Ee=be(c>0?0:g.length-1,c,M(Pe)),Ee)?Ee:null}var Nf={selectAll:$w,singleSelection:function(s){return s.setSelection(s.getCursor("anchor"),s.getCursor("head"),je)},killLine:function(s){return Kl(s,function(u){if(u.empty()){var d=Ze(s.doc,u.head.line).text.length;return u.head.ch==d&&u.head.line<s.lastLine()?{from:u.head,to:Oe(u.head.line+1,0)}:{from:u.head,to:Oe(u.head.line,d)}}else return{from:u.from(),to:u.to()}})},deleteLine:function(s){return Kl(s,function(u){return{from:Oe(u.from().line,0),to:Ke(s.doc,Oe(u.to().line+1,0))}})},delLineLeft:function(s){return Kl(s,function(u){return{from:Oe(u.from().line,0),to:u.from()}})},delWrappedLineLeft:function(s){return Kl(s,function(u){var d=s.charCoords(u.head,"div").top+5,c=s.coordsChar({left:0,top:d},"div");return{from:c,to:u.from()}})},delWrappedLineRight:function(s){return Kl(s,function(u){var d=s.charCoords(u.head,"div").top+5,c=s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:d},"div");return{from:u.from(),to:c}})},undo:function(s){return s.undo()},redo:function(s){return s.redo()},undoSelection:function(s){return s.undoSelection()},redoSelection:function(s){return s.redoSelection()},goDocStart:function(s){return s.extendSelection(Oe(s.firstLine(),0))},goDocEnd:function(s){return s.extendSelection(Oe(s.lastLine()))},goLineStart:function(s){return s.extendSelectionsBy(function(u){return rk(s,u.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(s){return s.extendSelectionsBy(function(u){return ik(s,u.head)},{origin:"+move",bias:1})},goLineEnd:function(s){return s.extendSelectionsBy(function(u){return X3(s,u.head.line)},{origin:"+move",bias:-1})},goLineRight:function(s){return s.extendSelectionsBy(function(u){var d=s.cursorCoords(u.head,"div").top+5;return s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:d},"div")},Ve)},goLineLeft:function(s){return s.extendSelectionsBy(function(u){var d=s.cursorCoords(u.head,"div").top+5;return s.coordsChar({left:0,top:d},"div")},Ve)},goLineLeftSmart:function(s){return s.extendSelectionsBy(function(u){var d=s.cursorCoords(u.head,"div").top+5,c=s.coordsChar({left:0,top:d},"div");return c.ch<s.getLine(c.line).search(/\S/)?ik(s,u.head):c},Ve)},goLineUp:function(s){return s.moveV(-1,"line")},goLineDown:function(s){return s.moveV(1,"line")},goPageUp:function(s){return s.moveV(-1,"page")},goPageDown:function(s){return s.moveV(1,"page")},goCharLeft:function(s){return s.moveH(-1,"char")},goCharRight:function(s){return s.moveH(1,"char")},goColumnLeft:function(s){return s.moveH(-1,"column")},goColumnRight:function(s){return s.moveH(1,"column")},goWordLeft:function(s){return s.moveH(-1,"word")},goGroupRight:function(s){return s.moveH(1,"group")},goGroupLeft:function(s){return s.moveH(-1,"group")},goWordRight:function(s){return s.moveH(1,"word")},delCharBefore:function(s){return s.deleteH(-1,"codepoint")},delCharAfter:function(s){return s.deleteH(1,"char")},delWordBefore:function(s){return s.deleteH(-1,"word")},delWordAfter:function(s){return s.deleteH(1,"word")},delGroupBefore:function(s){return s.deleteH(-1,"group")},delGroupAfter:function(s){return s.deleteH(1,"group")},indentAuto:function(s){return s.indentSelection("smart")},indentMore:function(s){return s.indentSelection("add")},indentLess:function(s){return s.indentSelection("subtract")},insertTab:function(s){return s.replaceSelection("	")},insertSoftTab:function(s){for(var u=[],d=s.listSelections(),c=s.options.tabSize,g=0;g<d.length;g++){var y=d[g].from(),w=st(s.getLine(y.line),y.ch,c);u.push(re(c-w%c))}s.replaceSelections(u)},defaultTab:function(s){s.somethingSelected()?s.indentSelection("add"):s.execCommand("insertTab")},transposeChars:function(s){return jr(s,function(){for(var u=s.listSelections(),d=[],c=0;c<u.length;c++)if(!!u[c].empty()){var g=u[c].head,y=Ze(s.doc,g.line).text;if(y){if(g.ch==y.length&&(g=new Oe(g.line,g.ch-1)),g.ch>0)g=new Oe(g.line,g.ch+1),s.replaceRange(y.charAt(g.ch-1)+y.charAt(g.ch-2),Oe(g.line,g.ch-2),g,"+transpose");else if(g.line>s.doc.first){var w=Ze(s.doc,g.line-1).text;w&&(g=new Oe(g.line,1),s.replaceRange(y.charAt(0)+s.doc.lineSeparator()+w.charAt(w.length-1),Oe(g.line-1,w.length-1),g,"+transpose"))}}d.push(new Ht(g,g))}s.setSelections(d)})},newlineAndIndent:function(s){return jr(s,function(){for(var u=s.listSelections(),d=u.length-1;d>=0;d--)s.replaceRange(s.doc.lineSeparator(),u[d].anchor,u[d].head,"+input");u=s.listSelections();for(var c=0;c<u.length;c++)s.indentLine(u[c].from().line,null,!0);Bl(s)})},openLine:function(s){return s.replaceSelection(`
`,"start")},toggleOverwrite:function(s){return s.toggleOverwrite()}};function rk(s,u){var d=Ze(s.doc,u),c=zi(d);return c!=d&&(u=$t(c)),av(!0,s,c,u,1)}function X3(s,u){var d=Ze(s.doc,u),c=P6(d);return c!=d&&(u=$t(c)),av(!0,s,d,u,-1)}function ik(s,u){var d=rk(s,u.line),c=Ze(s.doc,d.line),g=Le(c,s.doc.direction);if(!g||g[0].level==0){var y=Math.max(d.ch,c.text.search(/\S/)),w=u.line==d.line&&u.ch<=y&&u.ch;return Oe(d.line,w?0:y,d.sticky)}return d}function rh(s,u,d){if(typeof u=="string"&&(u=Nf[u],!u))return!1;s.display.input.ensurePolled();var c=s.display.shift,g=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),d&&(s.display.shift=!1),g=u(s)!=_e}finally{s.display.shift=c,s.state.suppressEdits=!1}return g}function Z3(s,u,d){for(var c=0;c<s.state.keyMaps.length;c++){var g=Ul(u,s.state.keyMaps[c],d,s);if(g)return g}return s.options.extraKeys&&Ul(u,s.options.extraKeys,d,s)||Ul(u,s.options.keyMap,d,s)}var Q3=new Ye;function Lf(s,u,d,c){var g=s.state.keySeq;if(g){if(ek(u))return"handled";if(/\'$/.test(u)?s.state.keySeq=null:Q3.set(50,function(){s.state.keySeq==g&&(s.state.keySeq=null,s.display.input.reset())}),ok(s,g+" "+u,d,c))return!0}return ok(s,u,d,c)}function ok(s,u,d,c){var g=Z3(s,u,c);return g=="multi"&&(s.state.keySeq=u),g=="handled"&&$n(s,"keyHandled",s,u,d),(g=="handled"||g=="multi")&&(zt(d),Vm(s)),!!g}function sk(s,u){var d=nk(u,!0);return d?u.shiftKey&&!s.state.keySeq?Lf(s,"Shift-"+d,u,function(c){return rh(s,c,!0)})||Lf(s,d,u,function(c){if(typeof c=="string"?/^go[A-Z]/.test(c):c.motion)return rh(s,c)}):Lf(s,d,u,function(c){return rh(s,c)}):!1}function e4(s,u,d){return Lf(s,"'"+d+"'",u,function(c){return rh(s,c,!0)})}var lv=null;function ak(s){var u=this;if(!(s.target&&s.target!=u.display.input.getField())&&(u.curOp.focus=Te(),!Ue(u,s))){f&&h<11&&s.keyCode==27&&(s.returnValue=!1);var d=s.keyCode;u.display.shift=d==16||s.shiftKey;var c=sk(u,s);b&&(lv=c?d:null,!c&&d==88&&!Md&&(O?s.metaKey:s.ctrlKey)&&u.replaceSelection("",null,"cut")),i&&!O&&!c&&d==46&&s.shiftKey&&!s.ctrlKey&&document.execCommand&&document.execCommand("cut"),d==18&&!/\bCodeMirror-crosshair\b/.test(u.display.lineDiv.className)&&t4(u)}}function t4(s){var u=s.display.lineDiv;We(u,"CodeMirror-crosshair");function d(c){(c.keyCode==18||!c.altKey)&&(V(u,"CodeMirror-crosshair"),De(document,"keyup",d),De(document,"mouseover",d))}oe(document,"keyup",d),oe(document,"mouseover",d)}function lk(s){s.keyCode==16&&(this.doc.sel.shift=!1),Ue(this,s)}function uk(s){var u=this;if(!(s.target&&s.target!=u.display.input.getField())&&!(Io(u.display,s)||Ue(u,s)||s.ctrlKey&&!s.altKey||O&&s.metaKey)){var d=s.keyCode,c=s.charCode;if(b&&d==lv){lv=null,zt(s);return}if(!(b&&(!s.which||s.which<10)&&sk(u,s))){var g=String.fromCharCode(c==null?d:c);g!="\b"&&(e4(u,s,g)||u.display.input.onKeyPress(s))}}}var n4=400,uv=function(s,u,d){this.time=s,this.pos=u,this.button=d};uv.prototype.compare=function(s,u,d){return this.time+n4>s&&N(u,this.pos)==0&&d==this.button};var Pf,If;function r4(s,u){var d=+new Date;return If&&If.compare(d,s,u)?(Pf=If=null,"triple"):Pf&&Pf.compare(d,s,u)?(If=new uv(d,s,u),Pf=null,"double"):(Pf=new uv(d,s,u),If=null,"single")}function fk(s){var u=this,d=u.display;if(!(Ue(u,s)||d.activeTouch&&d.input.supportsTouch())){if(d.input.ensurePolled(),d.shift=s.shiftKey,Io(d,s)){p||(d.scroller.draggable=!1,setTimeout(function(){return d.scroller.draggable=!0},100));return}if(!fv(u,s)){var c=Ca(u,s),g=Or(s),y=c?r4(c,g):"single";window.focus(),g==1&&u.state.selectingText&&u.state.selectingText(s),!(c&&i4(u,g,c,y,s))&&(g==1?c?s4(u,c,y,s):Tn(s)==d.scroller&&zt(s):g==2?(c&&Xd(u.doc,c),setTimeout(function(){return d.input.focus()},20)):g==3&&(B?u.display.input.onContextMenu(s):Wm(u)))}}}function i4(s,u,d,c,g){var y="Click";return c=="double"?y="Double"+y:c=="triple"&&(y="Triple"+y),y=(u==1?"Left":u==2?"Middle":"Right")+y,Lf(s,tk(y,g),g,function(w){if(typeof w=="string"&&(w=Nf[w]),!w)return!1;var x=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),x=w(s,d)!=_e}finally{s.state.suppressEdits=!1}return x})}function o4(s,u,d){var c=s.getOption("configureMouse"),g=c?c(s,u,d):{};if(g.unit==null){var y=K?d.shiftKey&&d.metaKey:d.altKey;g.unit=y?"rectangle":u=="single"?"char":u=="double"?"word":"line"}return(g.extend==null||s.doc.extend)&&(g.extend=s.doc.extend||d.shiftKey),g.addNew==null&&(g.addNew=O?d.metaKey:d.ctrlKey),g.moveOnDrag==null&&(g.moveOnDrag=!(O?d.altKey:d.ctrlKey)),g}function s4(s,u,d,c){f?setTimeout(Mt(cw,s),0):s.curOp.focus=Te();var g=o4(s,d,c),y=s.doc.sel,w;s.options.dragDrop&&Qr&&!s.isReadOnly()&&d=="single"&&(w=y.contains(u))>-1&&(N((w=y.ranges[w]).from(),u)<0||u.xRel>0)&&(N(w.to(),u)>0||u.xRel<0)?a4(s,c,u,g):l4(s,c,u,g)}function a4(s,u,d,c){var g=s.display,y=!1,w=Hn(s,function(M){p&&(g.scroller.draggable=!1),s.state.draggingText=!1,s.state.delayingBlurEvent&&(s.hasFocus()?s.state.delayingBlurEvent=!1:Wm(s)),De(g.wrapper.ownerDocument,"mouseup",w),De(g.wrapper.ownerDocument,"mousemove",x),De(g.scroller,"dragstart",T),De(g.scroller,"drop",w),y||(zt(M),c.addNew||Xd(s.doc,d,null,null,c.extend),p&&!_||f&&h==9?setTimeout(function(){g.wrapper.ownerDocument.body.focus({preventScroll:!0}),g.input.focus()},20):g.input.focus())}),x=function(M){y=y||Math.abs(u.clientX-M.clientX)+Math.abs(u.clientY-M.clientY)>=10},T=function(){return y=!0};p&&(g.scroller.draggable=!0),s.state.draggingText=w,w.copy=!c.moveOnDrag,oe(g.wrapper.ownerDocument,"mouseup",w),oe(g.wrapper.ownerDocument,"mousemove",x),oe(g.scroller,"dragstart",T),oe(g.scroller,"drop",w),s.state.delayingBlurEvent=!0,setTimeout(function(){return g.input.focus()},20),g.scroller.dragDrop&&g.scroller.dragDrop()}function ck(s,u,d){if(d=="char")return new Ht(u,u);if(d=="word")return s.findWordAt(u);if(d=="line")return new Ht(Oe(u.line,0),Ke(s.doc,Oe(u.line+1,0)));var c=d(s,u);return new Ht(c.from,c.to)}function l4(s,u,d,c){f&&Wm(s);var g=s.display,y=s.doc;zt(u);var w,x,T=y.sel,M=T.ranges;if(c.addNew&&!c.extend?(x=y.sel.contains(d),x>-1?w=M[x]:w=new Ht(d,d)):(w=y.sel.primary(),x=y.sel.primIndex),c.unit=="rectangle")c.addNew||(w=new Ht(d,d)),d=Ca(s,u,!0,!0),x=-1;else{var G=ck(s,d,c.unit);c.extend?w=rv(w,G.anchor,G.head,c.extend):w=G}c.addNew?x==-1?(x=M.length,nr(y,Hi(s,M.concat([w]),x),{scroll:!1,origin:"*mouse"})):M.length>1&&M[x].empty()&&c.unit=="char"&&!c.extend?(nr(y,Hi(s,M.slice(0,x).concat(M.slice(x+1)),0),{scroll:!1,origin:"*mouse"}),T=y.sel):iv(y,x,w,qe):(x=0,nr(y,new ri([w],0),qe),T=y.sel);var te=d;function ue(ze){if(N(te,ze)!=0)if(te=ze,c.unit=="rectangle"){for(var Ge=[],ot=s.options.tabSize,rt=st(Ze(y,d.line).text,d.ch,ot),_t=st(Ze(y,ze.line).text,ze.ch,ot),Qt=Math.min(rt,_t),Vn=Math.max(rt,_t),dn=Math.min(d.line,ze.line),Vr=Math.min(s.lastLine(),Math.max(d.line,ze.line));dn<=Vr;dn++){var Nr=Ze(y,dn).text,En=gt(Nr,Qt,ot);Qt==Vn?Ge.push(new Ht(Oe(dn,En),Oe(dn,En))):Nr.length>En&&Ge.push(new Ht(Oe(dn,En),Oe(dn,gt(Nr,Vn,ot))))}Ge.length||Ge.push(new Ht(d,d)),nr(y,Hi(s,T.ranges.slice(0,x).concat(Ge),x),{origin:"*mouse",scroll:!1}),s.scrollIntoView(ze)}else{var Lr=w,Jn=ck(s,ze,c.unit),Pn=Lr.anchor,An;N(Jn.anchor,Pn)>0?(An=Jn.head,Pn=ft(Lr.from(),Jn.anchor)):(An=Jn.anchor,Pn=Me(Lr.to(),Jn.head));var mn=T.ranges.slice(0);mn[x]=u4(s,new Ht(Ke(y,Pn),An)),nr(y,Hi(s,mn,x),qe)}}var se=g.wrapper.getBoundingClientRect(),be=0;function Ee(ze){var Ge=++be,ot=Ca(s,ze,!0,c.unit=="rectangle");if(!!ot)if(N(ot,te)!=0){s.curOp.focus=Te(),ue(ot);var rt=Ud(g,y);(ot.line>=rt.to||ot.line<rt.from)&&setTimeout(Hn(s,function(){be==Ge&&Ee(ze)}),150)}else{var _t=ze.clientY<se.top?-20:ze.clientY>se.bottom?20:0;_t&&setTimeout(Hn(s,function(){be==Ge&&(g.scroller.scrollTop+=_t,Ee(ze))}),50)}}function Pe(ze){s.state.selectingText=!1,be=1/0,ze&&(zt(ze),g.input.focus()),De(g.wrapper.ownerDocument,"mousemove",Be),De(g.wrapper.ownerDocument,"mouseup",He),y.history.lastSelOrigin=null}var Be=Hn(s,function(ze){ze.buttons===0||!Or(ze)?Pe(ze):Ee(ze)}),He=Hn(s,Pe);s.state.selectingText=He,oe(g.wrapper.ownerDocument,"mousemove",Be),oe(g.wrapper.ownerDocument,"mouseup",He)}function u4(s,u){var d=u.anchor,c=u.head,g=Ze(s.doc,d.line);if(N(d,c)==0&&d.sticky==c.sticky)return u;var y=Le(g);if(!y)return u;var w=Y(y,d.ch,d.sticky),x=y[w];if(x.from!=d.ch&&x.to!=d.ch)return u;var T=w+(x.from==d.ch==(x.level!=1)?0:1);if(T==0||T==y.length)return u;var M;if(c.line!=d.line)M=(c.line-d.line)*(s.doc.direction=="ltr"?1:-1)>0;else{var G=Y(y,c.ch,c.sticky),te=G-w||(c.ch-d.ch)*(x.level==1?-1:1);G==T-1||G==T?M=te<0:M=te>0}var ue=y[T+(M?-1:0)],se=M==(ue.level==1),be=se?ue.from:ue.to,Ee=se?"after":"before";return d.ch==be&&d.sticky==Ee?u:new Ht(new Oe(d.line,be,Ee),c)}function dk(s,u,d,c){var g,y;if(u.touches)g=u.touches[0].clientX,y=u.touches[0].clientY;else try{g=u.clientX,y=u.clientY}catch{return!1}if(g>=Math.floor(s.display.gutters.getBoundingClientRect().right))return!1;c&&zt(u);var w=s.display,x=w.lineDiv.getBoundingClientRect();if(y>x.bottom||!ct(s,d))return on(u);y-=x.top-w.viewOffset;for(var T=0;T<s.display.gutterSpecs.length;++T){var M=w.gutters.childNodes[T];if(M&&M.getBoundingClientRect().right>=g){var G=oo(s.doc,y),te=s.display.gutterSpecs[T];return we(s,d,s,G,te.className,u),on(u)}}}function fv(s,u){return dk(s,u,"gutterClick",!0)}function hk(s,u){Io(s.display,u)||f4(s,u)||Ue(s,u,"contextmenu")||B||s.display.input.onContextMenu(u)}function f4(s,u){return ct(s,"gutterContextMenu")?dk(s,u,"gutterContextMenu",!1):!1}function pk(s){s.display.wrapper.className=s.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+s.options.theme.replace(/(^|\s)\s*/g," cm-s-"),gf(s)}var ql={toString:function(){return"CodeMirror.Init"}},gk={},ih={};function c4(s){var u=s.optionHandlers;function d(c,g,y,w){s.defaults[c]=g,y&&(u[c]=w?function(x,T,M){M!=ql&&y(x,T,M)}:y)}s.defineOption=d,s.Init=ql,d("value","",function(c,g){return c.setValue(g)},!0),d("mode",null,function(c,g){c.doc.modeOption=g,ev(c)},!0),d("indentUnit",2,ev,!0),d("indentWithTabs",!1),d("smartIndent",!0),d("tabSize",4,function(c){xf(c),gf(c),Dr(c)},!0),d("lineSeparator",null,function(c,g){if(c.doc.lineSep=g,!!g){var y=[],w=c.doc.first;c.doc.iter(function(T){for(var M=0;;){var G=T.text.indexOf(g,M);if(G==-1)break;M=G+g.length,y.push(Oe(w,G))}w++});for(var x=y.length-1;x>=0;x--)Vl(c.doc,g,y[x],Oe(y[x].line,y[x].ch+g.length))}}),d("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(c,g,y){c.state.specialChars=new RegExp(g.source+(g.test("	")?"":"|	"),"g"),y!=ql&&c.refresh()}),d("specialCharPlaceholder",$6,function(c){return c.refresh()},!0),d("electricChars",!0),d("inputStyle",F?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),d("spellcheck",!1,function(c,g){return c.getInputField().spellcheck=g},!0),d("autocorrect",!1,function(c,g){return c.getInputField().autocorrect=g},!0),d("autocapitalize",!1,function(c,g){return c.getInputField().autocapitalize=g},!0),d("rtlMoveVisually",!j),d("wholeLineUpdateBefore",!0),d("theme","default",function(c){pk(c),kf(c)},!0),d("keyMap","default",function(c,g,y){var w=nh(g),x=y!=ql&&nh(y);x&&x.detach&&x.detach(c,w),w.attach&&w.attach(c,x||null)}),d("extraKeys",null),d("configureMouse",null),d("lineWrapping",!1,h4,!0),d("gutters",[],function(c,g){c.display.gutterSpecs=Zm(g,c.options.lineNumbers),kf(c)},!0),d("fixedGutter",!0,function(c,g){c.display.gutters.style.left=g?$m(c.display)+"px":"0",c.refresh()},!0),d("coverGutterNextToScrollbar",!1,function(c){return zl(c)},!0),d("scrollbarStyle","native",function(c){vw(c),zl(c),c.display.scrollbars.setScrollTop(c.doc.scrollTop),c.display.scrollbars.setScrollLeft(c.doc.scrollLeft)},!0),d("lineNumbers",!1,function(c,g){c.display.gutterSpecs=Zm(c.options.gutters,g),kf(c)},!0),d("firstLineNumber",1,kf,!0),d("lineNumberFormatter",function(c){return c},kf,!0),d("showCursorWhenSelecting",!1,mf,!0),d("resetSelectionOnContextMenu",!0),d("lineWiseCopyCut",!0),d("pasteLinesPerSelection",!0),d("selectionsMayTouch",!1),d("readOnly",!1,function(c,g){g=="nocursor"&&(Rl(c),c.display.input.blur()),c.display.input.readOnlyChanged(g)}),d("screenReaderLabel",null,function(c,g){g=g===""?null:g,c.display.input.screenReaderLabelChanged(g)}),d("disableInput",!1,function(c,g){g||c.display.input.reset()},!0),d("dragDrop",!0,d4),d("allowDropFileTypes",null),d("cursorBlinkRate",530),d("cursorScrollMargin",0),d("cursorHeight",1,mf,!0),d("singleCursorHeightPerLine",!0,mf,!0),d("workTime",100),d("workDelay",100),d("flattenSpans",!0,xf,!0),d("addModeClass",!1,xf,!0),d("pollInterval",100),d("undoDepth",200,function(c,g){return c.doc.history.undoDepth=g}),d("historyEventDelay",1250),d("viewportMargin",10,function(c){return c.refresh()},!0),d("maxHighlightLength",1e4,xf,!0),d("moveInputWithCursor",!0,function(c,g){g||c.display.input.resetPosition()}),d("tabindex",null,function(c,g){return c.display.input.getField().tabIndex=g||""}),d("autofocus",null),d("direction","ltr",function(c,g){return c.doc.setDirection(g)},!0),d("phrases",null)}function d4(s,u,d){var c=d&&d!=ql;if(!u!=!c){var g=s.display.dragFunctions,y=u?oe:De;y(s.display.scroller,"dragstart",g.start),y(s.display.scroller,"dragenter",g.enter),y(s.display.scroller,"dragover",g.over),y(s.display.scroller,"dragleave",g.leave),y(s.display.scroller,"drop",g.drop)}}function h4(s){s.options.lineWrapping?(We(s.display.wrapper,"CodeMirror-wrap"),s.display.sizer.style.minWidth="",s.display.sizerWidth=null):(V(s.display.wrapper,"CodeMirror-wrap"),Dm(s)),Hm(s),Dr(s),gf(s),setTimeout(function(){return zl(s)},100)}function ln(s,u){var d=this;if(!(this instanceof ln))return new ln(s,u);this.options=u=u?pt(u):{},pt(gk,u,!1);var c=u.value;typeof c=="string"?c=new Mr(c,u.mode,null,u.lineSeparator,u.direction):u.mode&&(c.modeOption=u.mode),this.doc=c;var g=new ln.inputStyles[u.inputStyle](this),y=this.display=new T3(s,c,g,u);y.wrapper.CodeMirror=this,pk(this),u.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),vw(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ye,keySeq:null,specialChars:null},u.autofocus&&!F&&y.input.focus(),f&&h<11&&setTimeout(function(){return d.display.input.reset(!0)},20),p4(this),U3(),Aa(this),this.curOp.forceUpdate=!0,Ew(this,c),u.autofocus&&!F||this.hasFocus()?setTimeout(function(){d.hasFocus()&&!d.state.focused&&Um(d)},20):Rl(this);for(var w in ih)ih.hasOwnProperty(w)&&ih[w](this,u[w],ql);_w(this),u.finishInit&&u.finishInit(this);for(var x=0;x<cv.length;++x)cv[x](this);Oa(this),p&&u.lineWrapping&&getComputedStyle(y.lineDiv).textRendering=="optimizelegibility"&&(y.lineDiv.style.textRendering="auto")}ln.defaults=gk,ln.optionHandlers=ih;function p4(s){var u=s.display;oe(u.scroller,"mousedown",Hn(s,fk)),f&&h<11?oe(u.scroller,"dblclick",Hn(s,function(T){if(!Ue(s,T)){var M=Ca(s,T);if(!(!M||fv(s,T)||Io(s.display,T))){zt(T);var G=s.findWordAt(M);Xd(s.doc,G.anchor,G.head)}}})):oe(u.scroller,"dblclick",function(T){return Ue(s,T)||zt(T)}),oe(u.scroller,"contextmenu",function(T){return hk(s,T)}),oe(u.input.getField(),"contextmenu",function(T){u.scroller.contains(T.target)||hk(s,T)});var d,c={end:0};function g(){u.activeTouch&&(d=setTimeout(function(){return u.activeTouch=null},1e3),c=u.activeTouch,c.end=+new Date)}function y(T){if(T.touches.length!=1)return!1;var M=T.touches[0];return M.radiusX<=1&&M.radiusY<=1}function w(T,M){if(M.left==null)return!0;var G=M.left-T.left,te=M.top-T.top;return G*G+te*te>20*20}oe(u.scroller,"touchstart",function(T){if(!Ue(s,T)&&!y(T)&&!fv(s,T)){u.input.ensurePolled(),clearTimeout(d);var M=+new Date;u.activeTouch={start:M,moved:!1,prev:M-c.end<=300?c:null},T.touches.length==1&&(u.activeTouch.left=T.touches[0].pageX,u.activeTouch.top=T.touches[0].pageY)}}),oe(u.scroller,"touchmove",function(){u.activeTouch&&(u.activeTouch.moved=!0)}),oe(u.scroller,"touchend",function(T){var M=u.activeTouch;if(M&&!Io(u,T)&&M.left!=null&&!M.moved&&new Date-M.start<300){var G=s.coordsChar(u.activeTouch,"page"),te;!M.prev||w(M,M.prev)?te=new Ht(G,G):!M.prev.prev||w(M,M.prev.prev)?te=s.findWordAt(G):te=new Ht(Oe(G.line,0),Ke(s.doc,Oe(G.line+1,0))),s.setSelection(te.anchor,te.head),s.focus(),zt(T)}g()}),oe(u.scroller,"touchcancel",g),oe(u.scroller,"scroll",function(){u.scroller.clientHeight&&(yf(s,u.scroller.scrollTop),Ta(s,u.scroller.scrollLeft,!0),we(s,"scroll",s))}),oe(u.scroller,"mousewheel",function(T){return xw(s,T)}),oe(u.scroller,"DOMMouseScroll",function(T){return xw(s,T)}),oe(u.wrapper,"scroll",function(){return u.wrapper.scrollTop=u.wrapper.scrollLeft=0}),u.dragFunctions={enter:function(T){Ue(s,T)||Sn(T)},over:function(T){Ue(s,T)||(W3(s,T),Sn(T))},start:function(T){return V3(s,T)},drop:Hn(s,j3),leave:function(T){Ue(s,T)||Xw(s)}};var x=u.input.getField();oe(x,"keyup",function(T){return lk.call(s,T)}),oe(x,"keydown",Hn(s,ak)),oe(x,"keypress",Hn(s,uk)),oe(x,"focus",function(T){return Um(s,T)}),oe(x,"blur",function(T){return Rl(s,T)})}var cv=[];ln.defineInitHook=function(s){return cv.push(s)};function Ff(s,u,d,c){var g=s.doc,y;d==null&&(d="add"),d=="smart"&&(g.mode.indent?y=ff(s,u).state:d="prev");var w=s.options.tabSize,x=Ze(g,u),T=st(x.text,null,w);x.stateAfter&&(x.stateAfter=null);var M=x.text.match(/^\s*/)[0],G;if(!c&&!/\S/.test(x.text))G=0,d="not";else if(d=="smart"&&(G=g.mode.indent(y,x.text.slice(M.length),x.text),G==_e||G>150)){if(!c)return;d="prev"}d=="prev"?u>g.first?G=st(Ze(g,u-1).text,null,w):G=0:d=="add"?G=T+s.options.indentUnit:d=="subtract"?G=T-s.options.indentUnit:typeof d=="number"&&(G=T+d),G=Math.max(0,G);var te="",ue=0;if(s.options.indentWithTabs)for(var se=Math.floor(G/w);se;--se)ue+=w,te+="	";if(ue<G&&(te+=re(G-ue)),te!=M)return Vl(g,te,Oe(u,0),Oe(u,M.length),"+input"),x.stateAfter=null,!0;for(var be=0;be<g.sel.ranges.length;be++){var Ee=g.sel.ranges[be];if(Ee.head.line==u&&Ee.head.ch<M.length){var Pe=Oe(u,M.length);iv(g,be,new Ht(Pe,Pe));break}}}var ji=null;function oh(s){ji=s}function dv(s,u,d,c,g){var y=s.doc;s.display.shift=!1,c||(c=y.sel);var w=+new Date-200,x=g=="paste"||s.state.pasteIncoming>w,T=rf(u),M=null;if(x&&c.ranges.length>1)if(ji&&ji.text.join(`
`)==u){if(c.ranges.length%ji.text.length==0){M=[];for(var G=0;G<ji.text.length;G++)M.push(y.splitLines(ji.text[G]))}}else T.length==c.ranges.length&&s.options.pasteLinesPerSelection&&(M=ge(T,function(Be){return[Be]}));for(var te=s.curOp.updateInput,ue=c.ranges.length-1;ue>=0;ue--){var se=c.ranges[ue],be=se.from(),Ee=se.to();se.empty()&&(d&&d>0?be=Oe(be.line,be.ch-d):s.state.overwrite&&!x?Ee=Oe(Ee.line,Math.min(Ze(y,Ee.line).text.length,Ee.ch+fe(T).length)):x&&ji&&ji.lineWise&&ji.text.join(`
`)==T.join(`
`)&&(be=Ee=Oe(be.line,0)));var Pe={from:be,to:Ee,text:M?M[ue%M.length]:T,origin:g||(x?"paste":s.state.cutIncoming>w?"cut":"+input")};jl(s.doc,Pe),$n(s,"inputRead",s,Pe)}u&&!x&&vk(s,u),Bl(s),s.curOp.updateInput<2&&(s.curOp.updateInput=te),s.curOp.typing=!0,s.state.pasteIncoming=s.state.cutIncoming=-1}function mk(s,u){var d=s.clipboardData&&s.clipboardData.getData("Text");if(d)return s.preventDefault(),!u.isReadOnly()&&!u.options.disableInput&&jr(u,function(){return dv(u,d,0,null,"paste")}),!0}function vk(s,u){if(!(!s.options.electricChars||!s.options.smartIndent))for(var d=s.doc.sel,c=d.ranges.length-1;c>=0;c--){var g=d.ranges[c];if(!(g.head.ch>100||c&&d.ranges[c-1].head.line==g.head.line)){var y=s.getModeAt(g.head),w=!1;if(y.electricChars){for(var x=0;x<y.electricChars.length;x++)if(u.indexOf(y.electricChars.charAt(x))>-1){w=Ff(s,g.head.line,"smart");break}}else y.electricInput&&y.electricInput.test(Ze(s.doc,g.head.line).text.slice(0,g.head.ch))&&(w=Ff(s,g.head.line,"smart"));w&&$n(s,"electricInput",s,g.head.line)}}}function yk(s){for(var u=[],d=[],c=0;c<s.doc.sel.ranges.length;c++){var g=s.doc.sel.ranges[c].head.line,y={anchor:Oe(g,0),head:Oe(g+1,0)};d.push(y),u.push(s.getRange(y.anchor,y.head))}return{text:u,ranges:d}}function bk(s,u,d,c){s.setAttribute("autocorrect",d?"":"off"),s.setAttribute("autocapitalize",c?"":"off"),s.setAttribute("spellcheck",!!u)}function _k(){var s=ie("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),u=ie("div",[s],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return p?s.style.width="1000px":s.setAttribute("wrap","off"),E&&(s.style.border="1px solid black"),bk(s),u}function g4(s){var u=s.optionHandlers,d=s.helpers={};s.prototype={constructor:s,focus:function(){window.focus(),this.display.input.focus()},setOption:function(c,g){var y=this.options,w=y[c];y[c]==g&&c!="mode"||(y[c]=g,u.hasOwnProperty(c)&&Hn(this,u[c])(this,g,w),we(this,"optionChange",this,c))},getOption:function(c){return this.options[c]},getDoc:function(){return this.doc},addKeyMap:function(c,g){this.state.keyMaps[g?"push":"unshift"](nh(c))},removeKeyMap:function(c){for(var g=this.state.keyMaps,y=0;y<g.length;++y)if(g[y]==c||g[y].name==c)return g.splice(y,1),!0},addOverlay:hr(function(c,g){var y=c.token?c:s.getMode(this.options,c);if(y.startState)throw new Error("Overlays may not be stateful.");ye(this.state.overlays,{mode:y,modeSpec:c,opaque:g&&g.opaque,priority:g&&g.priority||0},function(w){return w.priority}),this.state.modeGen++,Dr(this)}),removeOverlay:hr(function(c){for(var g=this.state.overlays,y=0;y<g.length;++y){var w=g[y].modeSpec;if(w==c||typeof c=="string"&&w.name==c){g.splice(y,1),this.state.modeGen++,Dr(this);return}}}),indentLine:hr(function(c,g,y){typeof g!="string"&&typeof g!="number"&&(g==null?g=this.options.smartIndent?"smart":"prev":g=g?"add":"subtract"),wa(this.doc,c)&&Ff(this,c,g,y)}),indentSelection:hr(function(c){for(var g=this.doc.sel.ranges,y=-1,w=0;w<g.length;w++){var x=g[w];if(x.empty())x.head.line>y&&(Ff(this,x.head.line,c,!0),y=x.head.line,w==this.doc.sel.primIndex&&Bl(this));else{var T=x.from(),M=x.to(),G=Math.max(y,T.line);y=Math.min(this.lastLine(),M.line-(M.ch?0:1))+1;for(var te=G;te<y;++te)Ff(this,te,c);var ue=this.doc.sel.ranges;T.ch==0&&g.length==ue.length&&ue[w].from().ch>0&&iv(this.doc,w,new Ht(T,ue[w].to()),je)}}}),getTokenAt:function(c,g){return O1(this,c,g)},getLineTokens:function(c,g){return O1(this,Oe(c),g,!0)},getTokenTypeAt:function(c){c=Ke(this.doc,c);var g=T1(this,Ze(this.doc,c.line)),y=0,w=(g.length-1)/2,x=c.ch,T;if(x==0)T=g[2];else for(;;){var M=y+w>>1;if((M?g[M*2-1]:0)>=x)w=M;else if(g[M*2+1]<x)y=M+1;else{T=g[M*2+2];break}}var G=T?T.indexOf("overlay "):-1;return G<0?T:G==0?null:T.slice(0,G-1)},getModeAt:function(c){var g=this.doc.mode;return g.innerMode?s.innerMode(g,this.getTokenAt(c).state).mode:g},getHelper:function(c,g){return this.getHelpers(c,g)[0]},getHelpers:function(c,g){var y=[];if(!d.hasOwnProperty(g))return y;var w=d[g],x=this.getModeAt(c);if(typeof x[g]=="string")w[x[g]]&&y.push(w[x[g]]);else if(x[g])for(var T=0;T<x[g].length;T++){var M=w[x[g][T]];M&&y.push(M)}else x.helperType&&w[x.helperType]?y.push(w[x.helperType]):w[x.name]&&y.push(w[x.name]);for(var G=0;G<w._global.length;G++){var te=w._global[G];te.pred(x,this)&&Re(y,te.val)==-1&&y.push(te.val)}return y},getStateAfter:function(c,g){var y=this.doc;return c=Nt(y,c==null?y.first+y.size-1:c),ff(this,c+1,g).state},cursorCoords:function(c,g){var y,w=this.doc.sel.primary();return c==null?y=w.head:typeof c=="object"?y=Ke(this.doc,c):y=c?w.from():w.to(),$i(this,y,g||"page")},charCoords:function(c,g){return Hd(this,Ke(this.doc,c),g||"page")},coordsChar:function(c,g){return c=iw(this,c,g||"page"),Rm(this,c.left,c.top)},lineAtHeight:function(c,g){return c=iw(this,{top:c,left:0},g||"page").top,oo(this.doc,c+this.display.viewOffset)},heightAtLine:function(c,g,y){var w=!1,x;if(typeof c=="number"){var T=this.doc.first+this.doc.size-1;c<this.doc.first?c=this.doc.first:c>T&&(c=T,w=!0),x=Ze(this.doc,c)}else x=c;return $d(this,x,{top:0,left:0},g||"page",y||w).top+(w?this.doc.height-Po(x):0)},defaultTextHeight:function(){return Il(this.display)},defaultCharWidth:function(){return Fl(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(c,g,y,w,x){var T=this.display;c=$i(this,Ke(this.doc,c));var M=c.bottom,G=c.left;if(g.style.position="absolute",g.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(g),T.sizer.appendChild(g),w=="over")M=c.top;else if(w=="above"||w=="near"){var te=Math.max(T.wrapper.clientHeight,this.doc.height),ue=Math.max(T.sizer.clientWidth,T.lineSpace.clientWidth);(w=="above"||c.bottom+g.offsetHeight>te)&&c.top>g.offsetHeight?M=c.top-g.offsetHeight:c.bottom+g.offsetHeight<=te&&(M=c.bottom),G+g.offsetWidth>ue&&(G=ue-g.offsetWidth)}g.style.top=M+"px",g.style.left=g.style.right="",x=="right"?(G=T.sizer.clientWidth-g.offsetWidth,g.style.right="0px"):(x=="left"?G=0:x=="middle"&&(G=(T.sizer.clientWidth-g.offsetWidth)/2),g.style.left=G+"px"),y&&d3(this,{left:G,top:M,right:G+g.offsetWidth,bottom:M+g.offsetHeight})},triggerOnKeyDown:hr(ak),triggerOnKeyPress:hr(uk),triggerOnKeyUp:lk,triggerOnMouseDown:hr(fk),execCommand:function(c){if(Nf.hasOwnProperty(c))return Nf[c].call(null,this)},triggerElectric:hr(function(c){vk(this,c)}),findPosH:function(c,g,y,w){var x=1;g<0&&(x=-1,g=-g);for(var T=Ke(this.doc,c),M=0;M<g&&(T=hv(this.doc,T,x,y,w),!T.hitSide);++M);return T},moveH:hr(function(c,g){var y=this;this.extendSelectionsBy(function(w){return y.display.shift||y.doc.extend||w.empty()?hv(y.doc,w.head,c,g,y.options.rtlMoveVisually):c<0?w.from():w.to()},Ve)}),deleteH:hr(function(c,g){var y=this.doc.sel,w=this.doc;y.somethingSelected()?w.replaceSelection("",null,"+delete"):Kl(this,function(x){var T=hv(w,x.head,c,g,!1);return c<0?{from:T,to:x.head}:{from:x.head,to:T}})}),findPosV:function(c,g,y,w){var x=1,T=w;g<0&&(x=-1,g=-g);for(var M=Ke(this.doc,c),G=0;G<g;++G){var te=$i(this,M,"div");if(T==null?T=te.left:te.left=T,M=wk(this,te,x,y),M.hitSide)break}return M},moveV:hr(function(c,g){var y=this,w=this.doc,x=[],T=!this.display.shift&&!w.extend&&w.sel.somethingSelected();if(w.extendSelectionsBy(function(G){if(T)return c<0?G.from():G.to();var te=$i(y,G.head,"div");G.goalColumn!=null&&(te.left=G.goalColumn),x.push(te.left);var ue=wk(y,te,c,g);return g=="page"&&G==w.sel.primary()&&qm(y,Hd(y,ue,"div").top-te.top),ue},Ve),x.length)for(var M=0;M<w.sel.ranges.length;M++)w.sel.ranges[M].goalColumn=x[M]}),findWordAt:function(c){var g=this.doc,y=Ze(g,c.line).text,w=c.ch,x=c.ch;if(y){var T=this.getHelper(c,"wordChars");(c.sticky=="before"||x==y.length)&&w?--w:++x;for(var M=y.charAt(w),G=D(M,T)?function(te){return D(te,T)}:/\s/.test(M)?function(te){return/\s/.test(te)}:function(te){return!/\s/.test(te)&&!D(te)};w>0&&G(y.charAt(w-1));)--w;for(;x<y.length&&G(y.charAt(x));)++x}return new Ht(Oe(c.line,w),Oe(c.line,x))},toggleOverwrite:function(c){c!=null&&c==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?We(this.display.cursorDiv,"CodeMirror-overwrite"):V(this.display.cursorDiv,"CodeMirror-overwrite"),we(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Te()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:hr(function(c,g){vf(this,c,g)}),getScrollInfo:function(){var c=this.display.scroller;return{left:c.scrollLeft,top:c.scrollTop,height:c.scrollHeight-ao(this)-this.display.barHeight,width:c.scrollWidth-ao(this)-this.display.barWidth,clientHeight:Lm(this),clientWidth:ka(this)}},scrollIntoView:hr(function(c,g){c==null?(c={from:this.doc.sel.primary().head,to:null},g==null&&(g=this.options.cursorScrollMargin)):typeof c=="number"?c={from:Oe(c,0),to:null}:c.from==null&&(c={from:c,to:null}),c.to||(c.to=c.from),c.margin=g||0,c.from.line!=null?h3(this,c):hw(this,c.from,c.to,c.margin)}),setSize:hr(function(c,g){var y=this,w=function(T){return typeof T=="number"||/^\d+$/.test(String(T))?T+"px":T};c!=null&&(this.display.wrapper.style.width=w(c)),g!=null&&(this.display.wrapper.style.height=w(g)),this.options.lineWrapping&&tw(this);var x=this.display.viewFrom;this.doc.iter(x,this.display.viewTo,function(T){if(T.widgets){for(var M=0;M<T.widgets.length;M++)if(T.widgets[M].noHScroll){ks(y,x,"widget");break}}++x}),this.curOp.forceUpdate=!0,we(this,"refresh",this)}),operation:function(c){return jr(this,c)},startOperation:function(){return Aa(this)},endOperation:function(){return Oa(this)},refresh:hr(function(){var c=this.display.cachedTextHeight;Dr(this),this.curOp.forceUpdate=!0,gf(this),vf(this,this.doc.scrollLeft,this.doc.scrollTop),Ym(this.display),(c==null||Math.abs(c-Il(this.display))>.5||this.options.lineWrapping)&&Hm(this),we(this,"refresh",this)}),swapDoc:hr(function(c){var g=this.doc;return g.cm=null,this.state.selectingText&&this.state.selectingText(),Ew(this,c),gf(this),this.display.input.reset(),vf(this,c.scrollLeft,c.scrollTop),this.curOp.forceScroll=!0,$n(this,"swapDoc",this,g),g}),phrase:function(c){var g=this.options.phrases;return g&&Object.prototype.hasOwnProperty.call(g,c)?g[c]:c},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Bt(s),s.registerHelper=function(c,g,y){d.hasOwnProperty(c)||(d[c]=s[c]={_global:[]}),d[c][g]=y},s.registerGlobalHelper=function(c,g,y,w){s.registerHelper(c,g,w),d[c]._global.push({pred:y,val:w})}}function hv(s,u,d,c,g){var y=u,w=d,x=Ze(s,u.line),T=g&&s.direction=="rtl"?-d:d;function M(){var He=u.line+T;return He<s.first||He>=s.first+s.size?!1:(u=new Oe(He,u.ch,u.sticky),x=Ze(s,He))}function G(He){var ze;if(c=="codepoint"){var Ge=x.text.charCodeAt(u.ch+(d>0?0:-1));if(isNaN(Ge))ze=null;else{var ot=d>0?Ge>=55296&&Ge<56320:Ge>=56320&&Ge<57343;ze=new Oe(u.line,Math.max(0,Math.min(x.text.length,u.ch+d*(ot?2:1))),-d)}}else g?ze=Y3(s.cm,x,u,d):ze=sv(x,u,d);if(ze==null)if(!He&&M())u=av(g,s.cm,x,u.line,T);else return!1;else u=ze;return!0}if(c=="char"||c=="codepoint")G();else if(c=="column")G(!0);else if(c=="word"||c=="group")for(var te=null,ue=c=="group",se=s.cm&&s.cm.getHelper(u,"wordChars"),be=!0;!(d<0&&!G(!be));be=!1){var Ee=x.text.charAt(u.ch)||`
`,Pe=D(Ee,se)?"w":ue&&Ee==`
`?"n":!ue||/\s/.test(Ee)?null:"p";if(ue&&!be&&!Pe&&(Pe="s"),te&&te!=Pe){d<0&&(d=1,G(),u.sticky="after");break}if(Pe&&(te=Pe),d>0&&!G(!be))break}var Be=Qd(s,u,y,w,!0);return ne(y,Be)&&(Be.hitSide=!0),Be}function wk(s,u,d,c){var g=s.doc,y=u.left,w;if(c=="page"){var x=Math.min(s.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),T=Math.max(x-.5*Il(s.display),3);w=(d>0?u.bottom:u.top)+d*T}else c=="line"&&(w=d>0?u.bottom+3:u.top-3);for(var M;M=Rm(s,y,w),!!M.outside;){if(d<0?w<=0:w>=g.height){M.hitSide=!0;break}w+=d*5}return M}var Gt=function(s){this.cm=s,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ye,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Gt.prototype.init=function(s){var u=this,d=this,c=d.cm,g=d.div=s.lineDiv;g.contentEditable=!0,bk(g,c.options.spellcheck,c.options.autocorrect,c.options.autocapitalize);function y(x){for(var T=x.target;T;T=T.parentNode){if(T==g)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(T.className))break}return!1}oe(g,"paste",function(x){!y(x)||Ue(c,x)||mk(x,c)||h<=11&&setTimeout(Hn(c,function(){return u.updateFromDOM()}),20)}),oe(g,"compositionstart",function(x){u.composing={data:x.data,done:!1}}),oe(g,"compositionupdate",function(x){u.composing||(u.composing={data:x.data,done:!1})}),oe(g,"compositionend",function(x){u.composing&&(x.data!=u.composing.data&&u.readFromDOMSoon(),u.composing.done=!0)}),oe(g,"touchstart",function(){return d.forceCompositionEnd()}),oe(g,"input",function(){u.composing||u.readFromDOMSoon()});function w(x){if(!(!y(x)||Ue(c,x))){if(c.somethingSelected())oh({lineWise:!1,text:c.getSelections()}),x.type=="cut"&&c.replaceSelection("",null,"cut");else if(c.options.lineWiseCopyCut){var T=yk(c);oh({lineWise:!0,text:T.text}),x.type=="cut"&&c.operation(function(){c.setSelections(T.ranges,0,je),c.replaceSelection("",null,"cut")})}else return;if(x.clipboardData){x.clipboardData.clearData();var M=ji.text.join(`
`);if(x.clipboardData.setData("Text",M),x.clipboardData.getData("Text")==M){x.preventDefault();return}}var G=_k(),te=G.firstChild;c.display.lineSpace.insertBefore(G,c.display.lineSpace.firstChild),te.value=ji.text.join(`
`);var ue=Te();bt(te),setTimeout(function(){c.display.lineSpace.removeChild(G),ue.focus(),ue==g&&d.showPrimarySelection()},50)}}oe(g,"copy",w),oe(g,"cut",w)},Gt.prototype.screenReaderLabelChanged=function(s){s?this.div.setAttribute("aria-label",s):this.div.removeAttribute("aria-label")},Gt.prototype.prepareSelection=function(){var s=fw(this.cm,!1);return s.focus=Te()==this.div,s},Gt.prototype.showSelection=function(s,u){!s||!this.cm.display.view.length||((s.focus||u)&&this.showPrimarySelection(),this.showMultipleSelections(s))},Gt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Gt.prototype.showPrimarySelection=function(){var s=this.getSelection(),u=this.cm,d=u.doc.sel.primary(),c=d.from(),g=d.to();if(u.display.viewTo==u.display.viewFrom||c.line>=u.display.viewTo||g.line<u.display.viewFrom){s.removeAllRanges();return}var y=sh(u,s.anchorNode,s.anchorOffset),w=sh(u,s.focusNode,s.focusOffset);if(!(y&&!y.bad&&w&&!w.bad&&N(ft(y,w),c)==0&&N(Me(y,w),g)==0)){var x=u.display.view,T=c.line>=u.display.viewFrom&&kk(u,c)||{node:x[0].measure.map[2],offset:0},M=g.line<u.display.viewTo&&kk(u,g);if(!M){var G=x[x.length-1].measure,te=G.maps?G.maps[G.maps.length-1]:G.map;M={node:te[te.length-1],offset:te[te.length-2]-te[te.length-3]}}if(!T||!M){s.removeAllRanges();return}var ue=s.rangeCount&&s.getRangeAt(0),se;try{se=ce(T.node,T.offset,M.offset,M.node)}catch{}se&&(!i&&u.state.focused?(s.collapse(T.node,T.offset),se.collapsed||(s.removeAllRanges(),s.addRange(se))):(s.removeAllRanges(),s.addRange(se)),ue&&s.anchorNode==null?s.addRange(ue):i&&this.startGracePeriod()),this.rememberSelection()}},Gt.prototype.startGracePeriod=function(){var s=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){s.gracePeriod=!1,s.selectionChanged()&&s.cm.operation(function(){return s.cm.curOp.selectionChanged=!0})},20)},Gt.prototype.showMultipleSelections=function(s){W(this.cm.display.cursorDiv,s.cursors),W(this.cm.display.selectionDiv,s.selection)},Gt.prototype.rememberSelection=function(){var s=this.getSelection();this.lastAnchorNode=s.anchorNode,this.lastAnchorOffset=s.anchorOffset,this.lastFocusNode=s.focusNode,this.lastFocusOffset=s.focusOffset},Gt.prototype.selectionInEditor=function(){var s=this.getSelection();if(!s.rangeCount)return!1;var u=s.getRangeAt(0).commonAncestorContainer;return pe(this.div,u)},Gt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Te()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Gt.prototype.blur=function(){this.div.blur()},Gt.prototype.getField=function(){return this.div},Gt.prototype.supportsTouch=function(){return!0},Gt.prototype.receivedFocus=function(){var s=this,u=this;this.selectionInEditor()?setTimeout(function(){return s.pollSelection()},20):jr(this.cm,function(){return u.cm.curOp.selectionChanged=!0});function d(){u.cm.state.focused&&(u.pollSelection(),u.polling.set(u.cm.options.pollInterval,d))}this.polling.set(this.cm.options.pollInterval,d)},Gt.prototype.selectionChanged=function(){var s=this.getSelection();return s.anchorNode!=this.lastAnchorNode||s.anchorOffset!=this.lastAnchorOffset||s.focusNode!=this.lastFocusNode||s.focusOffset!=this.lastFocusOffset},Gt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var s=this.getSelection(),u=this.cm;if(S&&v&&this.cm.display.gutterSpecs.length&&m4(s.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var d=sh(u,s.anchorNode,s.anchorOffset),c=sh(u,s.focusNode,s.focusOffset);d&&c&&jr(u,function(){nr(u.doc,Cs(d,c),je),(d.bad||c.bad)&&(u.curOp.selectionChanged=!0)})}}},Gt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var s=this.cm,u=s.display,d=s.doc.sel.primary(),c=d.from(),g=d.to();if(c.ch==0&&c.line>s.firstLine()&&(c=Oe(c.line-1,Ze(s.doc,c.line-1).length)),g.ch==Ze(s.doc,g.line).text.length&&g.line<s.lastLine()&&(g=Oe(g.line+1,0)),c.line<u.viewFrom||g.line>u.viewTo-1)return!1;var y,w,x;c.line==u.viewFrom||(y=Sa(s,c.line))==0?(w=$t(u.view[0].line),x=u.view[0].node):(w=$t(u.view[y].line),x=u.view[y-1].node.nextSibling);var T=Sa(s,g.line),M,G;if(T==u.view.length-1?(M=u.viewTo-1,G=u.lineDiv.lastChild):(M=$t(u.view[T+1].line)-1,G=u.view[T+1].node.previousSibling),!x)return!1;for(var te=s.doc.splitLines(v4(s,x,G,w,M)),ue=io(s.doc,Oe(w,0),Oe(M,Ze(s.doc,M).text.length));te.length>1&&ue.length>1;)if(fe(te)==fe(ue))te.pop(),ue.pop(),M--;else if(te[0]==ue[0])te.shift(),ue.shift(),w++;else break;for(var se=0,be=0,Ee=te[0],Pe=ue[0],Be=Math.min(Ee.length,Pe.length);se<Be&&Ee.charCodeAt(se)==Pe.charCodeAt(se);)++se;for(var He=fe(te),ze=fe(ue),Ge=Math.min(He.length-(te.length==1?se:0),ze.length-(ue.length==1?se:0));be<Ge&&He.charCodeAt(He.length-be-1)==ze.charCodeAt(ze.length-be-1);)++be;if(te.length==1&&ue.length==1&&w==c.line)for(;se&&se>c.ch&&He.charCodeAt(He.length-be-1)==ze.charCodeAt(ze.length-be-1);)se--,be++;te[te.length-1]=He.slice(0,He.length-be).replace(/^\u200b+/,""),te[0]=te[0].slice(se).replace(/\u200b+$/,"");var ot=Oe(w,se),rt=Oe(M,ue.length?fe(ue).length-be:0);if(te.length>1||te[0]||N(ot,rt))return Vl(s.doc,te,ot,rt,"+input"),!0},Gt.prototype.ensurePolled=function(){this.forceCompositionEnd()},Gt.prototype.reset=function(){this.forceCompositionEnd()},Gt.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Gt.prototype.readFromDOMSoon=function(){var s=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(s.readDOMTimeout=null,s.composing)if(s.composing.done)s.composing=null;else return;s.updateFromDOM()},80))},Gt.prototype.updateFromDOM=function(){var s=this;(this.cm.isReadOnly()||!this.pollContent())&&jr(this.cm,function(){return Dr(s.cm)})},Gt.prototype.setUneditable=function(s){s.contentEditable="false"},Gt.prototype.onKeyPress=function(s){s.charCode==0||this.composing||(s.preventDefault(),this.cm.isReadOnly()||Hn(this.cm,dv)(this.cm,String.fromCharCode(s.charCode==null?s.keyCode:s.charCode),0))},Gt.prototype.readOnlyChanged=function(s){this.div.contentEditable=String(s!="nocursor")},Gt.prototype.onContextMenu=function(){},Gt.prototype.resetPosition=function(){},Gt.prototype.needsContentAttribute=!0;function kk(s,u){var d=Pm(s,u.line);if(!d||d.hidden)return null;var c=Ze(s.doc,u.line),g=Y1(d,c,u.line),y=Le(c,s.doc.direction),w="left";if(y){var x=Y(y,u.ch);w=x%2?"right":"left"}var T=Q1(g.map,u.ch,w);return T.offset=T.collapse=="right"?T.end:T.start,T}function m4(s){for(var u=s;u;u=u.parentNode)if(/CodeMirror-gutter-wrapper/.test(u.className))return!0;return!1}function Gl(s,u){return u&&(s.bad=!0),s}function v4(s,u,d,c,g){var y="",w=!1,x=s.doc.lineSeparator(),T=!1;function M(se){return function(be){return be.id==se}}function G(){w&&(y+=x,T&&(y+=x),w=T=!1)}function te(se){se&&(G(),y+=se)}function ue(se){if(se.nodeType==1){var be=se.getAttribute("cm-text");if(be){te(be);return}var Ee=se.getAttribute("cm-marker"),Pe;if(Ee){var Be=s.findMarks(Oe(c,0),Oe(g+1,0),M(+Ee));Be.length&&(Pe=Be[0].find(0))&&te(io(s.doc,Pe.from,Pe.to).join(x));return}if(se.getAttribute("contenteditable")=="false")return;var He=/^(pre|div|p|li|table|br)$/i.test(se.nodeName);if(!/^br$/i.test(se.nodeName)&&se.textContent.length==0)return;He&&G();for(var ze=0;ze<se.childNodes.length;ze++)ue(se.childNodes[ze]);/^(pre|p)$/i.test(se.nodeName)&&(T=!0),He&&(w=!0)}else se.nodeType==3&&te(se.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;ue(u),u!=d;)u=u.nextSibling,T=!1;return y}function sh(s,u,d){var c;if(u==s.display.lineDiv){if(c=s.display.lineDiv.childNodes[d],!c)return Gl(s.clipPos(Oe(s.display.viewTo-1)),!0);u=null,d=0}else for(c=u;;c=c.parentNode){if(!c||c==s.display.lineDiv)return null;if(c.parentNode&&c.parentNode==s.display.lineDiv)break}for(var g=0;g<s.display.view.length;g++){var y=s.display.view[g];if(y.node==c)return y4(y,u,d)}}function y4(s,u,d){var c=s.text.firstChild,g=!1;if(!u||!pe(c,u))return Gl(Oe($t(s.line),0),!0);if(u==c&&(g=!0,u=c.childNodes[d],d=0,!u)){var y=s.rest?fe(s.rest):s.line;return Gl(Oe($t(y),y.text.length),g)}var w=u.nodeType==3?u:null,x=u;for(!w&&u.childNodes.length==1&&u.firstChild.nodeType==3&&(w=u.firstChild,d&&(d=w.nodeValue.length));x.parentNode!=c;)x=x.parentNode;var T=s.measure,M=T.maps;function G(Pe,Be,He){for(var ze=-1;ze<(M?M.length:0);ze++)for(var Ge=ze<0?T.map:M[ze],ot=0;ot<Ge.length;ot+=3){var rt=Ge[ot+2];if(rt==Pe||rt==Be){var _t=$t(ze<0?s.line:s.rest[ze]),Qt=Ge[ot]+He;return(He<0||rt!=Pe)&&(Qt=Ge[ot+(He?1:0)]),Oe(_t,Qt)}}}var te=G(w,x,d);if(te)return Gl(te,g);for(var ue=x.nextSibling,se=w?w.nodeValue.length-d:0;ue;ue=ue.nextSibling){if(te=G(ue,ue.firstChild,0),te)return Gl(Oe(te.line,te.ch-se),g);se+=ue.textContent.length}for(var be=x.previousSibling,Ee=d;be;be=be.previousSibling){if(te=G(be,be.firstChild,-1),te)return Gl(Oe(te.line,te.ch+Ee),g);Ee+=be.textContent.length}}var kn=function(s){this.cm=s,this.prevInput="",this.pollingFast=!1,this.polling=new Ye,this.hasSelection=!1,this.composing=null};kn.prototype.init=function(s){var u=this,d=this,c=this.cm;this.createField(s);var g=this.textarea;s.wrapper.insertBefore(this.wrapper,s.wrapper.firstChild),E&&(g.style.width="0px"),oe(g,"input",function(){f&&h>=9&&u.hasSelection&&(u.hasSelection=null),d.poll()}),oe(g,"paste",function(w){Ue(c,w)||mk(w,c)||(c.state.pasteIncoming=+new Date,d.fastPoll())});function y(w){if(!Ue(c,w)){if(c.somethingSelected())oh({lineWise:!1,text:c.getSelections()});else if(c.options.lineWiseCopyCut){var x=yk(c);oh({lineWise:!0,text:x.text}),w.type=="cut"?c.setSelections(x.ranges,null,je):(d.prevInput="",g.value=x.text.join(`
`),bt(g))}else return;w.type=="cut"&&(c.state.cutIncoming=+new Date)}}oe(g,"cut",y),oe(g,"copy",y),oe(s.scroller,"paste",function(w){if(!(Io(s,w)||Ue(c,w))){if(!g.dispatchEvent){c.state.pasteIncoming=+new Date,d.focus();return}var x=new Event("paste");x.clipboardData=w.clipboardData,g.dispatchEvent(x)}}),oe(s.lineSpace,"selectstart",function(w){Io(s,w)||zt(w)}),oe(g,"compositionstart",function(){var w=c.getCursor("from");d.composing&&d.composing.range.clear(),d.composing={start:w,range:c.markText(w,c.getCursor("to"),{className:"CodeMirror-composing"})}}),oe(g,"compositionend",function(){d.composing&&(d.poll(),d.composing.range.clear(),d.composing=null)})},kn.prototype.createField=function(s){this.wrapper=_k(),this.textarea=this.wrapper.firstChild},kn.prototype.screenReaderLabelChanged=function(s){s?this.textarea.setAttribute("aria-label",s):this.textarea.removeAttribute("aria-label")},kn.prototype.prepareSelection=function(){var s=this.cm,u=s.display,d=s.doc,c=fw(s);if(s.options.moveInputWithCursor){var g=$i(s,d.sel.primary().head,"div"),y=u.wrapper.getBoundingClientRect(),w=u.lineDiv.getBoundingClientRect();c.teTop=Math.max(0,Math.min(u.wrapper.clientHeight-10,g.top+w.top-y.top)),c.teLeft=Math.max(0,Math.min(u.wrapper.clientWidth-10,g.left+w.left-y.left))}return c},kn.prototype.showSelection=function(s){var u=this.cm,d=u.display;W(d.cursorDiv,s.cursors),W(d.selectionDiv,s.selection),s.teTop!=null&&(this.wrapper.style.top=s.teTop+"px",this.wrapper.style.left=s.teLeft+"px")},kn.prototype.reset=function(s){if(!(this.contextMenuPending||this.composing)){var u=this.cm;if(u.somethingSelected()){this.prevInput="";var d=u.getSelection();this.textarea.value=d,u.state.focused&&bt(this.textarea),f&&h>=9&&(this.hasSelection=d)}else s||(this.prevInput=this.textarea.value="",f&&h>=9&&(this.hasSelection=null))}},kn.prototype.getField=function(){return this.textarea},kn.prototype.supportsTouch=function(){return!1},kn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!F||Te()!=this.textarea))try{this.textarea.focus()}catch{}},kn.prototype.blur=function(){this.textarea.blur()},kn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},kn.prototype.receivedFocus=function(){this.slowPoll()},kn.prototype.slowPoll=function(){var s=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){s.poll(),s.cm.state.focused&&s.slowPoll()})},kn.prototype.fastPoll=function(){var s=!1,u=this;u.pollingFast=!0;function d(){var c=u.poll();!c&&!s?(s=!0,u.polling.set(60,d)):(u.pollingFast=!1,u.slowPoll())}u.polling.set(20,d)},kn.prototype.poll=function(){var s=this,u=this.cm,d=this.textarea,c=this.prevInput;if(this.contextMenuPending||!u.state.focused||Dd(d)&&!c&&!this.composing||u.isReadOnly()||u.options.disableInput||u.state.keySeq)return!1;var g=d.value;if(g==c&&!u.somethingSelected())return!1;if(f&&h>=9&&this.hasSelection===g||O&&/[\uf700-\uf7ff]/.test(g))return u.display.input.reset(),!1;if(u.doc.sel==u.display.selForContextMenu){var y=g.charCodeAt(0);if(y==8203&&!c&&(c="\u200B"),y==8666)return this.reset(),this.cm.execCommand("undo")}for(var w=0,x=Math.min(c.length,g.length);w<x&&c.charCodeAt(w)==g.charCodeAt(w);)++w;return jr(u,function(){dv(u,g.slice(w),c.length-w,null,s.composing?"*compose":null),g.length>1e3||g.indexOf(`
`)>-1?d.value=s.prevInput="":s.prevInput=g,s.composing&&(s.composing.range.clear(),s.composing.range=u.markText(s.composing.start,u.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},kn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},kn.prototype.onKeyPress=function(){f&&h>=9&&(this.hasSelection=null),this.fastPoll()},kn.prototype.onContextMenu=function(s){var u=this,d=u.cm,c=d.display,g=u.textarea;u.contextMenuPending&&u.contextMenuPending();var y=Ca(d,s),w=c.scroller.scrollTop;if(!y||b)return;var x=d.options.resetSelectionOnContextMenu;x&&d.doc.sel.contains(y)==-1&&Hn(d,nr)(d.doc,Cs(y),je);var T=g.style.cssText,M=u.wrapper.style.cssText,G=u.wrapper.offsetParent.getBoundingClientRect();u.wrapper.style.cssText="position: static",g.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(s.clientY-G.top-5)+"px; left: "+(s.clientX-G.left-5)+`px;
      z-index: 1000; background: `+(f?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var te;p&&(te=window.scrollY),c.input.focus(),p&&window.scrollTo(null,te),c.input.reset(),d.somethingSelected()||(g.value=u.prevInput=" "),u.contextMenuPending=se,c.selForContextMenu=d.doc.sel,clearTimeout(c.detectingSelectAll);function ue(){if(g.selectionStart!=null){var Ee=d.somethingSelected(),Pe="\u200B"+(Ee?g.value:"");g.value="\u21DA",g.value=Pe,u.prevInput=Ee?"":"\u200B",g.selectionStart=1,g.selectionEnd=Pe.length,c.selForContextMenu=d.doc.sel}}function se(){if(u.contextMenuPending==se&&(u.contextMenuPending=!1,u.wrapper.style.cssText=M,g.style.cssText=T,f&&h<9&&c.scrollbars.setScrollTop(c.scroller.scrollTop=w),g.selectionStart!=null)){(!f||f&&h<9)&&ue();var Ee=0,Pe=function(){c.selForContextMenu==d.doc.sel&&g.selectionStart==0&&g.selectionEnd>0&&u.prevInput=="\u200B"?Hn(d,$w)(d):Ee++<10?c.detectingSelectAll=setTimeout(Pe,500):(c.selForContextMenu=null,c.input.reset())};c.detectingSelectAll=setTimeout(Pe,200)}}if(f&&h>=9&&ue(),B){Sn(s);var be=function(){De(window,"mouseup",be),setTimeout(se,20)};oe(window,"mouseup",be)}else setTimeout(se,50)},kn.prototype.readOnlyChanged=function(s){s||this.reset(),this.textarea.disabled=s=="nocursor",this.textarea.readOnly=!!s},kn.prototype.setUneditable=function(){},kn.prototype.needsContentAttribute=!1;function b4(s,u){if(u=u?pt(u):{},u.value=s.value,!u.tabindex&&s.tabIndex&&(u.tabindex=s.tabIndex),!u.placeholder&&s.placeholder&&(u.placeholder=s.placeholder),u.autofocus==null){var d=Te();u.autofocus=d==s||s.getAttribute("autofocus")!=null&&d==document.body}function c(){s.value=x.getValue()}var g;if(s.form&&(oe(s.form,"submit",c),!u.leaveSubmitMethodAlone)){var y=s.form;g=y.submit;try{var w=y.submit=function(){c(),y.submit=g,y.submit(),y.submit=w}}catch{}}u.finishInit=function(T){T.save=c,T.getTextArea=function(){return s},T.toTextArea=function(){T.toTextArea=isNaN,c(),s.parentNode.removeChild(T.getWrapperElement()),s.style.display="",s.form&&(De(s.form,"submit",c),!u.leaveSubmitMethodAlone&&typeof s.form.submit=="function"&&(s.form.submit=g))}},s.style.display="none";var x=ln(function(T){return s.parentNode.insertBefore(T,s.nextSibling)},u);return x}function _4(s){s.off=De,s.on=oe,s.wheelEventPixels=E3,s.Doc=Mr,s.splitLines=rf,s.countColumn=st,s.findColumn=gt,s.isWordChar=I,s.Pass=_e,s.signal=we,s.Line=Nl,s.changeEnd=Ss,s.scrollbarModel=mw,s.Pos=Oe,s.cmpPos=N,s.modes=vi,s.mimeModes=ei,s.resolveMode=Ol,s.getMode=Dl,s.modeExtensions=Ri,s.extendMode=Bi,s.copyState=ti,s.startState=af,s.innerMode=sf,s.commands=Nf,s.keyMap=Ro,s.keyName=nk,s.isModifierKey=ek,s.lookupKey=Ul,s.normalizeKeyMap=J3,s.StringStream=gn,s.SharedTextMarker=Of,s.TextMarker=Es,s.LineWidget=Af,s.e_preventDefault=zt,s.e_stopPropagation=nn,s.e_stop=Sn,s.addClass=We,s.contains=pe,s.rmClass=V,s.keyNames=As}c4(ln),g4(ln);var w4="iter insert remove copy getEditor constructor".split(" ");for(var ah in Mr.prototype)Mr.prototype.hasOwnProperty(ah)&&Re(w4,ah)<0&&(ln.prototype[ah]=function(s){return function(){return s.apply(this.doc,arguments)}}(Mr.prototype[ah]));return Bt(Mr),ln.inputStyles={textarea:kn,contenteditable:Gt},ln.defineMode=function(s){!ln.defaults.mode&&s!="null"&&(ln.defaults.mode=s),Nd.apply(this,arguments)},ln.defineMIME=No,ln.defineMode("null",function(){return{token:function(s){return s.skipToEnd()}}}),ln.defineMIME("text/plain","null"),ln.defineExtension=function(s,u){ln.prototype[s]=u},ln.defineDocExtension=function(s,u){Mr.prototype[s]=u},ln.fromTextArea=b4,_4(ln),ln.version="5.65.3",ln})})(Er);var Ed=Er.exports;(function(e,t){(function(n){n(Er.exports)})(function(n){var r=n.Pos,i="http://www.w3.org/2000/svg";function o(A,I){this.mv=A,this.type=I,this.classes=I=="left"?{chunk:"CodeMirror-merge-l-chunk",start:"CodeMirror-merge-l-chunk-start",end:"CodeMirror-merge-l-chunk-end",insert:"CodeMirror-merge-l-inserted",del:"CodeMirror-merge-l-deleted",connect:"CodeMirror-merge-l-connect"}:{chunk:"CodeMirror-merge-r-chunk",start:"CodeMirror-merge-r-chunk-start",end:"CodeMirror-merge-r-chunk-end",insert:"CodeMirror-merge-r-inserted",del:"CodeMirror-merge-r-deleted",connect:"CodeMirror-merge-r-connect"}}o.prototype={constructor:o,init:function(A,I,D){this.edit=this.mv.edit,(this.edit.state.diffViews||(this.edit.state.diffViews=[])).push(this),this.orig=n(A,_e({value:I,readOnly:!this.mv.options.allowEditingOriginals},_e(D))),this.mv.options.connect=="align"&&(this.edit.state.trackAlignable||(this.edit.state.trackAlignable=new ee(this.edit)),this.orig.state.trackAlignable=new ee(this.orig)),this.lockButton.title=this.edit.phrase("Toggle locked scrolling"),this.lockButton.setAttribute("aria-label",this.lockButton.title),this.orig.state.diffViews=[this];var z=D.chunkClassLocation||"background";Object.prototype.toString.call(z)!="[object Array]"&&(z=[z]),this.classes.classLocation=z,this.diff=ce(ie(I),ie(D.value),this.mv.options.ignoreWhitespace),this.chunks=pe(this.diff),this.diffOutOfDate=this.dealigned=!1,this.needsScrollSync=null,this.showDifferences=D.showDifferences!==!1},registerEvents:function(A){this.forceUpdate=f(this),v(this,!0,!1),h(this,A)},setShowDifferences:function(A){A=A!==!1,A!=this.showDifferences&&(this.showDifferences=A,this.forceUpdate("full"))}};function a(A){A.diffOutOfDate&&(A.diff=ce(A.orig.getValue(),A.edit.getValue(),A.mv.options.ignoreWhitespace),A.chunks=pe(A.diff),A.diffOutOfDate=!1,n.signal(A.edit,"updateDiff",A.diff))}var l=!1;function f(A){var I={from:0,to:0,marked:[]},D={from:0,to:0,marked:[]},z,P=!1;function Q(Y){l=!0,P=!1,Y=="full"&&(A.svg&&Re(A.svg),A.copyButtons&&Re(A.copyButtons),_(A.edit,I.marked,A.classes),_(A.orig,D.marked,A.classes),I.from=I.to=D.from=D.to=0),a(A),A.showDifferences&&(k(A.edit,A.diff,I,DIFF_INSERT,A.classes),k(A.orig,A.diff,D,DIFF_DELETE,A.classes)),A.mv.options.connect=="align"&&U(A),S(A),A.needsScrollSync!=null&&p(A,A.needsScrollSync),l=!1}function ae(Y){l||(A.dealigned=!0,de(Y))}function de(Y){l||P||(clearTimeout(z),Y===!0&&(P=!0),z=setTimeout(Q,Y===!0?20:250))}function me(Y,he){A.diffOutOfDate||(A.diffOutOfDate=!0,I.from=I.to=D.from=D.to=0),ae(he.text.length-1!=he.to.line-he.from.line)}function J(){A.diffOutOfDate=!0,A.dealigned=!0,Q("full")}return A.edit.on("change",me),A.orig.on("change",me),A.edit.on("swapDoc",J),A.orig.on("swapDoc",J),A.mv.options.connect=="align"&&(n.on(A.edit.state.trackAlignable,"realign",ae),n.on(A.orig.state.trackAlignable,"realign",ae)),A.edit.on("viewportChange",function(){de(!1)}),A.orig.on("viewportChange",function(){de(!1)}),Q(),Q}function h(A,I){A.edit.on("scroll",function(){p(A,!0)&&S(A)}),A.orig.on("scroll",function(){p(A,!1)&&S(A),I&&p(I,!0)&&S(I)})}function p(A,I){if(A.diffOutOfDate)return A.lockScroll&&A.needsScrollSync==null&&(A.needsScrollSync=I),!1;if(A.needsScrollSync=null,!A.lockScroll)return!0;var D,z,P=+new Date;if(I?(D=A.edit,z=A.orig):(D=A.orig,z=A.edit),D.state.scrollSetBy==A&&(D.state.scrollSetAt||0)+250>P)return!1;var Q=D.getScrollInfo();if(A.mv.options.connect=="align")it=Q.top;else{var ae=.5*Q.clientHeight,de=Q.top+ae,me=D.lineAtHeight(de,"local"),J=nt(A.chunks,me,I),Y=m(D,I?J.edit:J.orig),he=m(z,I?J.orig:J.edit),Le=(de-Y.top)/(Y.bot-Y.top),it=he.top-ae+Le*(he.bot-he.top),oe,Fe;if(it>Q.top&&(Fe=Q.top/ae)<1)it=it*Fe+Q.top*(1-Fe);else if((oe=Q.height-Q.clientHeight-Q.top)<ae){var De=z.getScrollInfo(),we=De.height-De.clientHeight-it;we>oe&&(Fe=oe/ae)<1&&(it=it*Fe+(De.height-De.clientHeight-oe)*(1-Fe))}}return z.scrollTo(Q.left,it),z.state.scrollSetAt=P,z.state.scrollSetBy=A,!0}function m(A,I){var D=I.after;return D==null&&(D=A.lastLine()+1),{top:A.heightAtLine(I.before||0,"local"),bot:A.heightAtLine(D,"local")}}function v(A,I,D){A.lockScroll=I,I&&D!=!1&&p(A,DIFF_INSERT)&&S(A),(I?n.addClass:n.rmClass)(A.lockButton,"CodeMirror-merge-scrolllock-enabled")}function b(A,I,D){for(var z=D.classLocation,P=0;P<z.length;P++)A.removeLineClass(I,z[P],D.chunk),A.removeLineClass(I,z[P],D.start),A.removeLineClass(I,z[P],D.end)}function _(A,I,D){for(var z=0;z<I.length;++z){var P=I[z];P instanceof n.TextMarker?P.clear():P.parent&&b(A,P,D)}I.length=0}function k(A,I,D,z,P){var Q=A.getViewport();A.operation(function(){D.from==D.to||Q.from-D.to>20||D.from-Q.to>20?(_(A,D.marked,P),E(A,I,z,D.marked,Q.from,Q.to,P),D.from=Q.from,D.to=Q.to):(Q.from<D.from&&(E(A,I,z,D.marked,Q.from,D.from,P),D.from=Q.from),Q.to>D.to&&(E(A,I,z,D.marked,D.to,Q.to,P),D.to=Q.to))})}function C(A,I,D,z,P,Q){for(var ae=D.classLocation,de=A.getLineHandle(I),me=0;me<ae.length;me++)z&&A.addLineClass(de,ae[me],D.chunk),P&&A.addLineClass(de,ae[me],D.start),Q&&A.addLineClass(de,ae[me],D.end);return de}function E(A,I,D,z,P,Q,ae){var de=r(0,0),me=r(P,0),J=A.clipPos(r(Q-1)),Y=D==DIFF_DELETE?ae.del:ae.insert;function he(nn,on){for(var Sn=Math.max(P,nn),Tn=Math.min(Q,on),Or=Sn;Or<Tn;++Or)z.push(C(A,Or,ae,!0,Or==nn,Or==on-1));nn==on&&Sn==on&&Tn==on&&(Sn?z.push(C(A,Sn-1,ae,!1,!1,!0)):z.push(C(A,Sn,ae,!1,!0,!1)))}for(var Le=0,it=!1,oe=0;oe<I.length;++oe){var Fe=I[oe],De=Fe[0],we=Fe[1];if(De==DIFF_EQUAL){var Ue=de.line+(We(I,oe)?0:1);je(de,we);var Yt=de.line+(Te(I,oe)?1:0);Yt>Ue&&(it&&(he(Le,Ue),it=!1),Le=Yt)}else if(it=!0,De==D){var ct=je(de,we,!0),Bt=fe(me,de),zt=re(J,ct);ge(Bt,zt)||z.push(A.markText(Bt,zt,{className:Y})),de=ct}}it&&he(Le,de.line+1)}function S(A){if(!!A.showDifferences){if(A.svg){Re(A.svg);var I=A.gap.offsetWidth;Ce(A.svg,"width",I,"height",A.gap.offsetHeight)}A.copyButtons&&Re(A.copyButtons);for(var D=A.edit.getViewport(),z=A.orig.getViewport(),P=A.mv.wrap.getBoundingClientRect().top,Q=P-A.edit.getScrollerElement().getBoundingClientRect().top+A.edit.getScrollInfo().top,ae=P-A.orig.getScrollerElement().getBoundingClientRect().top+A.orig.getScrollInfo().top,de=0;de<A.chunks.length;de++){var me=A.chunks[de];me.editFrom<=D.to&&me.editTo>=D.from&&me.origFrom<=z.to&&me.origTo>=z.from&&R(A,me,ae,Q,I)}}}function F(A,I){for(var D=0,z=0,P=0;P<I.length;P++){var Q=I[P];if(Q.editTo>A&&Q.editFrom<=A)return null;if(Q.editFrom>A)break;D=Q.editTo,z=Q.origTo}return z+(A-D)}function O(A,I,D){for(var z=A.state.trackAlignable,P=A.firstLine(),Q=0,ae=[],de=0;;de++){for(var me=I[de],J=me?D?me.origFrom:me.editFrom:1e9;Q<z.alignable.length;Q+=2){var Y=z.alignable[Q]+1;if(!(Y<=P))if(Y<=J)ae.push(Y);else break}if(!me)break;ae.push(P=D?me.origTo:me.editTo)}return ae}function K(A,I,D,z){var P=0,Q=0,ae=0,de=0;e:for(;;P++){var me=A[P],J=I[Q];if(!me&&J==null)break;for(var Y=me?me[0]:1e9,he=J==null?1e9:J;ae<D.length;){var Le=D[ae];if(Le.origFrom<=he&&Le.origTo>he){Q++,P--;continue e}if(Le.editTo>Y){if(Le.editFrom<=Y)continue e;break}de+=Le.origTo-Le.origFrom-(Le.editTo-Le.editFrom),ae++}if(Y==he-de)me[z]=he,Q++;else if(Y<he-de)me[z]=Y+de;else{var it=[he-de,null,null];it[z]=he,A.splice(P,0,it),Q++}}}function j(A,I){var D=O(A.edit,A.chunks,!1),z=[];if(I)for(var P=0,Q=0;P<I.chunks.length;P++){for(var ae=I.chunks[P].editTo;Q<D.length&&D[Q]<ae;)Q++;(Q==D.length||D[Q]!=ae)&&D.splice(Q++,0,ae)}for(var P=0;P<D.length;P++)z.push([D[P],null,null]);return K(z,O(A.orig,A.chunks,!0),A.chunks,1),I&&K(z,O(I.orig,I.chunks,!0),I.chunks,2),z}function U(A,I){if(!(!A.dealigned&&!I)){if(!A.orig.curOp)return A.orig.operation(function(){U(A,I)});A.dealigned=!1;var D=A.mv.left==A?A.mv.right:A.mv.left;D&&(a(D),D.dealigned=!1);for(var z=j(A,D),P=A.mv.aligners,Q=0;Q<P.length;Q++)P[Q].clear();P.length=0;var ae=[A.edit,A.orig],de=[],me=[];D&&ae.push(D.orig);for(var Q=0;Q<ae.length;Q++)de.push(ae[Q].getScrollInfo().top),me.push(-ae[Q].getScrollerElement().getBoundingClientRect().top);(me[0]!=me[1]||ae.length==3&&me[1]!=me[2])&&q(ae,me,[0,0,0],P);for(var J=0;J<z.length;J++)q(ae,me,z[J],P);for(var Q=0;Q<ae.length;Q++)ae[Q].scrollTo(null,de[Q])}}function q(A,I,D,z){for(var P=-1e8,Q=[],ae=0;ae<A.length;ae++)if(D[ae]!=null){var de=A[ae].heightAtLine(D[ae],"local")-I[ae];Q[ae]=de,P=Math.max(P,de)}for(var ae=0;ae<A.length;ae++)if(D[ae]!=null){var me=P-Q[ae];me>1&&z.push(B(A[ae],D[ae],me))}}function B(A,I,D){var z=!0;I>A.lastLine()&&(I--,z=!1);var P=document.createElement("div");return P.className="CodeMirror-merge-spacer",P.style.height=D+"px",P.style.minWidth="1px",A.addLineWidget(I,P,{height:D,above:z,mergeSpacer:!0,handleMouseEvents:!0})}function R(A,I,D,z,P){var Q=A.type=="left",ae=A.orig.heightAtLine(I.origFrom,"local",!0)-D;if(A.svg){var de=ae,me=A.edit.heightAtLine(I.editFrom,"local",!0)-z;if(Q){var J=de;de=me,me=J}var Y=A.orig.heightAtLine(I.origTo,"local",!0)-D,he=A.edit.heightAtLine(I.editTo,"local",!0)-z;if(Q){var J=Y;Y=he,he=J}var Le=" C "+P/2+" "+me+" "+P/2+" "+de+" "+(P+2)+" "+de,it=" C "+P/2+" "+Y+" "+P/2+" "+he+" -1 "+he;Ce(A.svg.appendChild(document.createElementNS(i,"path")),"d","M -1 "+me+Le+" L "+(P+2)+" "+Y+it+" z","class",A.classes.connect)}if(A.copyButtons){var oe=A.copyButtons.appendChild(Ye("div",A.type=="left"?"\u21DD":"\u21DC","CodeMirror-merge-copy")),Fe=A.mv.options.allowEditingOriginals;if(oe.title=A.edit.phrase(Fe?"Push to left":"Revert chunk"),oe.chunk=I,oe.style.top=(I.origTo>I.origFrom?ae:A.edit.heightAtLine(I.editFrom,"local")-z)+"px",oe.setAttribute("role","button"),oe.setAttribute("tabindex","0"),oe.setAttribute("aria-label",oe.title),Fe){var De=A.edit.heightAtLine(I.editFrom,"local")-z,we=A.copyButtons.appendChild(Ye("div",A.type=="right"?"\u21DD":"\u21DC","CodeMirror-merge-copy-reverse"));we.title="Push to right",we.chunk={editFrom:I.origFrom,editTo:I.origTo,origFrom:I.editFrom,origTo:I.editTo},we.style.top=De+"px",A.type=="right"?we.style.left="2px":we.style.right="2px",we.setAttribute("role","button"),we.setAttribute("tabindex","0"),we.setAttribute("aria-label",we.title)}}}function V(A,I,D,z){if(!A.diffOutOfDate){var P=z.origTo>D.lastLine()?r(z.origFrom-1):r(z.origFrom,0),Q=r(z.origTo,0),ae=z.editTo>I.lastLine()?r(z.editFrom-1):r(z.editFrom,0),de=r(z.editTo,0),me=A.mv.options.revertChunk;me?me(A.mv,D,P,Q,I,ae,de):I.replaceRange(D.getRange(P,Q),ae,de)}}var Z=n.MergeView=function(A,I){if(!(this instanceof Z))return new Z(A,I);this.options=I;var D=I.origLeft,z=I.origRight==null?I.orig:I.origRight,P=D!=null,Q=z!=null,ae=1+(P?1:0)+(Q?1:0),de=[],me=this.left=null,J=this.right=null,Y=this;if(P){me=this.left=new o(this,"left");var he=Ye("div",null,"CodeMirror-merge-pane CodeMirror-merge-left");de.push(he),de.push(W(me))}var Le=Ye("div",null,"CodeMirror-merge-pane CodeMirror-merge-editor");if(de.push(Le),Q){J=this.right=new o(this,"right"),de.push(W(J));var it=Ye("div",null,"CodeMirror-merge-pane CodeMirror-merge-right");de.push(it)}(Q?it:Le).className+=" CodeMirror-merge-pane-rightmost",de.push(Ye("div",null,null,"height: 0; clear: both;"));var oe=this.wrap=A.appendChild(Ye("div",de,"CodeMirror-merge CodeMirror-merge-"+ae+"pane"));this.edit=n(Le,_e(I)),me&&me.init(he,D,I),J&&J.init(it,z,I),I.collapseIdentical&&this.editor().operation(function(){st(Y,I.collapseIdentical)}),I.connect=="align"&&(this.aligners=[],U(this.left||this.right,!0)),me&&me.registerEvents(J),J&&J.registerEvents(me);var Fe=function(){me&&S(me),J&&S(J)};n.on(window,"resize",Fe);var De=setInterval(function(){for(var we=oe.parentNode;we&&we!=document.body;we=we.parentNode);we||(clearInterval(De),n.off(window,"resize",Fe))},5e3)};function W(A){var I=A.lockButton=Ye("div",null,"CodeMirror-merge-scrolllock");I.setAttribute("role","button"),I.setAttribute("tabindex","0");var D=Ye("div",[I],"CodeMirror-merge-scrolllock-wrap");n.on(I,"click",function(){v(A,!A.lockScroll)}),n.on(I,"keyup",function(ae){ae.key==="Enter"&&v(A,!A.lockScroll)});var z=[D];if(A.mv.options.revertButtons!==!1){let ae=function(de){var me=de.target||de.srcElement;if(!!me.chunk){if(me.className=="CodeMirror-merge-copy-reverse"){V(A,A.orig,A.edit,me.chunk);return}V(A,A.edit,A.orig,me.chunk)}};var Q=ae;A.copyButtons=Ye("div",null,"CodeMirror-merge-copybuttons-"+A.type),n.on(A.copyButtons,"click",ae),n.on(A.copyButtons,"keyup",function(de){de.key==="Enter"&&ae(de)}),z.unshift(A.copyButtons)}if(A.mv.options.connect!="align"){var P=document.createElementNS&&document.createElementNS(i,"svg");P&&!P.createSVGRect&&(P=null),A.svg=P,P&&z.push(P)}return A.gap=Ye("div",z,"CodeMirror-merge-gap")}Z.prototype={constructor:Z,editor:function(){return this.edit},rightOriginal:function(){return this.right&&this.right.orig},leftOriginal:function(){return this.left&&this.left.orig},setShowDifferences:function(A){this.right&&this.right.setShowDifferences(A),this.left&&this.left.setShowDifferences(A)},rightChunks:function(){if(this.right)return a(this.right),this.right.chunks},leftChunks:function(){if(this.left)return a(this.left),this.left.chunks}};function ie(A){return typeof A=="string"?A:A.getValue()}var L;function ce(A,I,D){L||(L=new diff_match_patch);for(var z=L.diff_main(A,I),P=0;P<z.length;++P){var Q=z[P];(D?!/[^ \t]/.test(Q[1]):!Q[1])?z.splice(P--,1):P&&z[P-1][0]==Q[0]&&(z.splice(P--,1),z[P][1]+=Q[1])}return z}function pe(A){var I=[];if(!A.length)return I;for(var D=0,z=0,P=r(0,0),Q=r(0,0),ae=0;ae<A.length;++ae){var de=A[ae],me=de[0];if(me==DIFF_EQUAL){var J=!We(A,ae)||P.line<D||Q.line<z?1:0,Y=P.line+J,he=Q.line+J;je(P,de[1],null,Q);var Le=Te(A,ae)?1:0,it=P.line+Le,oe=Q.line+Le;it>Y&&(ae&&I.push({origFrom:z,origTo:he,editFrom:D,editTo:Y}),D=it,z=oe)}else je(me==DIFF_INSERT?P:Q,de[1])}return(D<=P.line||z<=Q.line)&&I.push({origFrom:z,origTo:Q.line+1,editFrom:D,editTo:P.line+1}),I}function Te(A,I){if(I==A.length-1)return!0;var D=A[I+1][1];return D.length==1&&I<A.length-2||D.charCodeAt(0)!=10?!1:I==A.length-2?!0:(D=A[I+2][1],(D.length>1||I==A.length-3)&&D.charCodeAt(0)==10)}function We(A,I){if(I==0)return!0;var D=A[I-1][1];return D.charCodeAt(D.length-1)!=10?!1:I==1?!0:(D=A[I-2][1],D.charCodeAt(D.length-1)==10)}function nt(A,I,D){for(var z,P,Q,ae,de=0;de<A.length;de++){var me=A[de],J=D?me.editFrom:me.origFrom,Y=D?me.editTo:me.origTo;P==null&&(J>I?(P=me.editFrom,ae=me.origFrom):Y>I&&(P=me.editTo,ae=me.origTo)),Y<=I?(z=me.editTo,Q=me.origTo):J<=I&&(z=me.editFrom,Q=me.origFrom)}return{edit:{before:z,after:P},orig:{before:Q,after:ae}}}function bt(A,I,D){A.addLineClass(I,"wrap","CodeMirror-merge-collapsed-line");var z=document.createElement("span");z.className="CodeMirror-merge-collapsed-widget",z.title=A.phrase("Identical text collapsed. Click to expand.");var P=A.markText(r(I,0),r(D-1),{inclusiveLeft:!0,inclusiveRight:!0,replacedWith:z,clearOnEnter:!0});function Q(){P.clear(),A.removeLineClass(I,"wrap","CodeMirror-merge-collapsed-line")}return P.explicitlyCleared&&Q(),n.on(z,"click",Q),P.on("clear",Q),n.on(z,"click",Q),{mark:P,clear:Q}}function Mt(A,I){var D=[];function z(){for(var de=0;de<D.length;de++)D[de].clear()}for(var P=0;P<I.length;P++){var Q=I[P],ae=bt(Q.cm,Q.line,Q.line+A);D.push(ae),ae.mark.on("clear",z)}return D[0].mark}function pt(A,I,D,z){for(var P=0;P<A.chunks.length;P++)for(var Q=A.chunks[P],ae=Q.editFrom-I;ae<Q.editTo+I;ae++){var de=ae+D;de>=0&&de<z.length&&(z[de]=!1)}}function st(A,I){typeof I!="number"&&(I=2);for(var D=[],z=A.editor(),P=z.firstLine(),Q=P,ae=z.lastLine();Q<=ae;Q++)D.push(!0);A.left&&pt(A.left,I,P,D),A.right&&pt(A.right,I,P,D);for(var de=0;de<D.length;de++)if(D[de]){for(var me=de+P,J=1;de<D.length-1&&D[de+1];de++,J++);if(J>I){var Y=[{line:me,cm:z}];A.left&&Y.push({line:F(me,A.left.chunks),cm:A.left.orig}),A.right&&Y.push({line:F(me,A.right.chunks),cm:A.right.orig});var he=Mt(J,Y);A.options.onCollapse&&A.options.onCollapse(A,me,J,he)}}}function Ye(A,I,D,z){var P=document.createElement(A);if(D&&(P.className=D),z&&(P.style.cssText=z),typeof I=="string")P.appendChild(document.createTextNode(I));else if(I)for(var Q=0;Q<I.length;++Q)P.appendChild(I[Q]);return P}function Re(A){for(var I=A.childNodes.length;I>0;--I)A.removeChild(A.firstChild)}function Ce(A){for(var I=1;I<arguments.length;I+=2)A.setAttribute(arguments[I],arguments[I+1])}function _e(A,I){I||(I={});for(var D in A)A.hasOwnProperty(D)&&(I[D]=A[D]);return I}function je(A,I,D,z){for(var P=D?r(A.line,A.ch):A,Q=0;;){var ae=I.indexOf(`
`,Q);if(ae==-1)break;++P.line,z&&++z.line,Q=ae+1}return P.ch=(Q?0:P.ch)+(I.length-Q),z&&(z.ch=(Q?0:z.ch)+(I.length-Q)),P}var qe=1,Ve=2,gt=4;function ee(A){this.cm=A,this.alignable=[],this.height=A.doc.height;var I=this;A.on("markerAdded",function(D,z){if(!!z.collapsed){var P=z.find(1);P!=null&&I.set(P.line,gt)}}),A.on("markerCleared",function(D,z,P,Q){Q!=null&&z.collapsed&&I.check(Q,gt,I.hasMarker)}),A.on("markerChanged",this.signal.bind(this)),A.on("lineWidgetAdded",function(D,z,P){z.mergeSpacer||(z.above?I.set(P-1,Ve):I.set(P,qe))}),A.on("lineWidgetCleared",function(D,z,P){z.mergeSpacer||(z.above?I.check(P-1,Ve,I.hasWidgetBelow):I.check(P,qe,I.hasWidget))}),A.on("lineWidgetChanged",this.signal.bind(this)),A.on("change",function(D,z){var P=z.from.line,Q=z.to.line-z.from.line,ae=z.text.length-1,de=P+ae;(Q||ae)&&I.map(P,Q,ae),I.check(de,gt,I.hasMarker),(Q||ae)&&I.check(z.from.line,gt,I.hasMarker)}),A.on("viewportChange",function(){I.cm.doc.height!=I.height&&I.signal()})}ee.prototype={signal:function(){n.signal(this,"realign"),this.height=this.cm.doc.height},set:function(A,I){for(var D=-1;D<this.alignable.length;D+=2){var z=this.alignable[D]-A;if(z==0){if((this.alignable[D+1]&I)==I)return;this.alignable[D+1]|=I,this.signal();return}if(z>0)break}this.signal(),this.alignable.splice(D,0,A,I)},find:function(A){for(var I=0;I<this.alignable.length;I+=2)if(this.alignable[I]==A)return I;return-1},check:function(A,I,D){var z=this.find(A);if(!(z==-1||!(this.alignable[z+1]&I))&&!D.call(this,A)){this.signal();var P=this.alignable[z+1]&~I;P?this.alignable[z+1]=P:this.alignable.splice(z,2)}},hasMarker:function(A){var I=this.cm.getLineHandle(A);if(I.markedSpans){for(var D=0;D<I.markedSpans.length;D++)if(I.markedSpans[D].marker.collapsed&&I.markedSpans[D].to!=null)return!0}return!1},hasWidget:function(A){var I=this.cm.getLineHandle(A);if(I.widgets){for(var D=0;D<I.widgets.length;D++)if(!I.widgets[D].above&&!I.widgets[D].mergeSpacer)return!0}return!1},hasWidgetBelow:function(A){if(A==this.cm.lastLine())return!1;var I=this.cm.getLineHandle(A+1);if(I.widgets){for(var D=0;D<I.widgets.length;D++)if(I.widgets[D].above&&!I.widgets[D].mergeSpacer)return!0}return!1},map:function(A,I,D){for(var z=D-I,P=A+I,Q=-1,ae=-1,de=0;de<this.alignable.length;de+=2){var me=this.alignable[de];me==A&&this.alignable[de+1]&Ve&&(Q=de),me==P&&this.alignable[de+1]&Ve&&(ae=de),!(me<=A)&&(me<P?this.alignable.splice(de--,2):this.alignable[de]+=z)}if(Q>-1){var J=this.alignable[Q+1];J==Ve?this.alignable.splice(Q,2):this.alignable[Q+1]=J&~Ve}ae>-1&&D&&this.set(A+D,Ve)}};function re(A,I){return(A.line-I.line||A.ch-I.ch)<0?A:I}function fe(A,I){return(A.line-I.line||A.ch-I.ch)>0?A:I}function ge(A,I){return A.line==I.line&&A.ch==I.ch}function ye(A,I,D){for(var z=A.length-1;z>=0;z--){var P=A[z],Q=(D?P.origTo:P.editTo)-1;if(Q<I)return Q}}function H(A,I,D){for(var z=0;z<A.length;z++){var P=A[z],Q=D?P.origFrom:P.editFrom;if(Q>I)return Q}}function X(A,I){var D=null,z=A.state.diffViews,P=A.getCursor().line;if(z)for(var Q=0;Q<z.length;Q++){var ae=z[Q],de=A==ae.orig;a(ae);var me=I<0?ye(ae.chunks,P,de):H(ae.chunks,P,de);me!=null&&(D==null||(I<0?me>D:me<D))&&(D=me)}if(D!=null)A.setCursor(D,0);else return n.Pass}n.commands.goNextDiff=function(A){return X(A,1)},n.commands.goPrevDiff=function(A){return X(A,-1)}})})();var GM={exports:{}};(function(e){var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,r=1,i=0;t.Diff=function(o,a){return[o,a]},t.prototype.diff_main=function(o,a,l,f){typeof f=="undefined"&&(this.Diff_Timeout<=0?f=Number.MAX_VALUE:f=new Date().getTime()+this.Diff_Timeout*1e3);var h=f;if(o==null||a==null)throw new Error("Null input. (diff_main)");if(o==a)return o?[new t.Diff(i,o)]:[];typeof l=="undefined"&&(l=!0);var p=l,m=this.diff_commonPrefix(o,a),v=o.substring(0,m);o=o.substring(m),a=a.substring(m),m=this.diff_commonSuffix(o,a);var b=o.substring(o.length-m);o=o.substring(0,o.length-m),a=a.substring(0,a.length-m);var _=this.diff_compute_(o,a,p,h);return v&&_.unshift(new t.Diff(i,v)),b&&_.push(new t.Diff(i,b)),this.diff_cleanupMerge(_),_},t.prototype.diff_compute_=function(o,a,l,f){var h;if(!o)return[new t.Diff(r,a)];if(!a)return[new t.Diff(n,o)];var p=o.length>a.length?o:a,m=o.length>a.length?a:o,v=p.indexOf(m);if(v!=-1)return h=[new t.Diff(r,p.substring(0,v)),new t.Diff(i,m),new t.Diff(r,p.substring(v+m.length))],o.length>a.length&&(h[0][0]=h[2][0]=n),h;if(m.length==1)return[new t.Diff(n,o),new t.Diff(r,a)];var b=this.diff_halfMatch_(o,a);if(b){var _=b[0],k=b[1],C=b[2],E=b[3],S=b[4],F=this.diff_main(_,C,l,f),O=this.diff_main(k,E,l,f);return F.concat([new t.Diff(i,S)],O)}return l&&o.length>100&&a.length>100?this.diff_lineMode_(o,a,f):this.diff_bisect_(o,a,f)},t.prototype.diff_lineMode_=function(o,a,l){var f=this.diff_linesToChars_(o,a);o=f.chars1,a=f.chars2;var h=f.lineArray,p=this.diff_main(o,a,!1,l);this.diff_charsToLines_(p,h),this.diff_cleanupSemantic(p),p.push(new t.Diff(i,""));for(var m=0,v=0,b=0,_="",k="";m<p.length;){switch(p[m][0]){case r:b++,k+=p[m][1];break;case n:v++,_+=p[m][1];break;case i:if(v>=1&&b>=1){p.splice(m-v-b,v+b),m=m-v-b;for(var C=this.diff_main(_,k,!1,l),E=C.length-1;E>=0;E--)p.splice(m,0,C[E]);m=m+C.length}b=0,v=0,_="",k="";break}m++}return p.pop(),p},t.prototype.diff_bisect_=function(o,a,l){for(var f=o.length,h=a.length,p=Math.ceil((f+h)/2),m=p,v=2*p,b=new Array(v),_=new Array(v),k=0;k<v;k++)b[k]=-1,_[k]=-1;b[m+1]=0,_[m+1]=0;for(var C=f-h,E=C%2!=0,S=0,F=0,O=0,K=0,j=0;j<p&&!(new Date().getTime()>l);j++){for(var U=-j+S;U<=j-F;U+=2){var q=m+U,B;U==-j||U!=j&&b[q-1]<b[q+1]?B=b[q+1]:B=b[q-1]+1;for(var R=B-U;B<f&&R<h&&o.charAt(B)==a.charAt(R);)B++,R++;if(b[q]=B,B>f)F+=2;else if(R>h)S+=2;else if(E){var V=m+C-U;if(V>=0&&V<v&&_[V]!=-1){var Z=f-_[V];if(B>=Z)return this.diff_bisectSplit_(o,a,B,R,l)}}}for(var W=-j+O;W<=j-K;W+=2){var V=m+W,Z;W==-j||W!=j&&_[V-1]<_[V+1]?Z=_[V+1]:Z=_[V-1]+1;for(var ie=Z-W;Z<f&&ie<h&&o.charAt(f-Z-1)==a.charAt(h-ie-1);)Z++,ie++;if(_[V]=Z,Z>f)K+=2;else if(ie>h)O+=2;else if(!E){var q=m+C-W;if(q>=0&&q<v&&b[q]!=-1){var B=b[q],R=m+B-q;if(Z=f-Z,B>=Z)return this.diff_bisectSplit_(o,a,B,R,l)}}}}return[new t.Diff(n,o),new t.Diff(r,a)]},t.prototype.diff_bisectSplit_=function(o,a,l,f,h){var p=o.substring(0,l),m=a.substring(0,f),v=o.substring(l),b=a.substring(f),_=this.diff_main(p,m,!1,h),k=this.diff_main(v,b,!1,h);return _.concat(k)},t.prototype.diff_linesToChars_=function(o,a){var l=[],f={};l[0]="";function h(b){for(var _="",k=0,C=-1,E=l.length;C<b.length-1;){C=b.indexOf(`
`,k),C==-1&&(C=b.length-1);var S=b.substring(k,C+1);(f.hasOwnProperty?f.hasOwnProperty(S):f[S]!==void 0)?_+=String.fromCharCode(f[S]):(E==p&&(S=b.substring(k),C=b.length),_+=String.fromCharCode(E),f[S]=E,l[E++]=S),k=C+1}return _}var p=4e4,m=h(o);p=65535;var v=h(a);return{chars1:m,chars2:v,lineArray:l}},t.prototype.diff_charsToLines_=function(o,a){for(var l=0;l<o.length;l++){for(var f=o[l][1],h=[],p=0;p<f.length;p++)h[p]=a[f.charCodeAt(p)];o[l][1]=h.join("")}},t.prototype.diff_commonPrefix=function(o,a){if(!o||!a||o.charAt(0)!=a.charAt(0))return 0;for(var l=0,f=Math.min(o.length,a.length),h=f,p=0;l<h;)o.substring(p,h)==a.substring(p,h)?(l=h,p=l):f=h,h=Math.floor((f-l)/2+l);return h},t.prototype.diff_commonSuffix=function(o,a){if(!o||!a||o.charAt(o.length-1)!=a.charAt(a.length-1))return 0;for(var l=0,f=Math.min(o.length,a.length),h=f,p=0;l<h;)o.substring(o.length-h,o.length-p)==a.substring(a.length-h,a.length-p)?(l=h,p=l):f=h,h=Math.floor((f-l)/2+l);return h},t.prototype.diff_commonOverlap_=function(o,a){var l=o.length,f=a.length;if(l==0||f==0)return 0;l>f?o=o.substring(l-f):l<f&&(a=a.substring(0,l));var h=Math.min(l,f);if(o==a)return h;for(var p=0,m=1;;){var v=o.substring(h-m),b=a.indexOf(v);if(b==-1)return p;m+=b,(b==0||o.substring(h-m)==a.substring(0,m))&&(p=m,m++)}},t.prototype.diff_halfMatch_=function(o,a){if(this.Diff_Timeout<=0)return null;var l=o.length>a.length?o:a,f=o.length>a.length?a:o;if(l.length<4||f.length*2<l.length)return null;var h=this;function p(F,O,K){for(var j=F.substring(K,K+Math.floor(F.length/4)),U=-1,q="",B,R,V,Z;(U=O.indexOf(j,U+1))!=-1;){var W=h.diff_commonPrefix(F.substring(K),O.substring(U)),ie=h.diff_commonSuffix(F.substring(0,K),O.substring(0,U));q.length<ie+W&&(q=O.substring(U-ie,U)+O.substring(U,U+W),B=F.substring(0,K-ie),R=F.substring(K+W),V=O.substring(0,U-ie),Z=O.substring(U+W))}return q.length*2>=F.length?[B,R,V,Z,q]:null}var m=p(l,f,Math.ceil(l.length/4)),v=p(l,f,Math.ceil(l.length/2)),b;if(!m&&!v)return null;v?m?b=m[4].length>v[4].length?m:v:b=v:b=m;var _,k,C,E;o.length>a.length?(_=b[0],k=b[1],C=b[2],E=b[3]):(C=b[0],E=b[1],_=b[2],k=b[3]);var S=b[4];return[_,k,C,E,S]},t.prototype.diff_cleanupSemantic=function(o){for(var a=!1,l=[],f=0,h=null,p=0,m=0,v=0,b=0,_=0;p<o.length;)o[p][0]==i?(l[f++]=p,m=b,v=_,b=0,_=0,h=o[p][1]):(o[p][0]==r?b+=o[p][1].length:_+=o[p][1].length,h&&h.length<=Math.max(m,v)&&h.length<=Math.max(b,_)&&(o.splice(l[f-1],0,new t.Diff(n,h)),o[l[f-1]+1][0]=r,f--,f--,p=f>0?l[f-1]:-1,m=0,v=0,b=0,_=0,h=null,a=!0)),p++;for(a&&this.diff_cleanupMerge(o),this.diff_cleanupSemanticLossless(o),p=1;p<o.length;){if(o[p-1][0]==n&&o[p][0]==r){var k=o[p-1][1],C=o[p][1],E=this.diff_commonOverlap_(k,C),S=this.diff_commonOverlap_(C,k);E>=S?(E>=k.length/2||E>=C.length/2)&&(o.splice(p,0,new t.Diff(i,C.substring(0,E))),o[p-1][1]=k.substring(0,k.length-E),o[p+1][1]=C.substring(E),p++):(S>=k.length/2||S>=C.length/2)&&(o.splice(p,0,new t.Diff(i,k.substring(0,S))),o[p-1][0]=r,o[p-1][1]=C.substring(0,C.length-S),o[p+1][0]=n,o[p+1][1]=k.substring(S),p++),p++}p++}},t.prototype.diff_cleanupSemanticLossless=function(o){function a(S,F){if(!S||!F)return 6;var O=S.charAt(S.length-1),K=F.charAt(0),j=O.match(t.nonAlphaNumericRegex_),U=K.match(t.nonAlphaNumericRegex_),q=j&&O.match(t.whitespaceRegex_),B=U&&K.match(t.whitespaceRegex_),R=q&&O.match(t.linebreakRegex_),V=B&&K.match(t.linebreakRegex_),Z=R&&S.match(t.blanklineEndRegex_),W=V&&F.match(t.blanklineStartRegex_);return Z||W?5:R||V?4:j&&!q&&B?3:q||B?2:j||U?1:0}for(var l=1;l<o.length-1;){if(o[l-1][0]==i&&o[l+1][0]==i){var f=o[l-1][1],h=o[l][1],p=o[l+1][1],m=this.diff_commonSuffix(f,h);if(m){var v=h.substring(h.length-m);f=f.substring(0,f.length-m),h=v+h.substring(0,h.length-m),p=v+p}for(var b=f,_=h,k=p,C=a(f,h)+a(h,p);h.charAt(0)===p.charAt(0);){f+=h.charAt(0),h=h.substring(1)+p.charAt(0),p=p.substring(1);var E=a(f,h)+a(h,p);E>=C&&(C=E,b=f,_=h,k=p)}o[l-1][1]!=b&&(b?o[l-1][1]=b:(o.splice(l-1,1),l--),o[l][1]=_,k?o[l+1][1]=k:(o.splice(l+1,1),l--))}l++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(o){for(var a=!1,l=[],f=0,h=null,p=0,m=!1,v=!1,b=!1,_=!1;p<o.length;)o[p][0]==i?(o[p][1].length<this.Diff_EditCost&&(b||_)?(l[f++]=p,m=b,v=_,h=o[p][1]):(f=0,h=null),b=_=!1):(o[p][0]==n?_=!0:b=!0,h&&(m&&v&&b&&_||h.length<this.Diff_EditCost/2&&m+v+b+_==3)&&(o.splice(l[f-1],0,new t.Diff(n,h)),o[l[f-1]+1][0]=r,f--,h=null,m&&v?(b=_=!0,f=0):(f--,p=f>0?l[f-1]:-1,b=_=!1),a=!0)),p++;a&&this.diff_cleanupMerge(o)},t.prototype.diff_cleanupMerge=function(o){o.push(new t.Diff(i,""));for(var a=0,l=0,f=0,h="",p="",m;a<o.length;)switch(o[a][0]){case r:f++,p+=o[a][1],a++;break;case n:l++,h+=o[a][1],a++;break;case i:l+f>1?(l!==0&&f!==0&&(m=this.diff_commonPrefix(p,h),m!==0&&(a-l-f>0&&o[a-l-f-1][0]==i?o[a-l-f-1][1]+=p.substring(0,m):(o.splice(0,0,new t.Diff(i,p.substring(0,m))),a++),p=p.substring(m),h=h.substring(m)),m=this.diff_commonSuffix(p,h),m!==0&&(o[a][1]=p.substring(p.length-m)+o[a][1],p=p.substring(0,p.length-m),h=h.substring(0,h.length-m))),a-=l+f,o.splice(a,l+f),h.length&&(o.splice(a,0,new t.Diff(n,h)),a++),p.length&&(o.splice(a,0,new t.Diff(r,p)),a++),a++):a!==0&&o[a-1][0]==i?(o[a-1][1]+=o[a][1],o.splice(a,1)):a++,f=0,l=0,h="",p="";break}o[o.length-1][1]===""&&o.pop();var v=!1;for(a=1;a<o.length-1;)o[a-1][0]==i&&o[a+1][0]==i&&(o[a][1].substring(o[a][1].length-o[a-1][1].length)==o[a-1][1]?(o[a][1]=o[a-1][1]+o[a][1].substring(0,o[a][1].length-o[a-1][1].length),o[a+1][1]=o[a-1][1]+o[a+1][1],o.splice(a-1,1),v=!0):o[a][1].substring(0,o[a+1][1].length)==o[a+1][1]&&(o[a-1][1]+=o[a+1][1],o[a][1]=o[a][1].substring(o[a+1][1].length)+o[a+1][1],o.splice(a+1,1),v=!0)),a++;v&&this.diff_cleanupMerge(o)},t.prototype.diff_xIndex=function(o,a){var l=0,f=0,h=0,p=0,m;for(m=0;m<o.length&&(o[m][0]!==r&&(l+=o[m][1].length),o[m][0]!==n&&(f+=o[m][1].length),!(l>a));m++)h=l,p=f;return o.length!=m&&o[m][0]===n?p:p+(a-h)},t.prototype.diff_prettyHtml=function(o){for(var a=[],l=/&/g,f=/</g,h=/>/g,p=/\n/g,m=0;m<o.length;m++){var v=o[m][0],b=o[m][1],_=b.replace(l,"&amp;").replace(f,"&lt;").replace(h,"&gt;").replace(p,"&para;<br>");switch(v){case r:a[m]='<ins style="background:#e6ffe6;">'+_+"</ins>";break;case n:a[m]='<del style="background:#ffe6e6;">'+_+"</del>";break;case i:a[m]="<span>"+_+"</span>";break}}return a.join("")},t.prototype.diff_text1=function(o){for(var a=[],l=0;l<o.length;l++)o[l][0]!==r&&(a[l]=o[l][1]);return a.join("")},t.prototype.diff_text2=function(o){for(var a=[],l=0;l<o.length;l++)o[l][0]!==n&&(a[l]=o[l][1]);return a.join("")},t.prototype.diff_levenshtein=function(o){for(var a=0,l=0,f=0,h=0;h<o.length;h++){var p=o[h][0],m=o[h][1];switch(p){case r:l+=m.length;break;case n:f+=m.length;break;case i:a+=Math.max(l,f),l=0,f=0;break}}return a+=Math.max(l,f),a},t.prototype.diff_toDelta=function(o){for(var a=[],l=0;l<o.length;l++)switch(o[l][0]){case r:a[l]="+"+encodeURI(o[l][1]);break;case n:a[l]="-"+o[l][1].length;break;case i:a[l]="="+o[l][1].length;break}return a.join("	").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(o,a){for(var l=[],f=0,h=0,p=a.split(/\t/g),m=0;m<p.length;m++){var v=p[m].substring(1);switch(p[m].charAt(0)){case"+":try{l[f++]=new t.Diff(r,decodeURI(v))}catch{throw new Error("Illegal escape in diff_fromDelta: "+v)}break;case"-":case"=":var b=parseInt(v,10);if(isNaN(b)||b<0)throw new Error("Invalid number in diff_fromDelta: "+v);var _=o.substring(h,h+=b);p[m].charAt(0)=="="?l[f++]=new t.Diff(i,_):l[f++]=new t.Diff(n,_);break;default:if(p[m])throw new Error("Invalid diff operation in diff_fromDelta: "+p[m])}}if(h!=o.length)throw new Error("Delta length ("+h+") does not equal source text length ("+o.length+").");return l},t.prototype.match_main=function(o,a,l){if(o==null||a==null||l==null)throw new Error("Null input. (match_main)");return l=Math.max(0,Math.min(l,o.length)),o==a?0:o.length?o.substring(l,l+a.length)==a?l:this.match_bitap_(o,a,l):-1},t.prototype.match_bitap_=function(o,a,l){if(a.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var f=this.match_alphabet_(a),h=this;function p(B,R){var V=B/a.length,Z=Math.abs(l-R);return h.Match_Distance?V+Z/h.Match_Distance:Z?1:V}var m=this.Match_Threshold,v=o.indexOf(a,l);v!=-1&&(m=Math.min(p(0,v),m),v=o.lastIndexOf(a,l+a.length),v!=-1&&(m=Math.min(p(0,v),m)));var b=1<<a.length-1;v=-1;for(var _,k,C=a.length+o.length,E,S=0;S<a.length;S++){for(_=0,k=C;_<k;)p(S,l+k)<=m?_=k:C=k,k=Math.floor((C-_)/2+_);C=k;var F=Math.max(1,l-k+1),O=Math.min(l+k,o.length)+a.length,K=Array(O+2);K[O+1]=(1<<S)-1;for(var j=O;j>=F;j--){var U=f[o.charAt(j-1)];if(S===0?K[j]=(K[j+1]<<1|1)&U:K[j]=(K[j+1]<<1|1)&U|((E[j+1]|E[j])<<1|1)|E[j+1],K[j]&b){var q=p(S,j-1);if(q<=m)if(m=q,v=j-1,v>l)F=Math.max(1,2*l-v);else break}}if(p(S+1,l)>m)break;E=K}return v},t.prototype.match_alphabet_=function(o){for(var a={},l=0;l<o.length;l++)a[o.charAt(l)]=0;for(var l=0;l<o.length;l++)a[o.charAt(l)]|=1<<o.length-l-1;return a},t.prototype.patch_addContext_=function(o,a){if(a.length!=0){if(o.start2===null)throw Error("patch not initialized");for(var l=a.substring(o.start2,o.start2+o.length1),f=0;a.indexOf(l)!=a.lastIndexOf(l)&&l.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)f+=this.Patch_Margin,l=a.substring(o.start2-f,o.start2+o.length1+f);f+=this.Patch_Margin;var h=a.substring(o.start2-f,o.start2);h&&o.diffs.unshift(new t.Diff(i,h));var p=a.substring(o.start2+o.length1,o.start2+o.length1+f);p&&o.diffs.push(new t.Diff(i,p)),o.start1-=h.length,o.start2-=h.length,o.length1+=h.length+p.length,o.length2+=h.length+p.length}},t.prototype.patch_make=function(o,a,l){var f,h;if(typeof o=="string"&&typeof a=="string"&&typeof l=="undefined")f=o,h=this.diff_main(f,a,!0),h.length>2&&(this.diff_cleanupSemantic(h),this.diff_cleanupEfficiency(h));else if(o&&typeof o=="object"&&typeof a=="undefined"&&typeof l=="undefined")h=o,f=this.diff_text1(h);else if(typeof o=="string"&&a&&typeof a=="object"&&typeof l=="undefined")f=o,h=a;else if(typeof o=="string"&&typeof a=="string"&&l&&typeof l=="object")f=o,h=l;else throw new Error("Unknown call format to patch_make.");if(h.length===0)return[];for(var p=[],m=new t.patch_obj,v=0,b=0,_=0,k=f,C=f,E=0;E<h.length;E++){var S=h[E][0],F=h[E][1];switch(!v&&S!==i&&(m.start1=b,m.start2=_),S){case r:m.diffs[v++]=h[E],m.length2+=F.length,C=C.substring(0,_)+F+C.substring(_);break;case n:m.length1+=F.length,m.diffs[v++]=h[E],C=C.substring(0,_)+C.substring(_+F.length);break;case i:F.length<=2*this.Patch_Margin&&v&&h.length!=E+1?(m.diffs[v++]=h[E],m.length1+=F.length,m.length2+=F.length):F.length>=2*this.Patch_Margin&&v&&(this.patch_addContext_(m,k),p.push(m),m=new t.patch_obj,v=0,k=C,b=_);break}S!==r&&(b+=F.length),S!==n&&(_+=F.length)}return v&&(this.patch_addContext_(m,k),p.push(m)),p},t.prototype.patch_deepCopy=function(o){for(var a=[],l=0;l<o.length;l++){var f=o[l],h=new t.patch_obj;h.diffs=[];for(var p=0;p<f.diffs.length;p++)h.diffs[p]=new t.Diff(f.diffs[p][0],f.diffs[p][1]);h.start1=f.start1,h.start2=f.start2,h.length1=f.length1,h.length2=f.length2,a[l]=h}return a},t.prototype.patch_apply=function(o,a){if(o.length==0)return[a,[]];o=this.patch_deepCopy(o);var l=this.patch_addPadding(o);a=l+a+l,this.patch_splitMax(o);for(var f=0,h=[],p=0;p<o.length;p++){var m=o[p].start2+f,v=this.diff_text1(o[p].diffs),b,_=-1;if(v.length>this.Match_MaxBits?(b=this.match_main(a,v.substring(0,this.Match_MaxBits),m),b!=-1&&(_=this.match_main(a,v.substring(v.length-this.Match_MaxBits),m+v.length-this.Match_MaxBits),(_==-1||b>=_)&&(b=-1))):b=this.match_main(a,v,m),b==-1)h[p]=!1,f-=o[p].length2-o[p].length1;else{h[p]=!0,f=b-m;var k;if(_==-1?k=a.substring(b,b+v.length):k=a.substring(b,_+this.Match_MaxBits),v==k)a=a.substring(0,b)+this.diff_text2(o[p].diffs)+a.substring(b+v.length);else{var C=this.diff_main(v,k,!1);if(v.length>this.Match_MaxBits&&this.diff_levenshtein(C)/v.length>this.Patch_DeleteThreshold)h[p]=!1;else{this.diff_cleanupSemanticLossless(C);for(var E=0,S,F=0;F<o[p].diffs.length;F++){var O=o[p].diffs[F];O[0]!==i&&(S=this.diff_xIndex(C,E)),O[0]===r?a=a.substring(0,b+S)+O[1]+a.substring(b+S):O[0]===n&&(a=a.substring(0,b+S)+a.substring(b+this.diff_xIndex(C,E+O[1].length))),O[0]!==n&&(E+=O[1].length)}}}}}return a=a.substring(l.length,a.length-l.length),[a,h]},t.prototype.patch_addPadding=function(o){for(var a=this.Patch_Margin,l="",f=1;f<=a;f++)l+=String.fromCharCode(f);for(var f=0;f<o.length;f++)o[f].start1+=a,o[f].start2+=a;var h=o[0],p=h.diffs;if(p.length==0||p[0][0]!=i)p.unshift(new t.Diff(i,l)),h.start1-=a,h.start2-=a,h.length1+=a,h.length2+=a;else if(a>p[0][1].length){var m=a-p[0][1].length;p[0][1]=l.substring(p[0][1].length)+p[0][1],h.start1-=m,h.start2-=m,h.length1+=m,h.length2+=m}if(h=o[o.length-1],p=h.diffs,p.length==0||p[p.length-1][0]!=i)p.push(new t.Diff(i,l)),h.length1+=a,h.length2+=a;else if(a>p[p.length-1][1].length){var m=a-p[p.length-1][1].length;p[p.length-1][1]+=l.substring(0,m),h.length1+=m,h.length2+=m}return l},t.prototype.patch_splitMax=function(o){for(var a=this.Match_MaxBits,l=0;l<o.length;l++)if(!(o[l].length1<=a)){var f=o[l];o.splice(l--,1);for(var h=f.start1,p=f.start2,m="";f.diffs.length!==0;){var v=new t.patch_obj,b=!0;for(v.start1=h-m.length,v.start2=p-m.length,m!==""&&(v.length1=v.length2=m.length,v.diffs.push(new t.Diff(i,m)));f.diffs.length!==0&&v.length1<a-this.Patch_Margin;){var _=f.diffs[0][0],k=f.diffs[0][1];_===r?(v.length2+=k.length,p+=k.length,v.diffs.push(f.diffs.shift()),b=!1):_===n&&v.diffs.length==1&&v.diffs[0][0]==i&&k.length>2*a?(v.length1+=k.length,h+=k.length,b=!1,v.diffs.push(new t.Diff(_,k)),f.diffs.shift()):(k=k.substring(0,a-v.length1-this.Patch_Margin),v.length1+=k.length,h+=k.length,_===i?(v.length2+=k.length,p+=k.length):b=!1,v.diffs.push(new t.Diff(_,k)),k==f.diffs[0][1]?f.diffs.shift():f.diffs[0][1]=f.diffs[0][1].substring(k.length))}m=this.diff_text2(v.diffs),m=m.substring(m.length-this.Patch_Margin);var C=this.diff_text1(f.diffs).substring(0,this.Patch_Margin);C!==""&&(v.length1+=C.length,v.length2+=C.length,v.diffs.length!==0&&v.diffs[v.diffs.length-1][0]===i?v.diffs[v.diffs.length-1][1]+=C:v.diffs.push(new t.Diff(i,C))),b||o.splice(++l,0,v)}}},t.prototype.patch_toText=function(o){for(var a=[],l=0;l<o.length;l++)a[l]=o[l];return a.join("")},t.prototype.patch_fromText=function(o){var a=[];if(!o)return a;for(var l=o.split(`
`),f=0,h=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;f<l.length;){var p=l[f].match(h);if(!p)throw new Error("Invalid patch string: "+l[f]);var m=new t.patch_obj;for(a.push(m),m.start1=parseInt(p[1],10),p[2]===""?(m.start1--,m.length1=1):p[2]=="0"?m.length1=0:(m.start1--,m.length1=parseInt(p[2],10)),m.start2=parseInt(p[3],10),p[4]===""?(m.start2--,m.length2=1):p[4]=="0"?m.length2=0:(m.start2--,m.length2=parseInt(p[4],10)),f++;f<l.length;){var v=l[f].charAt(0);try{var b=decodeURI(l[f].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+b)}if(v=="-")m.diffs.push(new t.Diff(n,b));else if(v=="+")m.diffs.push(new t.Diff(r,b));else if(v==" ")m.diffs.push(new t.Diff(i,b));else{if(v=="@")break;if(v!=="")throw new Error('Invalid patch mode "'+v+'" in: '+b)}f++}}return a},t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},t.patch_obj.prototype.toString=function(){var o,a;this.length1===0?o=this.start1+",0":this.length1==1?o=this.start1+1:o=this.start1+1+","+this.length1,this.length2===0?a=this.start2+",0":this.length2==1?a=this.start2+1:a=this.start2+1+","+this.length2;for(var l=["@@ -"+o+" +"+a+` @@
`],f,h=0;h<this.diffs.length;h++){switch(this.diffs[h][0]){case r:f="+";break;case n:f="-";break;case i:f=" ";break}l[h+1]=f+encodeURI(this.diffs[h][1])+`
`}return l.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=n,e.exports.DIFF_INSERT=r,e.exports.DIFF_EQUAL=i})(GM);var eX=GM.exports,tX={exports:{}};(function(e,t){(function(n){n(Er.exports)})(function(n){n.defineSimpleMode=function(v,b){n.defineMode(v,function(_){return n.simpleMode(_,b)})},n.simpleMode=function(v,b){r(b,"start");var _={},k=b.meta||{},C=!1;for(var E in b)if(E!=k&&b.hasOwnProperty(E))for(var S=_[E]=[],F=b[E],O=0;O<F.length;O++){var K=F[O];S.push(new a(K,b)),(K.indent||K.dedent)&&(C=!0)}var j={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:C?[]:null}},copyState:function(q){var B={state:q.state,pending:q.pending,local:q.local,localState:null,indent:q.indent&&q.indent.slice(0)};q.localState&&(B.localState=n.copyState(q.local.mode,q.localState)),q.stack&&(B.stack=q.stack.slice(0));for(var R=q.persistentStates;R;R=R.next)B.persistentStates={mode:R.mode,spec:R.spec,state:R.state==q.localState?B.localState:n.copyState(R.mode,R.state),next:B.persistentStates};return B},token:l(_,v),innerMode:function(q){return q.local&&{mode:q.local.mode,state:q.localState}},indent:m(_,k)};if(k)for(var U in k)k.hasOwnProperty(U)&&(j[U]=k[U]);return j};function r(v,b){if(!v.hasOwnProperty(b))throw new Error("Undefined state "+b+" in simple mode")}function i(v,b){if(!v)return/(?:)/;var _="";return v instanceof RegExp?(v.ignoreCase&&(_="i"),v.unicode&&(_+="u"),v=v.source):v=String(v),new RegExp((b===!1?"":"^")+"(?:"+v+")",_)}function o(v){if(!v)return null;if(v.apply)return v;if(typeof v=="string")return v.replace(/\./g," ");for(var b=[],_=0;_<v.length;_++)b.push(v[_]&&v[_].replace(/\./g," "));return b}function a(v,b){(v.next||v.push)&&r(b,v.next||v.push),this.regex=i(v.regex),this.token=o(v.token),this.data=v}function l(v,b){return function(_,k){if(k.pending){var C=k.pending.shift();return k.pending.length==0&&(k.pending=null),_.pos+=C.text.length,C.token}if(k.local)if(k.local.end&&_.match(k.local.end)){var E=k.local.endToken||null;return k.local=k.localState=null,E}else{var E=k.local.mode.token(_,k.localState),S;return k.local.endScan&&(S=k.local.endScan.exec(_.current()))&&(_.pos=_.start+S.index),E}for(var F=v[k.state],O=0;O<F.length;O++){var K=F[O],j=(!K.data.sol||_.sol())&&_.match(K.regex);if(j){K.data.next?k.state=K.data.next:K.data.push?((k.stack||(k.stack=[])).push(k.state),k.state=K.data.push):K.data.pop&&k.stack&&k.stack.length&&(k.state=k.stack.pop()),K.data.mode&&h(b,k,K.data.mode,K.token),K.data.indent&&k.indent.push(_.indentation()+b.indentUnit),K.data.dedent&&k.indent.pop();var U=K.token;if(U&&U.apply&&(U=U(j)),j.length>2&&K.token&&typeof K.token!="string"){for(var q=2;q<j.length;q++)j[q]&&(k.pending||(k.pending=[])).push({text:j[q],token:K.token[q-1]});return _.backUp(j[0].length-(j[1]?j[1].length:0)),U[0]}else return U&&U.join?U[0]:U}}return _.next(),null}}function f(v,b){if(v===b)return!0;if(!v||typeof v!="object"||!b||typeof b!="object")return!1;var _=0;for(var k in v)if(v.hasOwnProperty(k)){if(!b.hasOwnProperty(k)||!f(v[k],b[k]))return!1;_++}for(var k in b)b.hasOwnProperty(k)&&_--;return _==0}function h(v,b,_,k){var C;if(_.persistent)for(var E=b.persistentStates;E&&!C;E=E.next)(_.spec?f(_.spec,E.spec):_.mode==E.mode)&&(C=E);var S=C?C.mode:_.mode||n.getMode(v,_.spec),F=C?C.state:n.startState(S);_.persistent&&!C&&(b.persistentStates={mode:S,spec:_.spec,state:F,next:b.persistentStates}),b.localState=F,b.local={mode:S,end:_.end&&i(_.end),endScan:_.end&&_.forceEnd!==!1&&i(_.end,!1),endToken:k&&k.join?k[k.length-1]:k}}function p(v,b){for(var _=0;_<b.length;_++)if(b[_]===v)return!0}function m(v,b){return function(_,k,C){if(_.local&&_.local.mode.indent)return _.local.mode.indent(_.localState,k,C);if(_.indent==null||_.local||b.dontIndentStates&&p(_.state,b.dontIndentStates)>-1)return n.Pass;var E=_.indent.length-1,S=v[_.state];e:for(;;){for(var F=0;F<S.length;F++){var O=S[F];if(O.data.dedent&&O.data.dedentIfLineStart!==!1){var K=O.regex.exec(k);if(K&&K[0]){E--,(O.next||O.push)&&(S=v[O.next||O.push]),k=k.slice(K[0].length);continue e}}}break}return E<0?0:_.indent[E]}}})})();var nX=Object.defineProperty,rX=Object.defineProperties,iX=Object.getOwnPropertyDescriptors,b2=Object.getOwnPropertySymbols,oX=Object.prototype.hasOwnProperty,sX=Object.prototype.propertyIsEnumerable,_2=(e,t,n)=>t in e?nX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fa=(e,t)=>{for(var n in t||(t={}))oX.call(t,n)&&_2(e,n,t[n]);if(b2)for(var n of b2(t))sX.call(t,n)&&_2(e,n,t[n]);return e},aX=(e,t)=>rX(e,iX(t)),c1=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};const lX=window.CodeMirror||Ed,uX=pn({name:"DefaultMode",props:{name:{type:String,default:`cm-textarea-${+new Date}`},value:{type:String,default:""},content:{type:String,default:""},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>null},placeholder:{type:String,default:""}},emits:{ready:e=>e,"update:cminstance":e=>e},setup(e,{emit:t}){const n=St(),r=St(null),i=()=>{r.value=ca(lX.fromTextArea(n.value,e.options)),t("update:cminstance",r.value);const o=On(()=>e.cminstance,a=>{var l;a&&((l=e.cminstance)==null||l.setValue(e.value||e.content)),t("ready",Fr(r)),o==null||o()},{deep:!0})};return to(()=>{i()}),{textarea:n,initialize:i}}}),fX=["name","placeholder"];function cX(e,t,n,r,i,o){return xe(),Ie("textarea",{ref:"textarea",name:e.$props.name,placeholder:e.$props.placeholder},null,8,fX)}var w2=c1(uX,[["render",cX]]);const dX=(window==null?void 0:window.CodeMirror)||Ed;window.diff_match_patch=eX;window.DIFF_DELETE=-1;window.DIFF_INSERT=1;window.DIFF_EQUAL=0;const hX=pn({name:"MergeMode",props:{options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})}},emits:["update:cminstance","ready"],setup(e,{emit:t}){const n=St(),r=St(),i=()=>{n.value=ca(dX.MergeView(r.value,e.options)),t("update:cminstance",n.value),t("ready",n)};return to(()=>{i()}),{mergeView:r,initialize:i}}}),pX={ref:"mergeView"};function gX(e,t,n,r,i,o){return xe(),Ie("div",pX,null,512)}var mX=c1(hX,[["render",gX]]),k2;(function(e){e.info="info",e.warning="warning",e.error="error"})(k2||(k2={}));function vX(e){const t=/#link#(.+)#link#/g,n=[];let r;for(r=t.exec(e);r;){const i=document.createElement("a"),o=JSON.parse(r[1]),a=Object.entries(o);for(const[l,f]of a)i.setAttribute(l,f);i.className="editor_custom_link",i.innerHTML="logDownload",n.push({start:r.index,end:r.index+r[0].length,node:i}),r=t.exec(e)}return n}function yX(e){const t=[];function n(){const r=/#log<(\w*)>log#((.|\r\n|\n)*?)#log<(\w*)>log#/g;let i;for(i=r.exec(e);i;){const a=i[0].replace(/\r\n/g,`
`).split(`
`),f=i[2].replace(/\r\n/g,`
`).split(`
`),h=document.createElement("span"),p=i[1];h.className=`c-editor--log__${p}`;let m=0;for(let v=0;v<a.length;v++){const b=a[v],_=f[v],k=h.cloneNode(!1);k.innerText=_,t.push({start:i.index+m,end:i.index+m+b.length,node:k}),m=m+b.length+1}i=r.exec(e)}}return n(),t}const Lh=[{regex:/(\[.*?\])([ \t]*)(<error>[ \t])(.+)/,token:["tag","","error.strong","error.strong"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<info>)(.+)(.?)/,token:["tag","","bracket","bracket","hr"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<warning>)(.+)(.?)/,token:["tag","","comment","comment","hr"],sol:!0}];Ed.defineSimpleMode("fclog",{start:[...Lh,{regex:/.*/,token:"hr"}],error:[...Lh,{regex:/.*/,token:"error.strong"}],info:[...Lh,{regex:/.*/,token:"bracket"}],warning:[...Lh,{regex:/.*\[/,token:"comment"}]});Ed.defineSimpleMode("log",{start:[{regex:/^[=]+[^=]*[=]+/,token:"strong"},{regex:/([^\w])([A-Z][\w]*)/,token:["","string"]},{regex:/(^[A-Z][\w]*)/,token:"string"}]});const bX=window.CodeMirror||Ed,_X=pn({name:"CodemirrorFclog",props:{value:{type:String,default:""},name:{type:String,default:`cm-textarea-${+new Date}`},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})},placeholder:{type:String,default:""}},emits:["update:cminstance","ready"],setup(e,{emit:t}){const n=St(),r=St(null),i=(a=e.cminstance)=>{a.getAllMarks().forEach(p=>p.clear());const f=a.getValue(),h=[].concat(vX(f)).concat(yX(f));for(let p=0;p<h.length;p++){const m=h[p];a.markText(a.posFromIndex(m.start),a.posFromIndex(m.end),{replacedWith:m.node})}},o=()=>{var a;r.value=ca(bX.fromTextArea(n.value,e.options)),t("update:cminstance",Fr(r)),(a=r.value)==null||a.on("change",i)};return On(()=>e.cminstance,a=>{var l;a&&(i(e.cminstance),(l=e.cminstance)==null||l.setValue(e.value),t("ready",r))},{deep:!0,immediate:!0}),to(()=>{o()}),{initialize:o,textarea:n}}}),wX=["name","placeholder"];function kX(e,t,n,r,i,o){return xe(),Ie("textarea",{ref:"textarea",name:e.$props.name,placeholder:e.$props.placeholder},null,8,wX)}var xX=c1(_X,[["render",kX]]);const JM={"update:value":e=>e,change:(e,t)=>({value:e,cm:t}),input:e=>e,ready:e=>e},CX=["changes","scroll","beforeChange","cursorActivity","keyHandled","inputRead","electricInput","beforeSelectionChange","viewportChange","swapDoc","gutterClick","gutterContextMenu","focus","blur","refresh","optionChange","scrollCursorIntoView","update"],SX=()=>{const e={};return CX.forEach(t=>{e[t]=(...n)=>n}),e},h0={mode:"text",theme:"default",lineNumbers:!0,smartIndent:!0,indentUnit:2};function TX(e){Promise.resolve().then(()=>{const t=e.getScrollInfo();e.scrollTo(t.left,t.height)})}const EX=({props:e,cminstance:t,emit:n,internalInstance:r,content:i})=>{const o=xn(()=>{var f;return e.merge?(f=Fr(t))==null?void 0:f.editor():Fr(t)}),a=()=>{const f=[];return Object.keys(r==null?void 0:r.vnode.props).forEach(h=>{if(h.startsWith("on")){const p=h.replace(h[2],h[2].toLowerCase()).slice(2);!JM[p]&&f.push(p)}}),f};return{listenerEvents:()=>{o.value.on("change",p=>{const m=p.getValue();m!==i.value&&(i.value=m,n("update:value",i.value),n("input",i.value),Promise.resolve().then(()=>{n("change",i.value,p)}),e.keepCursorInEnd&&TX(p))});const f={};a().filter(p=>!f[p]&&(f[p]=!0)).forEach(p=>{o.value.on(p,(...m)=>{n(p,...m)})})}}};function AX({props:e,cminstance:t,presetRef:n}){const r=St(null),i=St(null),o=xn(()=>{var v;return e.merge?(v=Fr(t))==null?void 0:v.editor():Fr(t)}),a=()=>{vo(()=>{var v;(v=o.value)==null||v.refresh()})},l=(v=e.width,b=e.height)=>{var _;r.value=String(v).replace("px",""),i.value=String(b).replace("px","");const k=i.value;(_=o.value)==null||_.setSize(r.value,k)},f=()=>{var v;const b=(v=o.value)==null?void 0:v.getWrapperElement();b==null||b.remove()},h=()=>{var v,b,_;const k=(v=o.value)==null?void 0:v.getDoc().getHistory();(b=n.value)==null||b.initialize(),f(),(_=o.value)==null||_.getDoc().setHistory(k)},p=()=>{const v=document.querySelector(".CodeMirror-gutters");return(v==null?void 0:v.style.left.replace("px",""))!=="0"};return{reload:h,refresh:a,resize:l,destroy:f,containerHeight:i,reviseStyle:()=>{if(a(),!p())return;const v=setInterval(()=>{p()?a():clearInterval(v)},60),b=setTimeout(()=>{clearInterval(v),clearTimeout(b)},400)}}}const OX=pn({props:{value:{type:String,default:""},options:{type:Object,default:()=>h0},globalOptions:{type:Object,default:()=>h0},placeholder:{type:String,default:""},border:{type:Boolean,default:!1},width:{type:[String,Number],default:null},height:{type:[String,Number],default:null},keepCursorInEnd:{type:Boolean,default:!1},merge:{type:Boolean,default:!1},name:{type:String,default:""},marker:{type:Function,default:()=>null},unseenLines:{type:Array,default:()=>[]}},emits:Fa(Fa({},JM),SX()),setup(e,{expose:t,emit:n}){var r,i;const o=e;typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value(q,B){if(q==null)throw new TypeError("Cannot convert undefined or null to object");const R=Object(q);for(let V=1;V<arguments.length;V++){const Z=arguments[V];if(Z!=null)for(const W in Z)Object.prototype.hasOwnProperty.call(Z,W)&&(R[W]=Z[W])}return R},writable:!0,configurable:!0});const a=St(null),l=St(""),f=G2(w2),h=St(Fa(Fa(Fa({},h0),o.globalOptions),o.options)),p=Eo(),m=o.name||((i=(r=p==null?void 0:p.parent)==null?void 0:r.type)==null?void 0:i.name)||void 0,v=St(null),b=xn(()=>{var q;return o.merge?(q=Fr(a))==null?void 0:q.editor():Fr(a)}),{refresh:_,resize:k,destroy:C,containerHeight:E,reviseStyle:S}=AX({props:o,cminstance:a,presetRef:v}),{listenerEvents:F}=EX({props:o,cminstance:a,emit:n,internalInstance:p,content:l}),O=()=>{o.unseenLines!==void 0&&o.marker!==void 0&&o.unseenLines.forEach(q=>{var B,R;const V=(B=a.value)==null?void 0:B.lineInfo(q);(R=a.value)==null||R.setGutterMarker(q,"breakpoints",V!=null&&V.gutterMarkers?null:o.marker())})},K=q=>{var B,R;const V=(B=a.value)==null?void 0:B.getValue();q!==V&&((R=a.value)==null||R.setValue(q),l.value=q,S()),O()},j=()=>{F(),O(),k(),n("ready",a.value),On([()=>o.width,()=>o.height],([q,B])=>{k(q,B)},{deep:!0})},U=()=>{if(o.options.mode==="fclog"||o.options.mode==="log"){f.value=xX;return}if(o.merge){f.value=mX;return}f.value=w2};return On(()=>o.options,q=>{var B;for(const R in o.options)(B=b.value)==null||B.setOption(R,Fr(q[R]))},{deep:!0}),On(()=>o.value,q=>{K(q)}),On(()=>o.placeholder,q=>{var B;(B=b.value)==null||B.setOption("placeholder",q)}),On(()=>o.merge,q=>{U()},{immediate:!0}),cs(()=>{C()}),t({cminstance:a,resize:k,refresh:_,destroy:C}),(q,B)=>(xe(),Ie("div",{class:Vt(["codemirror-container",{merge:q.$props.merge,bordered:q.$props.border||q.$props.merge,"width-auto":!q.$props.width||q.$props.width=="100%","height-auto":!q.$props.height||q.$props.height=="100%"}]),style:Si({height:Fr(E)+"px"})},[(xe(),Wt(Xs(Fr(f)),fi({ref_key:"presetRef",ref:v,cminstance:a.value,"onUpdate:cminstance":B[0]||(B[0]=R=>a.value=R),style:{height:"100%"}},aX(Fa(Fa({},q.$props),q.$attrs),{options:h.value,name:Fr(m),content:l.value}),{onReady:j}),null,16,["cminstance"]))],6))}});function DX(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}DX(`.codemirror-container {
  position: relative;
  display: inline-block;
  height: 100%;
  width: fit-content;
  font-size: 12px;
  overflow: hidden;
}
.codemirror-container.bordered {
  border-radius: 4px;
  border: 1px solid #dddddd;
}
.codemirror-container.width-auto {
  width: 100%;
}
.codemirror-container.height-auto {
  height: 100%;
}
.codemirror-container.height-auto .CodeMirror,
.codemirror-container.height-auto .cm-s-default {
  height: 100% !important;
}
.CodeMirror-lines .CodeMirror-placeholder.CodeMirror-line-like {
  color: #666;
}
.CodeMirror,
.CodeMirror-merge-pane {
  height: 100%;
  font-family: consolas !important;
}
.CodeMirror-merge,
.CodeMirror-merge-right .CodeMirror {
  height: 100%;
  border: none !important;
}
.editor_custom_link {
  cursor: pointer;
  color: #1474f1;
  text-decoration: underline;
}
.editor_custom_link:hover {
  color: #04b4fa;
}
.c-editor--log__error {
  color: #bb0606;
  font-weight: bold;
}
.c-editor--log__info {
  color: #333333;
  font-weight: bold;
}
.c-editor--log__warning {
  color: #ee9900;
}
.c-editor--log__success {
  color: #669600;
}
.cm-header,
.cm-strong {
  font-weight: bold;
}
`);var YM={exports:{}},vm={},d1={exports:{}},XM={},ym={};function Qn(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}Qn.prototype.clone_empty=function(){var e=new Qn(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e};Qn.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]};Qn.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1};Qn.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))};Qn.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)};Qn.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count};Qn.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,e.__items[0]===" "&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1};Qn.prototype.is_empty=function(){return this.__items.length===0};Qn.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]};Qn.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf(`
`);t!==-1?this.__character_count=e.length-t:this.__character_count+=e.length};Qn.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e};Qn.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)};Qn.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)};Qn.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1};Qn.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e};function Ad(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}Ad.prototype.get_indent_size=function(e,t){var n=this.__base_string_length;return t=t||0,e<0&&(n=0),n+=e*this.__indent_size,n+=t,n};Ad.prototype.get_indent_string=function(e,t){var n=this.__base_string;return t=t||0,e<0&&(e=0,n=""),t+=e*this.__indent_size,this.__ensure_cache(t),n+=this.__cache[t],n};Ad.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()};Ad.prototype.__add_column=function(){var e=this.__cache.length,t=0,n="";this.__indent_size&&e>=this.__indent_size&&(t=Math.floor(e/this.__indent_size),e-=t*this.__indent_size,n=new Array(t+1).join(this.__indent_string)),e&&(n+=new Array(e+1).join(" ")),this.__cache.push(n)};function er(e,t){this.__indent_cache=new Ad(e,t),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new Qn(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}er.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)};er.prototype.get_line_number=function(){return this.__lines.length};er.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)};er.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)};er.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()};er.prototype.add_new_line=function(e){return this.is_empty()||!e&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)};er.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&(t[t.length-1]===`
`&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join(`
`);return e!==`
`&&(n=n.replace(/[\n]/g,e)),n};er.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()};er.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)};er.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1};er.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()};er.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))};er.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()};er.prototype.trim=function(e){for(e=e===void 0?!1:e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null};er.prototype.just_added_newline=function(){return this.current_line.is_empty()};er.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()};er.prototype.ensure_empty_line_above=function(e,t){for(var n=this.__lines.length-2;n>=0;){var r=this.__lines[n];if(r.is_empty())break;if(r.item(0).indexOf(e)!==0&&r.item(-1)!==t){this.__lines.splice(n+1,0,new Qn(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}};ym.Output=er;var h1={};function MX(e,t,n,r){this.type=e,this.text=t,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}h1.Token=MX;var p1={};(function(e){var t="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",n="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",r="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",i="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",o="(?:\\\\u[0-9a-fA-F]{4}|["+t+r+"])",a="(?:\\\\u[0-9a-fA-F]{4}|["+n+r+i+"])*";e.identifier=new RegExp(o+a,"g"),e.identifierStart=new RegExp(o),e.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+n+r+i+"])+"),e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp(`\r
|`+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,"g")})(p1);var g1={},ef={};function ya(e,t){this.raw_options=ZM(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}ya.prototype._get_array=function(e,t){var n=this.raw_options[e],r=t||[];return typeof n=="object"?n!==null&&typeof n.concat=="function"&&(r=n.concat()):typeof n=="string"&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r};ya.prototype._get_boolean=function(e,t){var n=this.raw_options[e],r=n===void 0?!!t:!!n;return r};ya.prototype._get_characters=function(e,t){var n=this.raw_options[e],r=t||"";return typeof n=="string"&&(r=n.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),r};ya.prototype._get_number=function(e,t){var n=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var r=parseInt(n,10);return isNaN(r)&&(r=t),r};ya.prototype._get_selection=function(e,t,n){var r=this._get_selection_list(e,t,n);if(r.length!==1)throw new Error("Invalid Option Value: The option '"+e+`' can only be one of the following values:
`+t+`
You passed in: '`+this.raw_options[e]+"'");return r[0]};ya.prototype._get_selection_list=function(e,t,n){if(!t||t.length===0)throw new Error("Selection list cannot be empty.");if(n=n||[t[0]],!this._is_valid_selection(n,t))throw new Error("Invalid Default Value!");var r=this._get_array(e,n);if(!this._is_valid_selection(r,t))throw new Error("Invalid Option Value: The option '"+e+`' can contain only the following values:
`+t+`
You passed in: '`+this.raw_options[e]+"'");return r};ya.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some(function(n){return t.indexOf(n)===-1})};function ZM(e,t){var n={};e=QM(e);var r;for(r in e)r!==t&&(n[r]=e[r]);if(t&&e[t])for(r in e[t])n[r]=e[t][r];return n}function QM(e){var t={},n;for(n in e){var r=n.replace(/-/g,"_");t[r]=e[n]}return t}ef.Options=ya;ef.normalizeOpts=QM;ef.mergeOpts=ZM;var e6=ef.Options,NX=["before-newline","after-newline","preserve-newline"];function t6(e){e6.call(this,e,"js");var t=this.raw_options.brace_style||null;t==="expand-strict"?this.raw_options.brace_style="expand":t==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=n[r];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",NX),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}t6.prototype=new e6;g1.Options=t6;var ba={},bm={},n6=RegExp.prototype.hasOwnProperty("sticky");function cr(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}cr.prototype.restart=function(){this.__position=0};cr.prototype.back=function(){this.__position>0&&(this.__position-=1)};cr.prototype.hasNext=function(){return this.__position<this.__input_length};cr.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e};cr.prototype.peek=function(e){var t=null;return e=e||0,e+=this.__position,e>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t};cr.prototype.__match=function(e,t){e.lastIndex=t;var n=e.exec(this.__input);return n&&!(n6&&e.sticky)&&n.index!==t&&(n=null),n};cr.prototype.test=function(e,t){return t=t||0,t+=this.__position,t>=0&&t<this.__input_length?!!this.__match(e,t):!1};cr.prototype.testChar=function(e,t){var n=this.peek(t);return e.lastIndex=0,n!==null&&e.test(n)};cr.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t};cr.prototype.read=function(e,t,n){var r="",i;return e&&(i=this.match(e),i&&(r+=i[0])),t&&(i||!e)&&(r+=this.readUntil(t,n)),r};cr.prototype.readUntil=function(e,t){var n="",r=this.__position;e.lastIndex=this.__position;var i=e.exec(this.__input);return i?(r=i.index,t&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n};cr.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)};cr.prototype.get_regexp=function(e,t){var n=null,r="g";return t&&n6&&(r="y"),typeof e=="string"&&e!==""?n=new RegExp(e,r):e&&(n=new RegExp(e.source,r)),n};cr.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))};cr.prototype.peekUntilAfter=function(e){var t=this.__position,n=this.readUntilAfter(e);return this.__position=t,n};cr.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e};bm.InputScanner=cr;var tf={},r6={};function El(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}El.prototype.restart=function(){this.__position=0};El.prototype.isEmpty=function(){return this.__tokens_length===0};El.prototype.hasNext=function(){return this.__position<this.__tokens_length};El.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e};El.prototype.peek=function(e){var t=null;return e=e||0,e+=this.__position,e>=0&&e<this.__tokens_length&&(t=this.__tokens[e]),t};El.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1};r6.TokenStream=El;var i6={},Od={};function To(e,t){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,t&&(this._starting_pattern=this._input.get_regexp(t._starting_pattern,!0),this._match_pattern=this._input.get_regexp(t._match_pattern,!0),this._until_pattern=this._input.get_regexp(t._until_pattern),this._until_after=t._until_after)}To.prototype.read=function(){var e=this._input.read(this._starting_pattern);return(!this._starting_pattern||e)&&(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e};To.prototype.read_match=function(){return this._input.match(this._match_pattern)};To.prototype.until_after=function(e){var t=this._create();return t._until_after=!0,t._until_pattern=this._input.get_regexp(e),t._update(),t};To.prototype.until=function(e){var t=this._create();return t._until_after=!1,t._until_pattern=this._input.get_regexp(e),t._update(),t};To.prototype.starting_with=function(e){var t=this._create();return t._starting_pattern=this._input.get_regexp(e,!0),t._update(),t};To.prototype.matching=function(e){var t=this._create();return t._match_pattern=this._input.get_regexp(e,!0),t._update(),t};To.prototype._create=function(){return new To(this._input,this)};To.prototype._update=function(){};Od.Pattern=To;var o6=Od.Pattern;function ua(e,t){o6.call(this,e,t),t?this._line_regexp=this._input.get_regexp(t._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}ua.prototype=new o6;ua.prototype.__set_whitespace_patterns=function(e,t){e+="\\t ",t+="\\n\\r",this._match_pattern=this._input.get_regexp("["+e+t+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+t+"]")};ua.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var e=this._input.read(this._match_pattern);if(e===" ")this.whitespace_before_token=" ";else if(e){var t=this.__split(this._newline_regexp,e);this.newline_count=t.length-1,this.whitespace_before_token=t[this.newline_count]}return e};ua.prototype.matching=function(e,t){var n=this._create();return n.__set_whitespace_patterns(e,t),n._update(),n};ua.prototype._create=function(){return new ua(this._input,this)};ua.prototype.__split=function(e,t){e.lastIndex=0;for(var n=0,r=[],i=e.exec(t);i;)r.push(t.substring(n,i.index)),n=i.index+i[0].length,i=e.exec(t);return n<t.length?r.push(t.substring(n,t.length)):r.push(""),r};i6.WhitespacePattern=ua;var LX=bm.InputScanner,s6=h1.Token,p0=r6.TokenStream,PX=i6.WhitespacePattern,ld={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},Mo=function(e,t){this._input=new LX(e),this._options=t||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new PX(this._input)};Mo.prototype.tokenize=function(){this._input.restart(),this.__tokens=new p0,this._reset();for(var e,t=new s6(ld.START,""),n=null,r=[],i=new p0;t.type!==ld.EOF;){for(e=this._get_next_token(t,n);this._is_comment(e);)i.add(e),e=this._get_next_token(t,n);i.isEmpty()||(e.comments_before=i,i=new p0),e.parent=n,this._is_opening(e)?(r.push(n),n=e):n&&this._is_closing(e,n)&&(e.opened=n,n.closed=e,n=r.pop(),e.parent=n),e.previous=t,t.next=e,this.__tokens.add(e),t=e}return this.__tokens};Mo.prototype._is_first_token=function(){return this.__tokens.isEmpty()};Mo.prototype._reset=function(){};Mo.prototype._get_next_token=function(e,t){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(ld.RAW,n):this._create_token(ld.EOF,"")};Mo.prototype._is_comment=function(e){return!1};Mo.prototype._is_opening=function(e){return!1};Mo.prototype._is_closing=function(e,t){return!1};Mo.prototype._create_token=function(e,t){var n=new s6(e,t,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return n};Mo.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};tf.Tokenizer=Mo;tf.TOKEN=ld;var _m={};function m1(e,t){e=typeof e=="string"?e:e.source,t=typeof t=="string"?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}m1.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(e);n;)t[n[1]]=n[2],n=this.__directive_pattern.exec(e);return t};m1.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)};_m.Directives=m1;var v1={},jy=Od.Pattern,Vy={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function eo(e,t){jy.call(this,e,t),this.__template_pattern=null,this._disabled=Object.assign({},Vy),this._excluded=Object.assign({},Vy),t&&(this.__template_pattern=this._input.get_regexp(t.__template_pattern),this._excluded=Object.assign(this._excluded,t._excluded),this._disabled=Object.assign(this._disabled,t._disabled));var n=new jy(e);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/),smarty:n.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:n.starting_with(/{\*/).until_after(/\*}/),smarty_literal:n.starting_with(/{literal}/).until_after(/{\/literal}/)}}eo.prototype=new jy;eo.prototype._create=function(){return new eo(this._input,this)};eo.prototype._update=function(){this.__set_templated_pattern()};eo.prototype.disable=function(e){var t=this._create();return t._disabled[e]=!0,t._update(),t};eo.prototype.read_options=function(e){var t=this._create();for(var n in Vy)t._disabled[n]=e.templating.indexOf(n)===-1;return t._update(),t};eo.prototype.exclude=function(e){var t=this._create();return t._excluded[e]=!0,t._update(),t};eo.prototype.read=function(){var e="";this._match_pattern?e=this._input.read(this._starting_pattern):e=this._input.read(this._starting_pattern,this.__template_pattern);for(var t=this._read_template();t;)this._match_pattern?t+=this._input.read(this._match_pattern):t+=this._input.readUntil(this.__template_pattern),e+=t,t=this._read_template();return this._until_after&&(e+=this._input.readUntilAfter(this._until_pattern)),e};eo.prototype.__set_templated_pattern=function(){var e=[];this._disabled.php||e.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||e.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||e.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(e.push(this.__patterns.django._starting_pattern.source),e.push(this.__patterns.django_value._starting_pattern.source),e.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||e.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&e.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+e.join("|")+")")};eo.prototype._read_template=function(){var e="",t=this._input.peek();if(t==="<"){var n=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&n==="?"&&(e=e||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&n==="%"&&(e=e||this.__patterns.erb.read())}else t==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(e=e||this.__patterns.handlebars_comment.read(),e=e||this.__patterns.handlebars_unescaped.read(),e=e||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(e=e||this.__patterns.django_value.read()),this._excluded.django||(e=e||this.__patterns.django_comment.read(),e=e||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(e=e||this.__patterns.smarty_comment.read(),e=e||this.__patterns.smarty_literal.read(),e=e||this.__patterns.smarty.read()));return e};v1.TemplatablePattern=eo;var IX=bm.InputScanner,a6=tf.Tokenizer,g0=tf.TOKEN,FX=_m.Directives,Ci=p1,RX=Od.Pattern,BX=v1.TemplatablePattern;function m0(e,t){return t.indexOf(e)!==-1}var dt={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:g0.START,RAW:g0.RAW,EOF:g0.EOF},x2=new FX(/\/\*/,/\*\//),zX=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,$X=/[0-9]/,HX=/[^\d\.]/,jX=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),hl=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";hl=hl.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");hl="\\?\\.(?!\\d) "+hl;hl=hl.replace(/ /g,"|");var VX=new RegExp(hl),l6="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),WX=l6.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),UX=new RegExp("^(?:"+WX.join("|")+")$"),Gh,dr=function(e,t){a6.call(this,e,t),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new RX(this._input),r=new BX(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(Ci.identifier).matching(Ci.identifierMatch),number:n.matching(zX),punct:n.matching(VX),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(Ci.lineBreak),shebang:n.starting_with(/#!/).until_after(Ci.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\[CDATA\[[^\]]*?\]\]|)(\s*{[^}]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};dr.prototype=new a6;dr.prototype._is_comment=function(e){return e.type===dt.COMMENT||e.type===dt.BLOCK_COMMENT||e.type===dt.UNKNOWN};dr.prototype._is_opening=function(e){return e.type===dt.START_BLOCK||e.type===dt.START_EXPR};dr.prototype._is_closing=function(e,t){return(e.type===dt.END_BLOCK||e.type===dt.END_EXPR)&&t&&(e.text==="]"&&t.text==="["||e.text===")"&&t.text==="("||e.text==="}"&&t.text==="{")};dr.prototype._reset=function(){Gh=!1};dr.prototype._get_next_token=function(e,t){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(dt.EOF,""):(n=n||this._read_non_javascript(r),n=n||this._read_string(r),n=n||this._read_word(e),n=n||this._read_singles(r),n=n||this._read_comment(r),n=n||this._read_regexp(r,e),n=n||this._read_xml(r,e),n=n||this._read_punctuation(),n=n||this._create_token(dt.UNKNOWN,this._input.next()),n)};dr.prototype._read_word=function(e){var t;if(t=this.__patterns.identifier.read(),t!=="")return t=t.replace(Ci.allLineBreaks,`
`),!(e.type===dt.DOT||e.type===dt.RESERVED&&(e.text==="set"||e.text==="get"))&&UX.test(t)?t==="in"||t==="of"?this._create_token(dt.OPERATOR,t):this._create_token(dt.RESERVED,t):this._create_token(dt.WORD,t);if(t=this.__patterns.number.read(),t!=="")return this._create_token(dt.WORD,t)};dr.prototype._read_singles=function(e){var t=null;return e==="("||e==="["?t=this._create_token(dt.START_EXPR,e):e===")"||e==="]"?t=this._create_token(dt.END_EXPR,e):e==="{"?t=this._create_token(dt.START_BLOCK,e):e==="}"?t=this._create_token(dt.END_BLOCK,e):e===";"?t=this._create_token(dt.SEMICOLON,e):e==="."&&HX.test(this._input.peek(1))?t=this._create_token(dt.DOT,e):e===","&&(t=this._create_token(dt.COMMA,e)),t&&this._input.next(),t};dr.prototype._read_punctuation=function(){var e=this.__patterns.punct.read();if(e!=="")return e==="="?this._create_token(dt.EQUALS,e):e==="?."?this._create_token(dt.DOT,e):this._create_token(dt.OPERATOR,e)};dr.prototype._read_non_javascript=function(e){var t="";if(e==="#"){if(this._is_first_token()&&(t=this.__patterns.shebang.read(),t))return this._create_token(dt.UNKNOWN,t.trim()+`
`);if(t=this.__patterns.include.read(),t)return this._create_token(dt.UNKNOWN,t.trim()+`
`);e=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar($X)){do e=this._input.next(),n+=e;while(this._input.hasNext()&&e!=="#"&&e!=="=");return e==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(n+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(n+="{}",this._input.next(),this._input.next())),this._create_token(dt.WORD,n)}this._input.back()}else if(e==="<"&&this._is_first_token()){if(t=this.__patterns.html_comment_start.read(),t){for(;this._input.hasNext()&&!this._input.testChar(Ci.newline);)t+=this._input.next();return Gh=!0,this._create_token(dt.COMMENT,t)}}else if(Gh&&e==="-"&&(t=this.__patterns.html_comment_end.read(),t))return Gh=!1,this._create_token(dt.COMMENT,t);return null};dr.prototype._read_comment=function(e){var t=null;if(e==="/"){var n="";if(this._input.peek(1)==="*"){n=this.__patterns.block_comment.read();var r=x2.get_directives(n);r&&r.ignore==="start"&&(n+=x2.readIgnored(this._input)),n=n.replace(Ci.allLineBreaks,`
`),t=this._create_token(dt.BLOCK_COMMENT,n),t.directives=r}else this._input.peek(1)==="/"&&(n=this.__patterns.comment.read(),t=this._create_token(dt.COMMENT,n))}return t};dr.prototype._read_string=function(e){if(e==="`"||e==="'"||e==='"'){var t=this._input.next();return this.has_char_escapes=!1,e==="`"?t+=this._read_string_recursive("`",!0,"${"):t+=this._read_string_recursive(e),this.has_char_escapes&&this._options.unescape_strings&&(t=KX(t)),this._input.peek()===e&&(t+=this._input.next()),t=t.replace(Ci.allLineBreaks,`
`),this._create_token(dt.STRING,t)}return null};dr.prototype._allow_regexp_or_xml=function(e){return e.type===dt.RESERVED&&m0(e.text,["return","case","throw","else","do","typeof","yield"])||e.type===dt.END_EXPR&&e.text===")"&&e.opened.previous.type===dt.RESERVED&&m0(e.opened.previous.text,["if","while","for"])||m0(e.type,[dt.COMMENT,dt.START_EXPR,dt.START_BLOCK,dt.START,dt.END_BLOCK,dt.OPERATOR,dt.EQUALS,dt.EOF,dt.SEMICOLON,dt.COMMA])};dr.prototype._read_regexp=function(e,t){if(e==="/"&&this._allow_regexp_or_xml(t)){for(var n=this._input.next(),r=!1,i=!1;this._input.hasNext()&&(r||i||this._input.peek()!==e)&&!this._input.testChar(Ci.newline);)n+=this._input.peek(),r?r=!1:(r=this._input.peek()==="\\",this._input.peek()==="["?i=!0:this._input.peek()==="]"&&(i=!1)),this._input.next();return this._input.peek()===e&&(n+=this._input.next(),n+=this._input.read(Ci.identifier)),this._create_token(dt.STRING,n)}return null};dr.prototype._read_xml=function(e,t){if(this._options.e4x&&e==="<"&&this._allow_regexp_or_xml(t)){var n="",r=this.__patterns.xml.read_match();if(r){for(var i=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),o=i.indexOf("{")===0,a=0;r;){var l=!!r[1],f=r[2],h=!!r[r.length-1]||f.slice(0,8)==="![CDATA[";if(!h&&(f===i||o&&f.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(l?--a:++a),n+=r[0],a<=0)break;r=this.__patterns.xml.read_match()}return r||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(Ci.allLineBreaks,`
`),this._create_token(dt.STRING,n)}}return null};function KX(e){for(var t="",n=0,r=new IX(e),i=null;r.hasNext();)if(i=r.match(/([\s]|[^\\]|\\\\)+/g),i&&(t+=i[0]),r.peek()==="\\"){if(r.next(),r.peek()==="x")i=r.match(/x([0-9A-Fa-f]{2})/g);else if(r.peek()==="u")i=r.match(/u([0-9A-Fa-f]{4})/g);else{t+="\\",r.hasNext()&&(t+=r.next());continue}if(!i||(n=parseInt(i[1],16),n>126&&n<=255&&i[0].indexOf("x")===0))return e;if(n>=0&&n<32){t+="\\"+i[0];continue}else n===34||n===39||n===92?t+="\\"+String.fromCharCode(n):t+=String.fromCharCode(n)}return t}dr.prototype._read_string_recursive=function(e,t,n){var r,i;e==="'"?i=this.__patterns.single_quote:e==='"'?i=this.__patterns.double_quote:e==="`"?i=this.__patterns.template_text:e==="}"&&(i=this.__patterns.template_expression);for(var o=i.read(),a="";this._input.hasNext();){if(a=this._input.next(),a===e||!t&&Ci.newline.test(a)){this._input.back();break}else a==="\\"&&this._input.hasNext()?(r=this._input.peek(),r==="x"||r==="u"?this.has_char_escapes=!0:r==="\r"&&this._input.peek(1)===`
`&&this._input.next(),a+=this._input.next()):n&&(n==="${"&&a==="$"&&this._input.peek()==="{"&&(a+=this._input.next()),n===a&&(e==="`"?a+=this._read_string_recursive("}",t,"`"):a+=this._read_string_recursive("`",t,"${"),this._input.hasNext()&&(a+=this._input.next())));a+=i.read(),o+=a}return o};ba.Tokenizer=dr;ba.TOKEN=dt;ba.positionable_operators=jX.slice();ba.line_starters=l6.slice();var qX=ym.Output,GX=h1.Token,fg=p1,JX=g1.Options,YX=ba.Tokenizer,ud=ba.line_starters,tc=ba.positionable_operators,Se=ba.TOKEN;function xt(e,t){return t.indexOf(e)!==-1}function XX(e){return e.replace(/^\s+/g,"")}function ZX(e){for(var t={},n=0;n<e.length;n++)t[e[n].replace(/-/g,"_")]=e[n];return t}function _i(e,t){return e&&e.type===Se.RESERVED&&e.text===t}function sn(e,t){return e&&e.type===Se.RESERVED&&xt(e.text,t)}var wm=["case","return","do","if","throw","else","await","break","continue","async"],QX=["before-newline","after-newline","preserve-newline"],Nc=ZX(QX),u6=[Nc.before_newline,Nc.preserve_newline],ht={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function f6(e,t){t.multiline_frame||t.mode===ht.ForInitializer||t.mode===ht.Conditional||e.remove_indent(t.start_line_index)}function eZ(e){e=e.replace(fg.allLineBreaks,`
`);for(var t=[],n=e.indexOf(`
`);n!==-1;)t.push(e.substring(0,n)),e=e.substring(n+1),n=e.indexOf(`
`);return e.length&&t.push(e),t}function fa(e){return e===ht.ArrayLiteral}function Lc(e){return xt(e,[ht.Expression,ht.ForInitializer,ht.Conditional])}function tZ(e,t){for(var n=0;n<e.length;n++){var r=e[n].trim();if(r.charAt(0)!==t)return!1}return!0}function nZ(e,t){for(var n=0,r=e.length,i;n<r;n++)if(i=e[n],i&&i.indexOf(t)!==0)return!1;return!0}function Ut(e,t){t=t||{},this._source_text=e||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new JX(t)}Ut.prototype.create_flags=function(e,t){var n=0;e&&(n=e.indentation_level,!this._output.just_added_newline()&&e.line_indent_level>n&&(n=e.line_indent_level));var r={mode:t,parent:e,last_token:e?e.last_token:new GX(Se.START_BLOCK,""),last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:n,alignment:0,line_indent_level:e?e.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0};return r};Ut.prototype._reset=function(e){var t=e.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new qX(this._options,t),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(ht.BlockStatement);var n=new YX(e,this._options);return this._tokens=n.tokenize(),e};Ut.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e,t=this._reset(this._source_text),n=this._options.eol;this._options.eol==="auto"&&(n=`
`,t&&fg.lineBreak.test(t||"")&&(n=t.match(fg.lineBreak)[0]));for(var r=this._tokens.next();r;)this.handle_token(r),this._last_last_text=this._flags.last_token.text,this._flags.last_token=r,r=this._tokens.next();return e=this._output.get_code(n),e};Ut.prototype.handle_token=function(e,t){e.type===Se.START_EXPR?this.handle_start_expr(e):e.type===Se.END_EXPR?this.handle_end_expr(e):e.type===Se.START_BLOCK?this.handle_start_block(e):e.type===Se.END_BLOCK?this.handle_end_block(e):e.type===Se.WORD?this.handle_word(e):e.type===Se.RESERVED?this.handle_word(e):e.type===Se.SEMICOLON?this.handle_semicolon(e):e.type===Se.STRING?this.handle_string(e):e.type===Se.EQUALS?this.handle_equals(e):e.type===Se.OPERATOR?this.handle_operator(e):e.type===Se.COMMA?this.handle_comma(e):e.type===Se.BLOCK_COMMENT?this.handle_block_comment(e,t):e.type===Se.COMMENT?this.handle_comment(e,t):e.type===Se.DOT?this.handle_dot(e):e.type===Se.EOF?this.handle_eof(e):e.type===Se.UNKNOWN?this.handle_unknown(e,t):this.handle_unknown(e,t)};Ut.prototype.handle_whitespace_and_comments=function(e,t){var n=e.newlines,r=this._options.keep_array_indentation&&fa(this._flags.mode);if(e.comments_before)for(var i=e.comments_before.next();i;)this.handle_whitespace_and_comments(i,t),this.handle_token(i,t),i=e.comments_before.next();if(r)for(var o=0;o<n;o+=1)this.print_newline(o>0,t);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,t);for(var a=1;a<n;a+=1)this.print_newline(!0,t)}};var y1=["async","break","continue","return","throw","yield"];Ut.prototype.allow_wrap_or_preserved_newline=function(e,t){if(t=t===void 0?!1:t,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&e.newlines||t,r=xt(this._flags.last_token.text,tc)||xt(e.text,tc);if(r){var i=xt(this._flags.last_token.text,tc)&&xt(this._options.operator_position,u6)||xt(e.text,tc);n=n&&i}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(sn(this._flags.last_token,y1))return;this._output.set_wrap_point()}}};Ut.prototype.print_newline=function(e,t){if(!t&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==Se.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var n=this._tokens.peek();this._flags.mode===ht.Statement&&!(this._flags.if_block&&_i(n,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(e)&&(this._flags.multiline_frame=!0)};Ut.prototype.print_token_line_indentation=function(e){this._output.just_added_newline()&&(this._options.keep_array_indentation&&e.newlines&&(e.text==="["||fa(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(e.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))};Ut.prototype.print_token=function(e){if(this._output.raw){this._output.add_raw_token(e);return}if(this._options.comma_first&&e.previous&&e.previous.type===Se.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var t=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(t),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(e),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(e),this._output.non_breaking_space=!0,this._output.add_token(e.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)};Ut.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};Ut.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};Ut.prototype.set_mode=function(e){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,e),this._flags=this.create_flags(this._previous_flags,e),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};Ut.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===ht.Statement&&f6(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};Ut.prototype.start_of_object_property=function(){return this._flags.parent.mode===ht.ObjectLiteral&&this._flags.mode===ht.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||sn(this._flags.last_token,["get","set"]))};Ut.prototype.start_of_statement=function(e){var t=!1;return t=t||sn(this._flags.last_token,["var","let","const"])&&e.type===Se.WORD,t=t||_i(this._flags.last_token,"do"),t=t||!(this._flags.parent.mode===ht.ObjectLiteral&&this._flags.mode===ht.Statement)&&sn(this._flags.last_token,y1)&&!e.newlines,t=t||_i(this._flags.last_token,"else")&&!(_i(e,"if")&&!e.comments_before),t=t||this._flags.last_token.type===Se.END_EXPR&&(this._previous_flags.mode===ht.ForInitializer||this._previous_flags.mode===ht.Conditional),t=t||this._flags.last_token.type===Se.WORD&&this._flags.mode===ht.BlockStatement&&!this._flags.in_case&&!(e.text==="--"||e.text==="++")&&this._last_last_text!=="function"&&e.type!==Se.WORD&&e.type!==Se.RESERVED,t=t||this._flags.mode===ht.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||sn(this._flags.last_token,["get","set"])),t?(this.set_mode(ht.Statement),this.indent(),this.handle_whitespace_and_comments(e,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e,sn(e,["do","for","if","while"])),!0):!1};Ut.prototype.handle_start_expr=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e);var t=ht.Expression;if(e.text==="["){if(this._flags.last_token.type===Se.WORD||this._flags.last_token.text===")"){sn(this._flags.last_token,ud)&&(this._output.space_before_token=!0),this.print_token(e),this.set_mode(t),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}t=ht.ArrayLiteral,fa(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),xt(this._flags.last_token.type,[Se.START_EXPR,Se.END_EXPR,Se.WORD,Se.OPERATOR,Se.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===Se.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,t=ht.ForInitializer):xt(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,t=ht.Conditional):xt(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&e.whitespace_before===""?this._output.space_before_token=!1:(xt(this._flags.last_token.text,ud)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===Se.EQUALS||this._flags.last_token.type===Se.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e);else if(this._flags.last_token.type===Se.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var r=this._tokens.peek(-4);sn(n,["async","function"])||n.text==="*"&&sn(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===ht.ObjectLiteral&&(n.text==="{"||n.text===","||n.text==="*"&&(r.text==="{"||r.text===","))&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(e);(this._flags.last_token.type===Se.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(xt(this._last_last_text,["function","yield"])||this._flags.mode===ht.ObjectLiteral&&xt(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===Se.START_BLOCK?this.print_newline():(this._flags.last_token.type===Se.END_EXPR||this._flags.last_token.type===Se.START_EXPR||this._flags.last_token.type===Se.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===Se.COMMA)&&this.allow_wrap_or_preserved_newline(e,e.newlines),this.print_token(e),this.set_mode(t),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()};Ut.prototype.handle_end_expr=function(e){for(;this._flags.mode===ht.Statement;)this.restore_mode();this.handle_whitespace_and_comments(e),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(e,e.text==="]"&&fa(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===Se.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(e),this.restore_mode(),f6(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===ht.Conditional&&(this._previous_flags.mode=ht.Expression,this._flags.do_block=!1,this._flags.do_while=!1)};Ut.prototype.handle_start_block=function(e){this.handle_whitespace_and_comments(e);var t=this._tokens.peek(),n=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===Se.END_EXPR?(this.set_mode(ht.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(ht.BlockStatement):n&&(xt(n.text,[":",","])&&xt(t.type,[Se.STRING,Se.WORD,Se.RESERVED])||xt(t.text,["get","set","..."])&&xt(n.type,[Se.WORD,Se.RESERVED]))?xt(this._last_last_text,["class","interface"])&&!xt(n.text,[":",","])?this.set_mode(ht.BlockStatement):this.set_mode(ht.ObjectLiteral):this._flags.last_token.type===Se.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(ht.BlockStatement):xt(this._flags.last_token.type,[Se.EQUALS,Se.START_EXPR,Se.COMMA,Se.OPERATOR])||sn(this._flags.last_token,["return","throw","import","default"])?this.set_mode(ht.ObjectLiteral):this.set_mode(ht.BlockStatement);var r=!t.comments_before&&t.text==="}",i=r&&this._flags.last_word==="function"&&this._flags.last_token.type===Se.END_EXPR;if(this._options.brace_preserve_inline){var o=0,a=null;this._flags.inline_frame=!0;do if(o+=1,a=this._tokens.peek(o-1),a.newlines){this._flags.inline_frame=!1;break}while(a.type!==Se.EOF&&!(a.type===Se.END_BLOCK&&a.opened===e))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&e.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==Se.OPERATOR&&(i||this._flags.last_token.type===Se.EQUALS||sn(this._flags.last_token,wm)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(fa(this._previous_flags.mode)&&(this._flags.last_token.type===Se.START_EXPR||this._flags.last_token.type===Se.COMMA)&&((this._flags.last_token.type===Se.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===Se.COMMA||this._flags.last_token.type===Se.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(e),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==Se.OPERATOR&&this._flags.last_token.type!==Se.START_EXPR&&(this._flags.last_token.type===Se.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(e),this.indent(),!r&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()};Ut.prototype.handle_end_block=function(e){for(this.handle_whitespace_and_comments(e);this._flags.mode===ht.Statement;)this.restore_mode();var t=this._flags.last_token.type===Se.START_BLOCK;this._flags.inline_frame&&!t?this._output.space_before_token=!0:this._options.brace_style==="expand"?t||this.print_newline():t||(fa(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(e)};Ut.prototype.handle_word=function(e){if(e.type===Se.RESERVED){if(xt(e.text,["set","get"])&&this._flags.mode!==ht.ObjectLiteral)e.type=Se.WORD;else if(e.text==="import"&&xt(this._tokens.peek().text,["(","."]))e.type=Se.WORD;else if(xt(e.text,["as","from"])&&!this._flags.import_block)e.type=Se.WORD;else if(this._flags.mode===ht.ObjectLiteral){var t=this._tokens.peek();t.text===":"&&(e.type=Se.WORD)}}if(this.start_of_statement(e)?sn(this._flags.last_token,["var","let","const"])&&e.type===Se.WORD&&(this._flags.declaration_statement=!0):e.newlines&&!Lc(this._flags.mode)&&(this._flags.last_token.type!==Se.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==Se.EQUALS&&(this._options.preserve_newlines||!sn(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(e),this.print_newline()):this.handle_whitespace_and_comments(e),this._flags.do_block&&!this._flags.do_while)if(_i(e,"while")){this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&_i(e,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===ht.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&sn(e,["case","default"])){this.print_newline(),!this._flags.case_block&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(e),this._flags.in_case=!0;return}if((this._flags.last_token.type===Se.COMMA||this._flags.last_token.type===Se.START_EXPR||this._flags.last_token.type===Se.EQUALS||this._flags.last_token.type===Se.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e)),_i(e,"function")){(xt(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(xt(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===Se.OPERATOR))&&!this._output.just_added_blankline()&&!e.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===Se.RESERVED||this._flags.last_token.type===Se.WORD?sn(this._flags.last_token,["get","set","new","export"])||sn(this._flags.last_token,y1)?this._output.space_before_token=!0:_i(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===Se.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(Lc(this._flags.mode)||fa(this._flags.mode))||this.print_newline(),this.print_token(e),this._flags.last_word=e.text;return}var n="NONE";if(this._flags.last_token.type===Se.END_BLOCK?this._previous_flags.inline_frame?n="SPACE":sn(e,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&e.newlines?n="NEWLINE":(n="SPACE",this._output.space_before_token=!0):n="NEWLINE":this._flags.last_token.type===Se.SEMICOLON&&this._flags.mode===ht.BlockStatement?n="NEWLINE":this._flags.last_token.type===Se.SEMICOLON&&Lc(this._flags.mode)?n="SPACE":this._flags.last_token.type===Se.STRING?n="NEWLINE":this._flags.last_token.type===Se.RESERVED||this._flags.last_token.type===Se.WORD||this._flags.last_token.text==="*"&&(xt(this._last_last_text,["function","yield"])||this._flags.mode===ht.ObjectLiteral&&xt(this._last_last_text,["{",","]))?n="SPACE":this._flags.last_token.type===Se.START_BLOCK?this._flags.inline_frame?n="SPACE":n="NEWLINE":this._flags.last_token.type===Se.END_EXPR&&(this._output.space_before_token=!0,n="NEWLINE"),sn(e,ud)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?n="SPACE":n="NEWLINE"),sn(e,["else","catch","finally"]))if((!(this._flags.last_token.type===Se.END_BLOCK&&this._previous_flags.mode===ht.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&e.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var r=this._output.current_line;r.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else n==="NEWLINE"?sn(this._flags.last_token,wm)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&sn(e,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==Se.END_EXPR?(this._flags.last_token.type!==Se.START_EXPR||!sn(e,["var","let","const"]))&&this._flags.last_token.text!==":"&&(_i(e,"if")&&_i(e.previous,"else")?this._output.space_before_token=!0:this.print_newline()):sn(e,ud)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&fa(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():n==="SPACE"&&(this._output.space_before_token=!0);e.previous&&(e.previous.type===Se.WORD||e.previous.type===Se.RESERVED)&&(this._output.space_before_token=!0),this.print_token(e),this._flags.last_word=e.text,e.type===Se.RESERVED&&(e.text==="do"?this._flags.do_block=!0:e.text==="if"?this._flags.if_block=!0:e.text==="import"?this._flags.import_block=!0:this._flags.import_block&&_i(e,"from")&&(this._flags.import_block=!1))};Ut.prototype.handle_semicolon=function(e){this.start_of_statement(e)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(e);for(var t=this._tokens.peek();this._flags.mode===ht.Statement&&!(this._flags.if_block&&_i(t,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(e)};Ut.prototype.handle_string=function(e){e.text.startsWith("`")&&e.newlines===0&&e.whitespace_before===""&&(e.previous.text===")"||this._flags.last_token.type===Se.WORD)||(this.start_of_statement(e)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(e),this._flags.last_token.type===Se.RESERVED||this._flags.last_token.type===Se.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===Se.COMMA||this._flags.last_token.type===Se.START_EXPR||this._flags.last_token.type===Se.EQUALS||this._flags.last_token.type===Se.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e):e.text.startsWith("`")&&this._flags.last_token.type===Se.END_EXPR&&(e.previous.text==="]"||e.previous.text===")")&&e.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(e)};Ut.prototype.handle_equals=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0};Ut.prototype.handle_comma=function(e){this.handle_whitespace_and_comments(e,!0),this.print_token(e),this._output.space_before_token=!0,this._flags.declaration_statement?(Lc(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)):this._flags.mode===ht.ObjectLiteral||this._flags.mode===ht.Statement&&this._flags.parent.mode===ht.ObjectLiteral?(this._flags.mode===ht.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)};Ut.prototype.handle_operator=function(e){var t=e.text==="*"&&(sn(this._flags.last_token,["function","yield"])||xt(this._flags.last_token.type,[Se.START_BLOCK,Se.COMMA,Se.END_BLOCK,Se.SEMICOLON])),n=xt(e.text,["-","+"])&&(xt(this._flags.last_token.type,[Se.START_BLOCK,Se.START_EXPR,Se.EQUALS,Se.OPERATOR])||xt(this._flags.last_token.text,ud)||this._flags.last_token.text===",");if(!this.start_of_statement(e)){var r=!t;this.handle_whitespace_and_comments(e,r)}if(sn(this._flags.last_token,wm)){this._output.space_before_token=!0,this.print_token(e);return}if(e.text==="*"&&this._flags.last_token.type===Se.DOT){this.print_token(e);return}if(e.text==="::"){this.print_token(e);return}if(this._flags.last_token.type===Se.OPERATOR&&xt(this._options.operator_position,u6)&&this.allow_wrap_or_preserved_newline(e),e.text===":"&&this._flags.in_case){this.print_token(e),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==Se.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0);return}var i=!0,o=!0,a=!1;if(e.text===":"?this._flags.ternary_depth===0?i=!1:(this._flags.ternary_depth-=1,a=!0):e.text==="?"&&(this._flags.ternary_depth+=1),!n&&!t&&this._options.preserve_newlines&&xt(e.text,tc)){var l=e.text===":",f=l&&a,h=l&&!a;switch(this._options.operator_position){case Nc.before_newline:this._output.space_before_token=!h,this.print_token(e),(!l||f)&&this.allow_wrap_or_preserved_newline(e),this._output.space_before_token=!0;return;case Nc.after_newline:this._output.space_before_token=!0,!l||f?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(e):this._output.space_before_token=!1,this.print_token(e),this._output.space_before_token=!0;return;case Nc.preserve_newline:h||this.allow_wrap_or_preserved_newline(e),i=!(this._output.just_added_newline()||h),this._output.space_before_token=i,this.print_token(e),this._output.space_before_token=!0;return}}if(t){this.allow_wrap_or_preserved_newline(e),i=!1;var p=this._tokens.peek();o=p&&xt(p.type,[Se.WORD,Se.RESERVED])}else e.text==="..."?(this.allow_wrap_or_preserved_newline(e),i=this._flags.last_token.type===Se.START_BLOCK,o=!1):(xt(e.text,["--","++","!","~"])||n)&&((this._flags.last_token.type===Se.COMMA||this._flags.last_token.type===Se.START_EXPR)&&this.allow_wrap_or_preserved_newline(e),i=!1,o=!1,e.newlines&&(e.text==="--"||e.text==="++"||e.text==="~")&&this.print_newline(!1,!0),this._flags.last_token.text===";"&&Lc(this._flags.mode)&&(i=!0),this._flags.last_token.type===Se.RESERVED?i=!0:this._flags.last_token.type===Se.END_EXPR?i=!(this._flags.last_token.text==="]"&&(e.text==="--"||e.text==="++")):this._flags.last_token.type===Se.OPERATOR&&(i=xt(e.text,["--","-","++","+"])&&xt(this._flags.last_token.text,["--","-","++","+"]),xt(e.text,["+","-"])&&xt(this._flags.last_token.text,["--","++"])&&(o=!0)),(this._flags.mode===ht.BlockStatement&&!this._flags.inline_frame||this._flags.mode===ht.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline());this._output.space_before_token=this._output.space_before_token||i,this.print_token(e),this._output.space_before_token=o};Ut.prototype.handle_block_comment=function(e,t){if(this._output.raw){this._output.add_raw_token(e),e.directives&&e.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(e.directives){this.print_newline(!1,t),this.print_token(e),e.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!fg.newline.test(e.text)&&!e.newlines){this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0;return}else this.print_block_commment(e,t)};Ut.prototype.print_block_commment=function(e,t){var n=eZ(e.text),r,i=!1,o=!1,a=e.whitespace_before,l=a.length;if(this.print_newline(!1,t),this.print_token_line_indentation(e),this._output.add_token(n[0]),this.print_newline(!1,t),n.length>1){for(n=n.slice(1),i=tZ(n,"*"),o=nZ(n,a),i&&(this._flags.alignment=1),r=0;r<n.length;r++)i?(this.print_token_line_indentation(e),this._output.add_token(XX(n[r]))):o&&n[r]?(this.print_token_line_indentation(e),this._output.add_token(n[r].substring(l))):(this._output.current_line.set_indent(-1),this._output.add_token(n[r])),this.print_newline(!1,t);this._flags.alignment=0}};Ut.prototype.handle_comment=function(e,t){e.newlines?this.print_newline(!1,t):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(e),this.print_newline(!1,t)};Ut.prototype.handle_dot=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e,!0),sn(this._flags.last_token,wm)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(e,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(e)};Ut.prototype.handle_unknown=function(e,t){this.print_token(e),e.text[e.text.length-1]===`
`&&this.print_newline(!1,t)};Ut.prototype.handle_eof=function(e){for(;this._flags.mode===ht.Statement;)this.restore_mode();this.handle_whitespace_and_comments(e)};XM.Beautifier=Ut;var rZ=XM.Beautifier,iZ=g1.Options;function oZ(e,t){var n=new rZ(e,t);return n.beautify()}d1.exports=oZ;d1.exports.defaultOptions=function(){return new iZ};var b1={exports:{}},c6={},_1={},d6=ef.Options;function h6(e){d6.call(this,e,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var t=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||t;var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]!=="expand"?this.brace_style="collapse":this.brace_style=n[r]}h6.prototype=new d6;_1.Options=h6;var sZ=_1.Options,aZ=ym.Output,lZ=bm.InputScanner,uZ=_m.Directives,C2=new uZ(/\/\*/,/\*\//),S2=/\r\n|[\r\n]/,fZ=/\r\n|[\r\n]/g,cg=/\s/,cZ=/(?:\s|\n)+/g,dZ=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,hZ=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function bs(e,t){this._source_text=e||"",this._options=new sZ(t),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template"]}bs.prototype.eatString=function(e){var t="";for(this._ch=this._input.next();this._ch;){if(t+=this._ch,this._ch==="\\")t+=this._input.next();else if(e.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return t};bs.prototype.eatWhitespace=function(e){for(var t=cg.test(this._input.peek()),n=0;cg.test(this._input.peek());)this._ch=this._input.next(),e&&this._ch===`
`&&(n===0||n<this._options.max_preserve_newlines)&&(n++,this._output.add_new_line(!0));return t};bs.prototype.foundNestedPseudoClass=function(){for(var e=0,t=1,n=this._input.peek(t);n;){if(n==="{")return!0;if(n==="(")e+=1;else if(n===")"){if(e===0)return!1;e-=1}else if(n===";"||n==="}")return!1;t++,n=this._input.peek(t)}return!1};bs.prototype.print_string=function(e){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(e)};bs.prototype.preserveSingleSpace=function(e){e&&(this._output.space_before_token=!0)};bs.prototype.indent=function(){this._indentLevel++};bs.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--};bs.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;t==="auto"&&(t=`
`,e&&S2.test(e||"")&&(t=e.match(S2)[0])),e=e.replace(fZ,`
`);var n=e.match(/^[\t ]*/)[0];this._output=new aZ(this._options,n),this._input=new lZ(e),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r=0,i=!1,o=!1,a=!1,l=!1,f=!1,h=!1,p=this._ch,m=!1,v,b,_;v=this._input.read(cZ),b=v!=="",_=p,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),p=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var k=this._input.read(dZ),C=C2.get_directives(k);C&&C.ignore==="start"&&(k+=C2.readIgnored(this._input)),this.print_string(k),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(hZ)),this.eatWhitespace(!0);else if(this._ch==="@"||this._ch==="$")if(this.preserveSingleSpace(b),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var E=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);E.match(/[ :]$/)&&(E=this.eatString(": ").replace(/\s$/,""),this.print_string(E),this._output.space_before_token=!0),E=E.replace(/\s$/,""),E==="extend"?l=!0:E==="import"&&(f=!0),E in this.NESTED_AT_RULE?(this._nestedLevel+=1,E in this.CONDITIONAL_GROUP_RULE&&(a=!0)):!i&&r===0&&E.indexOf(":")!==-1&&(o=!0,this.indent())}else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(b),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")o&&(o=!1,this.outdent()),a?(a=!1,i=this._indentLevel>=this._nestedLevel):i=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&i&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(_==="("?this._output.space_before_token=!1:_!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),_==="{"&&this._output.trim(!0),f=!1,l=!1,o&&(this.outdent(),o=!1),this.print_string(this._ch),i=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var S=0;S<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;S++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[S])){m=!0;break}(i||a)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!l&&r===0?(this.print_string(":"),o||(o=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":"))}else if(this._ch==='"'||this._ch==="'")this.preserveSingleSpace(b),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0);else if(this._ch===";")m=!1,r===0?(o&&(this.outdent(),o=!1),l=!1,f=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if(this._ch==="(")this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),r++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),r&&(r--,this.outdent()))):(this.preserveSingleSpace(b),this.print_string(this._ch),o&&_==="$"&&this._options.selector_separator_newline?(this._output.add_new_line(),h=!0):(this.eatWhitespace(),r++,this.indent()));else if(this._ch===")")r&&(r--,this.outdent()),h&&this._input.peek()===";"&&this._options.selector_separator_newline&&(h=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(this._ch===",")this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&(!o||h)&&r===0&&!f&&!l?this._output.add_new_line():this._output.space_before_token=!0;else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!o&&r===0)this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&cg.test(this._ch)&&(this._ch=""));else if(this._ch==="]")this.print_string(this._ch);else if(this._ch==="[")this.preserveSingleSpace(b),this.print_string(this._ch);else if(this._ch==="=")this.eatWhitespace(),this.print_string("="),cg.test(this._ch)&&(this._ch="");else if(this._ch==="!"&&!this._input.lookBack("\\"))this.print_string(" "),this.print_string(this._ch);else{var F=_==='"'||_==="'";this.preserveSingleSpace(F||b),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===`
`&&m&&this._output.add_new_line()}var O=this._output.get_code(t);return O};c6.Beautifier=bs;var pZ=c6.Beautifier,gZ=_1.Options;function mZ(e,t){var n=new pZ(e,t);return n.beautify()}b1.exports=mZ;b1.exports.defaultOptions=function(){return new gZ};var w1={exports:{}},p6={},k1={},g6=ef.Options;function m6(e){g6.call(this,e,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}m6.prototype=new g6;k1.Options=m6;var km={},v6=tf.Tokenizer,v0=tf.TOKEN,vZ=_m.Directives,yZ=v1.TemplatablePattern,bZ=Od.Pattern,Mn={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:v0.START,RAW:v0.RAW,EOF:v0.EOF},T2=new vZ(/<\!--/,/-->/),Ar=function(e,t){v6.call(this,e,t),this._current_tag_name="";var n=new yZ(this._input).read_options(this._options),r=new bZ(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =>]|\/>/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:r.starting_with(/{{!--/).until_after(/--}}/),handlebars:r.starting_with(/{{/).until_after(/}}/),handlebars_open:r.until(/[\n\r\t }]/),handlebars_raw_close:r.until(/}}/),comment:r.starting_with(/<!--/).until_after(/-->/),cdata:r.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:r.starting_with(/<!\[/).until_after(/]>/),processing:r.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var i=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=r.matching(i).until_after(i)}};Ar.prototype=new v6;Ar.prototype._is_comment=function(e){return!1};Ar.prototype._is_opening=function(e){return e.type===Mn.TAG_OPEN};Ar.prototype._is_closing=function(e,t){return e.type===Mn.TAG_CLOSE&&t&&((e.text===">"||e.text==="/>")&&t.text[0]==="<"||e.text==="}}"&&t.text[0]==="{"&&t.text[1]==="{")};Ar.prototype._reset=function(){this._current_tag_name=""};Ar.prototype._get_next_token=function(e,t){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(Mn.EOF,""):(n=n||this._read_open_handlebars(r,t),n=n||this._read_attribute(r,e,t),n=n||this._read_close(r,t),n=n||this._read_raw_content(r,e,t),n=n||this._read_content_word(r),n=n||this._read_comment_or_cdata(r),n=n||this._read_processing(r),n=n||this._read_open(r,t),n=n||this._create_token(Mn.UNKNOWN,this._input.next()),n)};Ar.prototype._read_comment_or_cdata=function(e){var t=null,n=null,r=null;if(e==="<"){var i=this._input.peek(1);i==="!"&&(n=this.__patterns.comment.read(),n?(r=T2.get_directives(n),r&&r.ignore==="start"&&(n+=T2.readIgnored(this._input))):n=this.__patterns.cdata.read()),n&&(t=this._create_token(Mn.COMMENT,n),t.directives=r)}return t};Ar.prototype._read_processing=function(e){var t=null,n=null,r=null;if(e==="<"){var i=this._input.peek(1);(i==="!"||i==="?")&&(n=this.__patterns.conditional_comment.read(),n=n||this.__patterns.processing.read()),n&&(t=this._create_token(Mn.COMMENT,n),t.directives=r)}return t};Ar.prototype._read_open=function(e,t){var n=null,r=null;return t||e==="<"&&(n=this._input.next(),this._input.peek()==="/"&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),r=this._create_token(Mn.TAG_OPEN,n)),r};Ar.prototype._read_open_handlebars=function(e,t){var n=null,r=null;return t||this._options.indent_handlebars&&e==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(n=this.__patterns.handlebars_comment.read(),n=n||this.__patterns.handlebars.read(),r=this._create_token(Mn.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),r=this._create_token(Mn.TAG_OPEN,n))),r};Ar.prototype._read_close=function(e,t){var n=null,r=null;return t&&(t.text[0]==="<"&&(e===">"||e==="/"&&this._input.peek(1)===">")?(n=this._input.next(),e==="/"&&(n+=this._input.next()),r=this._create_token(Mn.TAG_CLOSE,n)):t.text[0]==="{"&&e==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),r=this._create_token(Mn.TAG_CLOSE,"}}"))),r};Ar.prototype._read_attribute=function(e,t,n){var r=null,i="";if(n&&n.text[0]==="<")if(e==="=")r=this._create_token(Mn.EQUALS,this._input.next());else if(e==='"'||e==="'"){var o=this._input.next();e==='"'?o+=this.__patterns.double_quote.read():o+=this.__patterns.single_quote.read(),r=this._create_token(Mn.VALUE,o)}else i=this.__patterns.attribute.read(),i&&(t.type===Mn.EQUALS?r=this._create_token(Mn.VALUE,i):r=this._create_token(Mn.ATTRIBUTE,i));return r};Ar.prototype._is_content_unformatted=function(e){return this._options.void_elements.indexOf(e)===-1&&(this._options.content_unformatted.indexOf(e)!==-1||this._options.unformatted.indexOf(e)!==-1)};Ar.prototype._read_raw_content=function(e,t,n){var r="";if(n&&n.text[0]==="{")r=this.__patterns.handlebars_raw_close.read();else if(t.type===Mn.TAG_CLOSE&&t.opened.text[0]==="<"&&t.text[0]!=="/"){var i=t.opened.text.substr(1).toLowerCase();if(i==="script"||i==="style"){var o=this._read_comment_or_cdata(e);if(o)return o.type=Mn.TEXT,o;r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(i)&&(r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(Mn.TEXT,r):null};Ar.prototype._read_content_word=function(e){var t="";if(this._options.unformatted_content_delimiter&&e===this._options.unformatted_content_delimiter[0]&&(t=this.__patterns.unformatted_content_delimiter.read()),t||(t=this.__patterns.word.read()),t)return this._create_token(Mn.TEXT,t)};km.Tokenizer=Ar;km.TOKEN=Mn;var _Z=k1.Options,wZ=ym.Output,kZ=km.Tokenizer,tn=km.TOKEN,E2=/\r\n|[\r\n]/,xZ=/\r\n|[\r\n]/g,Fi=function(e,t){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=e.max_preserve_newlines,this.preserve_newlines=e.preserve_newlines,this._output=new wZ(e,t)};Fi.prototype.current_line_has_match=function(e){return this._output.current_line.has_match(e)};Fi.prototype.set_space_before_token=function(e,t){this._output.space_before_token=e,this._output.non_breaking_space=t};Fi.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()};Fi.prototype.add_raw_token=function(e){this._output.add_raw_token(e)};Fi.prototype.print_preserved_newlines=function(e){var t=0;e.type!==tn.TEXT&&e.previous.type!==tn.TEXT&&(t=e.newlines?1:0),this.preserve_newlines&&(t=e.newlines<this.max_preserve_newlines+1?e.newlines:this.max_preserve_newlines+1);for(var n=0;n<t;n++)this.print_newline(n>0);return t!==0};Fi.prototype.traverse_whitespace=function(e){return e.whitespace_before||e.newlines?(this.print_preserved_newlines(e)||(this._output.space_before_token=!0),!0):!1};Fi.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped};Fi.prototype.print_newline=function(e){this._output.add_new_line(e)};Fi.prototype.print_token=function(e){e.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(e.text))};Fi.prototype.indent=function(){this.indent_level++};Fi.prototype.get_full_indent=function(e){return e=this.indent_level+(e||0),e<1?"":this._output.get_indent_string(e)};var CZ=function(e){for(var t=null,n=e.next;n.type!==tn.EOF&&e.closed!==n;){if(n.type===tn.ATTRIBUTE&&n.text==="type"){n.next&&n.next.type===tn.EQUALS&&n.next.next&&n.next.next.type===tn.VALUE&&(t=n.next.next.text);break}n=n.next}return t},SZ=function(e,t){var n=null,r=null;return t.closed?(e==="script"?n="text/javascript":e==="style"&&(n="text/css"),n=CZ(t)||n,n.search("text/css")>-1?r="css":n.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?r="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":n.search(/test\/null/)>-1&&(r="null"),r):null};function nc(e,t){return t.indexOf(e)!==-1}function TZ(e,t,n){this.parent=e||null,this.tag=t?t.tag_name:"",this.indent_level=n||0,this.parser_token=t||null}function Al(e){this._printer=e,this._current_frame=null}Al.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null};Al.prototype.record_tag=function(e){var t=new TZ(this._current_frame,e,this._printer.indent_level);this._current_frame=t};Al.prototype._try_pop_frame=function(e){var t=null;return e&&(t=e.parser_token,this._printer.indent_level=e.indent_level,this._current_frame=e.parent),t};Al.prototype._get_frame=function(e,t){for(var n=this._current_frame;n&&e.indexOf(n.tag)===-1;){if(t&&t.indexOf(n.tag)!==-1){n=null;break}n=n.parent}return n};Al.prototype.try_pop=function(e,t){var n=this._get_frame([e],t);return this._try_pop_frame(n)};Al.prototype.indent_to_tag=function(e){var t=this._get_frame(e);t&&(this._printer.indent_level=t.indent_level)};function Li(e,t,n,r){this._source_text=e||"",t=t||{},this._js_beautify=n,this._css_beautify=r,this._tag_stack=null;var i=new _Z(t,"html");this._options=i,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}Li.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;this._options.eol==="auto"&&(t=`
`,e&&E2.test(e)&&(t=e.match(E2)[0])),e=e.replace(xZ,`
`);var n=e.match(/^[\t ]*/)[0],r={text:"",type:""},i=new y6,o=new Fi(this._options,n),a=new kZ(e,this._options).tokenize();this._tag_stack=new Al(o);for(var l=null,f=a.next();f.type!==tn.EOF;)f.type===tn.TAG_OPEN||f.type===tn.COMMENT?(l=this._handle_tag_open(o,f,i,r),i=l):f.type===tn.ATTRIBUTE||f.type===tn.EQUALS||f.type===tn.VALUE||f.type===tn.TEXT&&!i.tag_complete?l=this._handle_inside_tag(o,f,i,a):f.type===tn.TAG_CLOSE?l=this._handle_tag_close(o,f,i):f.type===tn.TEXT?l=this._handle_text(o,f,i):o.add_raw_token(f),r=l,f=a.next();var h=o._output.get_code(t);return h};Li.prototype._handle_tag_close=function(e,t,n){var r={text:t.text,type:t.type};return e.alignment_size=0,n.tag_complete=!0,e.set_space_before_token(t.newlines||t.whitespace_before!=="",!0),n.is_unformatted?e.add_raw_token(t):(n.tag_start_char==="<"&&(e.set_space_before_token(t.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&e.print_newline(!1)),e.print_token(t)),n.indent_content&&!(n.is_unformatted||n.is_content_unformatted)&&(e.indent(),n.indent_content=!1),!n.is_inline_element&&!(n.is_unformatted||n.is_content_unformatted)&&e.set_wrap_point(),r};Li.prototype._handle_inside_tag=function(e,t,n,r){var i=n.has_wrapped_attrs,o={text:t.text,type:t.type};if(e.set_space_before_token(t.newlines||t.whitespace_before!=="",!0),n.is_unformatted)e.add_raw_token(t);else if(n.tag_start_char==="{"&&t.type===tn.TEXT)e.print_preserved_newlines(t)?(t.newlines=0,e.add_raw_token(t)):e.print_token(t);else{if(t.type===tn.ATTRIBUTE?(e.set_space_before_token(!0),n.attr_count+=1):(t.type===tn.EQUALS||t.type===tn.VALUE&&t.previous.type===tn.EQUALS)&&e.set_space_before_token(!1),t.type===tn.ATTRIBUTE&&n.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(e.traverse_whitespace(t),i=i||t.newlines!==0),this._is_wrap_attributes_force)){var a=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&n.attr_count===1){var l=!0,f=0,h;do{if(h=r.peek(f),h.type===tn.ATTRIBUTE){l=!1;break}f+=1}while(f<4&&h.type!==tn.EOF&&h.type!==tn.TAG_CLOSE);a=!l}a&&(e.print_newline(!1),i=!0)}e.print_token(t),i=i||e.previous_token_wrapped(),n.has_wrapped_attrs=i}return o};Li.prototype._handle_text=function(e,t,n){var r={text:t.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(e,t,n):n.is_unformatted||n.is_content_unformatted?e.add_raw_token(t):(e.traverse_whitespace(t),e.print_token(t)),r};Li.prototype._print_custom_beatifier_text=function(e,t,n){var r=this;if(t.text!==""){var i=t.text,o,a=1,l="",f="";n.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?o=this._js_beautify:n.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?o=this._css_beautify:n.custom_beautifier_name==="html"&&(o=function(_,k){var C=new Li(_,k,r._js_beautify,r._css_beautify);return C.beautify()}),this._options.indent_scripts==="keep"?a=0:this._options.indent_scripts==="separate"&&(a=-e.indent_level);var h=e.get_full_indent(a);if(i=i.replace(/\n[ \t]*$/,""),n.custom_beautifier_name!=="html"&&i[0]==="<"&&i.match(/^(<!--|<!\[CDATA\[)/)){var p=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(i);if(!p){e.add_raw_token(t);return}l=h+p[1]+`
`,i=p[4],p[5]&&(f=h+p[5]),i=i.replace(/\n[ \t]*$/,""),(p[2]||p[3].indexOf(`
`)!==-1)&&(p=p[3].match(/[ \t]+$/),p&&(t.whitespace_before=p[0]))}if(i)if(o){var m=function(){this.eol=`
`};m.prototype=this._options.raw_options;var v=new m;i=o(h+i,v)}else{var b=t.whitespace_before;b&&(i=i.replace(new RegExp(`
(`+b+")?","g"),`
`)),i=h+i.replace(/\n/g,`
`+h)}l&&(i?i=l+i+`
`+f:i=l+f),e.print_newline(!1),i&&(t.text=i,t.whitespace_before="",t.newlines=0,e.add_raw_token(t),e.print_newline(!0))}};Li.prototype._handle_tag_open=function(e,t,n,r){var i=this._get_tag_open_token(t);return(n.is_unformatted||n.is_content_unformatted)&&!n.is_empty_element&&t.type===tn.TAG_OPEN&&t.text.indexOf("</")===0?(e.add_raw_token(t),i.start_tag_token=this._tag_stack.try_pop(i.tag_name)):(e.traverse_whitespace(t),this._set_tag_position(e,t,i,n,r),i.is_inline_element||e.set_wrap_point(),e.print_token(t)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(i.alignment_size=t.text.length+1),!i.tag_complete&&!i.is_unformatted&&(e.alignment_size=i.alignment_size),i};var y6=function(e,t){if(this.parent=e||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!t)this.tag_complete=!0;else{var n;this.tag_start_char=t.text[0],this.text=t.text,this.tag_start_char==="<"?(n=t.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=t.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=n?n[1]:"",t.text==="{{#>"&&this.tag_check===">"&&t.next!==null&&(this.tag_check=t.next.text.split(" ")[0])),this.tag_check=this.tag_check.toLowerCase(),t.type===tn.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||t.closed&&t.closed.text==="/>",this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))}};Li.prototype._get_tag_open_token=function(e){var t=new y6(this._tag_stack.get_parser_token(),e);return t.alignment_size=this._options.wrap_attributes_indent_size,t.is_end_tag=t.is_end_tag||nc(t.tag_check,this._options.void_elements),t.is_empty_element=t.tag_complete||t.is_start_tag&&t.is_end_tag,t.is_unformatted=!t.tag_complete&&nc(t.tag_check,this._options.unformatted),t.is_content_unformatted=!t.is_empty_element&&nc(t.tag_check,this._options.content_unformatted),t.is_inline_element=nc(t.tag_name,this._options.inline)||t.tag_start_char==="{",t};Li.prototype._set_tag_position=function(e,t,n,r,i){if(n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||e.print_newline(!1)),this._tag_stack.record_tag(n),(n.tag_name==="script"||n.tag_name==="style")&&!(n.is_unformatted||n.is_content_unformatted)&&(n.custom_beautifier_name=SZ(n.tag_check,t)))),nc(n.tag_check,this._options.extra_liners)&&(e.print_newline(!1),e._output.just_added_blankline()||e.print_newline(!0)),n.is_empty_element){if(n.tag_start_char==="{"&&n.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0;var o=e.current_line_has_match(/{{#if/);o||e.print_newline(!1)}n.tag_name==="!--"&&i.type===tn.TAG_CLOSE&&r.is_end_tag&&n.text.indexOf(`
`)===-1||(n.is_inline_element||n.is_unformatted||e.print_newline(!1),this._calcluate_parent_multiline(e,n))}else if(n.is_end_tag){var a=!1;a=n.start_tag_token&&n.start_tag_token.multiline_content,a=a||!n.is_inline_element&&!(r.is_inline_element||r.is_unformatted)&&!(i.type===tn.TAG_CLOSE&&n.start_tag_token===r)&&i.type!=="TK_CONTENT",(n.is_content_unformatted||n.is_unformatted)&&(a=!1),a&&e.print_newline(!1)}else n.indent_content=!n.custom_beautifier_name,n.tag_start_char==="<"&&(n.tag_name==="html"?n.indent_content=this._options.indent_inner_html:n.tag_name==="head"?n.indent_content=this._options.indent_head_inner_html:n.tag_name==="body"&&(n.indent_content=this._options.indent_body_inner_html)),!(n.is_inline_element||n.is_unformatted)&&(i.type!=="TK_CONTENT"||n.is_content_unformatted)&&e.print_newline(!1),this._calcluate_parent_multiline(e,n)};Li.prototype._calcluate_parent_multiline=function(e,t){t.parent&&e._output.just_added_newline()&&!((t.is_inline_element||t.is_unformatted)&&t.parent.is_inline_element)&&(t.parent.multiline_content=!0)};var EZ=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],AZ=["a","audio","del","ins","map","noscript","video"];Li.prototype._do_optional_end_element=function(e){var t=null;if(!(e.is_empty_element||!e.is_start_tag||!e.parent)){if(e.tag_name==="body")t=t||this._tag_stack.try_pop("head");else if(e.tag_name==="li")t=t||this._tag_stack.try_pop("li",["ol","ul"]);else if(e.tag_name==="dd"||e.tag_name==="dt")t=t||this._tag_stack.try_pop("dt",["dl"]),t=t||this._tag_stack.try_pop("dd",["dl"]);else if(e.parent.tag_name==="p"&&EZ.indexOf(e.tag_name)!==-1){var n=e.parent.parent;(!n||AZ.indexOf(n.tag_name)===-1)&&(t=t||this._tag_stack.try_pop("p"))}else e.tag_name==="rp"||e.tag_name==="rt"?(t=t||this._tag_stack.try_pop("rt",["ruby","rtc"]),t=t||this._tag_stack.try_pop("rp",["ruby","rtc"])):e.tag_name==="optgroup"?t=t||this._tag_stack.try_pop("optgroup",["select"]):e.tag_name==="option"?t=t||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):e.tag_name==="colgroup"?t=t||this._tag_stack.try_pop("caption",["table"]):e.tag_name==="thead"?(t=t||this._tag_stack.try_pop("caption",["table"]),t=t||this._tag_stack.try_pop("colgroup",["table"])):e.tag_name==="tbody"||e.tag_name==="tfoot"?(t=t||this._tag_stack.try_pop("caption",["table"]),t=t||this._tag_stack.try_pop("colgroup",["table"]),t=t||this._tag_stack.try_pop("thead",["table"]),t=t||this._tag_stack.try_pop("tbody",["table"])):e.tag_name==="tr"?(t=t||this._tag_stack.try_pop("caption",["table"]),t=t||this._tag_stack.try_pop("colgroup",["table"]),t=t||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(e.tag_name==="th"||e.tag_name==="td")&&(t=t||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),t=t||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return e.parent=this._tag_stack.get_parser_token(),t}};p6.Beautifier=Li;var OZ=p6.Beautifier,DZ=k1.Options;function MZ(e,t,n,r){var i=new OZ(e,t,n,r);return i.beautify()}w1.exports=MZ;w1.exports.defaultOptions=function(){return new DZ};var b6=d1.exports,_6=b1.exports,w6=w1.exports;function k6(e,t,n,r){return n=n||b6,r=r||_6,w6(e,t,n,r)}k6.defaultOptions=w6.defaultOptions;vm.js=b6;vm.css=_6;vm.html=k6;(function(e){function t(n,r,i){var o=function(a,l){return n.js_beautify(a,l)};return o.js=n.js_beautify,o.css=r.css_beautify,o.html=i.html_beautify,o.js_beautify=n.js_beautify,o.css_beautify=r.css_beautify,o.html_beautify=i.html_beautify,o}(function(n){var r=vm;r.js_beautify=r.js,r.css_beautify=r.css,r.html_beautify=r.html,n.exports=t(r,r,r)})(e)})(YM);var NZ=YM.exports,LZ={exports:{}};(function(e,t){(function(n){n(Er.exports)})(function(n){n.overlayMode=function(r,i,o){return{startState:function(){return{base:n.startState(r),overlay:n.startState(i),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(a){return{base:n.copyState(r,a.base),overlay:n.copyState(i,a.overlay),basePos:a.basePos,baseCur:null,overlayPos:a.overlayPos,overlayCur:null}},token:function(a,l){return(a!=l.streamSeen||Math.min(l.basePos,l.overlayPos)<a.start)&&(l.streamSeen=a,l.basePos=l.overlayPos=a.start),a.start==l.basePos&&(l.baseCur=r.token(a,l.base),l.basePos=a.pos),a.start==l.overlayPos&&(a.pos=a.start,l.overlayCur=i.token(a,l.overlay),l.overlayPos=a.pos),a.pos=Math.min(l.basePos,l.overlayPos),l.overlayCur==null?l.baseCur:l.baseCur!=null&&l.overlay.combineTokens||o&&l.overlay.combineTokens==null?l.baseCur+" "+l.overlayCur:l.overlayCur},indent:r.indent&&function(a,l,f){return r.indent(a.base,l,f)},electricChars:r.electricChars,innerMode:function(a){return{state:a.base,mode:r}},blankLine:function(a){var l,f;return r.blankLine&&(l=r.blankLine(a.base)),i.blankLine&&(f=i.blankLine(a.overlay)),f==null?l:o&&l!=null?l+" "+f:f}}}})})();var x6={exports:{}};(function(e,t){(function(n){n(Er.exports)})(function(n){var r={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};n.defineMode("xml",function(o,a){var l=o.indentUnit,f={},h=a.htmlMode?r:i;for(var p in h)f[p]=h[p];for(var p in a)f[p]=a[p];var m,v;function b(L,ce){function pe(nt){return ce.tokenize=nt,nt(L,ce)}var Te=L.next();if(Te=="<")return L.eat("!")?L.eat("[")?L.match("CDATA[")?pe(C("atom","]]>")):null:L.match("--")?pe(C("comment","-->")):L.match("DOCTYPE",!0,!0)?(L.eatWhile(/[\w\._\-]/),pe(E(1))):null:L.eat("?")?(L.eatWhile(/[\w\._\-]/),ce.tokenize=C("meta","?>"),"meta"):(m=L.eat("/")?"closeTag":"openTag",ce.tokenize=_,"tag bracket");if(Te=="&"){var We;return L.eat("#")?L.eat("x")?We=L.eatWhile(/[a-fA-F\d]/)&&L.eat(";"):We=L.eatWhile(/[\d]/)&&L.eat(";"):We=L.eatWhile(/[\w\.\-:]/)&&L.eat(";"),We?"atom":"error"}else return L.eatWhile(/[^&<]/),null}b.isInText=!0;function _(L,ce){var pe=L.next();if(pe==">"||pe=="/"&&L.eat(">"))return ce.tokenize=b,m=pe==">"?"endTag":"selfcloseTag","tag bracket";if(pe=="=")return m="equals",null;if(pe=="<"){ce.tokenize=b,ce.state=j,ce.tagName=ce.tagStart=null;var Te=ce.tokenize(L,ce);return Te?Te+" tag error":"tag error"}else return/[\'\"]/.test(pe)?(ce.tokenize=k(pe),ce.stringStartCol=L.column(),ce.tokenize(L,ce)):(L.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function k(L){var ce=function(pe,Te){for(;!pe.eol();)if(pe.next()==L){Te.tokenize=_;break}return"string"};return ce.isInAttribute=!0,ce}function C(L,ce){return function(pe,Te){for(;!pe.eol();){if(pe.match(ce)){Te.tokenize=b;break}pe.next()}return L}}function E(L){return function(ce,pe){for(var Te;(Te=ce.next())!=null;){if(Te=="<")return pe.tokenize=E(L+1),pe.tokenize(ce,pe);if(Te==">")if(L==1){pe.tokenize=b;break}else return pe.tokenize=E(L-1),pe.tokenize(ce,pe)}return"meta"}}function S(L){return L&&L.toLowerCase()}function F(L,ce,pe){this.prev=L.context,this.tagName=ce||"",this.indent=L.indented,this.startOfLine=pe,(f.doNotIndent.hasOwnProperty(ce)||L.context&&L.context.noIndent)&&(this.noIndent=!0)}function O(L){L.context&&(L.context=L.context.prev)}function K(L,ce){for(var pe;;){if(!L.context||(pe=L.context.tagName,!f.contextGrabbers.hasOwnProperty(S(pe))||!f.contextGrabbers[S(pe)].hasOwnProperty(S(ce))))return;O(L)}}function j(L,ce,pe){return L=="openTag"?(pe.tagStart=ce.column(),U):L=="closeTag"?q:j}function U(L,ce,pe){return L=="word"?(pe.tagName=ce.current(),v="tag",V):f.allowMissingTagName&&L=="endTag"?(v="tag bracket",V(L,ce,pe)):(v="error",U)}function q(L,ce,pe){if(L=="word"){var Te=ce.current();return pe.context&&pe.context.tagName!=Te&&f.implicitlyClosed.hasOwnProperty(S(pe.context.tagName))&&O(pe),pe.context&&pe.context.tagName==Te||f.matchClosing===!1?(v="tag",B):(v="tag error",R)}else return f.allowMissingTagName&&L=="endTag"?(v="tag bracket",B(L,ce,pe)):(v="error",R)}function B(L,ce,pe){return L!="endTag"?(v="error",B):(O(pe),j)}function R(L,ce,pe){return v="error",B(L,ce,pe)}function V(L,ce,pe){if(L=="word")return v="attribute",Z;if(L=="endTag"||L=="selfcloseTag"){var Te=pe.tagName,We=pe.tagStart;return pe.tagName=pe.tagStart=null,L=="selfcloseTag"||f.autoSelfClosers.hasOwnProperty(S(Te))?K(pe,Te):(K(pe,Te),pe.context=new F(pe,Te,We==pe.indented)),j}return v="error",V}function Z(L,ce,pe){return L=="equals"?W:(f.allowMissing||(v="error"),V(L,ce,pe))}function W(L,ce,pe){return L=="string"?ie:L=="word"&&f.allowUnquoted?(v="string",V):(v="error",V(L,ce,pe))}function ie(L,ce,pe){return L=="string"?ie:V(L,ce,pe)}return{startState:function(L){var ce={tokenize:b,state:j,indented:L||0,tagName:null,tagStart:null,context:null};return L!=null&&(ce.baseIndent=L),ce},token:function(L,ce){if(!ce.tagName&&L.sol()&&(ce.indented=L.indentation()),L.eatSpace())return null;m=null;var pe=ce.tokenize(L,ce);return(pe||m)&&pe!="comment"&&(v=null,ce.state=ce.state(m||pe,L,ce),v&&(pe=v=="error"?pe+" error":v)),pe},indent:function(L,ce,pe){var Te=L.context;if(L.tokenize.isInAttribute)return L.tagStart==L.indented?L.stringStartCol+1:L.indented+l;if(Te&&Te.noIndent)return n.Pass;if(L.tokenize!=_&&L.tokenize!=b)return pe?pe.match(/^(\s*)/)[0].length:0;if(L.tagName)return f.multilineTagIndentPastTag!==!1?L.tagStart+L.tagName.length+2:L.tagStart+l*(f.multilineTagIndentFactor||1);if(f.alignCDATA&&/<!\[CDATA\[/.test(ce))return 0;var We=ce&&/^<(\/)?([\w_:\.-]*)/.exec(ce);if(We&&We[1])for(;Te;)if(Te.tagName==We[2]){Te=Te.prev;break}else if(f.implicitlyClosed.hasOwnProperty(S(Te.tagName)))Te=Te.prev;else break;else if(We)for(;Te;){var nt=f.contextGrabbers[S(Te.tagName)];if(nt&&nt.hasOwnProperty(S(We[2])))Te=Te.prev;else break}for(;Te&&Te.prev&&!Te.startOfLine;)Te=Te.prev;return Te?Te.indent+l:L.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:f.htmlMode?"html":"xml",helperType:f.htmlMode?"html":"xml",skipAttribute:function(L){L.state==W&&(L.state=V)},xmlCurrentTag:function(L){return L.tagName?{name:L.tagName,close:L.type=="closeTag"}:null},xmlCurrentContext:function(L){for(var ce=[],pe=L.context;pe;pe=pe.prev)ce.push(pe.tagName);return ce.reverse()}}}),n.defineMIME("text/xml","xml"),n.defineMIME("application/xml","xml"),n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})})})();var x1={exports:{}};(function(e,t){(function(n){n(Er.exports)})(function(n){n.defineMode("javascript",function(r,i){var o=r.indentUnit,a=i.statementIndent,l=i.jsonld,f=i.json||l,h=i.trackScope!==!1,p=i.typescript,m=i.wordCharacters||/[\w$\xa1-\uffff]/,v=function(){function N(tr){return{type:tr,style:"keyword"}}var ne=N("keyword a"),ke=N("keyword b"),Me=N("keyword c"),ft=N("keyword d"),Nt=N("operator"),Ke={type:"atom",style:"atom"};return{if:N("if"),while:ne,with:ne,else:ke,do:ke,try:ke,finally:ke,return:ft,break:ft,continue:ft,new:N("new"),delete:Me,void:Me,throw:Me,debugger:N("debugger"),var:N("var"),const:N("var"),let:N("var"),function:N("function"),catch:N("catch"),for:N("for"),switch:N("switch"),case:N("case"),default:N("default"),in:Nt,typeof:Nt,instanceof:Nt,true:Ke,false:Ke,null:Ke,undefined:Ke,NaN:Ke,Infinity:Ke,this:N("this"),class:N("class"),super:N("atom"),yield:Me,export:N("export"),import:N("import"),extends:Me,await:Me}}(),b=/[+\-*&%=<>!?|~^@]/,_=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function k(N){for(var ne=!1,ke,Me=!1;(ke=N.next())!=null;){if(!ne){if(ke=="/"&&!Me)return;ke=="["?Me=!0:Me&&ke=="]"&&(Me=!1)}ne=!ne&&ke=="\\"}}var C,E;function S(N,ne,ke){return C=N,E=ke,ne}function F(N,ne){var ke=N.next();if(ke=='"'||ke=="'")return ne.tokenize=O(ke),ne.tokenize(N,ne);if(ke=="."&&N.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return S("number","number");if(ke=="."&&N.match(".."))return S("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(ke))return S(ke);if(ke=="="&&N.eat(">"))return S("=>","operator");if(ke=="0"&&N.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return S("number","number");if(/\d/.test(ke))return N.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),S("number","number");if(ke=="/")return N.eat("*")?(ne.tokenize=K,K(N,ne)):N.eat("/")?(N.skipToEnd(),S("comment","comment")):Oe(N,ne,1)?(k(N),N.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),S("regexp","string-2")):(N.eat("="),S("operator","operator",N.current()));if(ke=="`")return ne.tokenize=j,j(N,ne);if(ke=="#"&&N.peek()=="!")return N.skipToEnd(),S("meta","meta");if(ke=="#"&&N.eatWhile(m))return S("variable","property");if(ke=="<"&&N.match("!--")||ke=="-"&&N.match("->")&&!/\S/.test(N.string.slice(0,N.start)))return N.skipToEnd(),S("comment","comment");if(b.test(ke))return(ke!=">"||!ne.lexical||ne.lexical.type!=">")&&(N.eat("=")?(ke=="!"||ke=="=")&&N.eat("="):/[<>*+\-|&?]/.test(ke)&&(N.eat(ke),ke==">"&&N.eat(ke))),ke=="?"&&N.eat(".")?S("."):S("operator","operator",N.current());if(m.test(ke)){N.eatWhile(m);var Me=N.current();if(ne.lastType!="."){if(v.propertyIsEnumerable(Me)){var ft=v[Me];return S(ft.type,ft.style,Me)}if(Me=="async"&&N.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return S("async","keyword",Me)}return S("variable","variable",Me)}}function O(N){return function(ne,ke){var Me=!1,ft;if(l&&ne.peek()=="@"&&ne.match(_))return ke.tokenize=F,S("jsonld-keyword","meta");for(;(ft=ne.next())!=null&&!(ft==N&&!Me);)Me=!Me&&ft=="\\";return Me||(ke.tokenize=F),S("string","string")}}function K(N,ne){for(var ke=!1,Me;Me=N.next();){if(Me=="/"&&ke){ne.tokenize=F;break}ke=Me=="*"}return S("comment","comment")}function j(N,ne){for(var ke=!1,Me;(Me=N.next())!=null;){if(!ke&&(Me=="`"||Me=="$"&&N.eat("{"))){ne.tokenize=F;break}ke=!ke&&Me=="\\"}return S("quasi","string-2",N.current())}var U="([{}])";function q(N,ne){ne.fatArrowAt&&(ne.fatArrowAt=null);var ke=N.string.indexOf("=>",N.start);if(!(ke<0)){if(p){var Me=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(N.string.slice(N.start,ke));Me&&(ke=Me.index)}for(var ft=0,Nt=!1,Ke=ke-1;Ke>=0;--Ke){var tr=N.string.charAt(Ke),ni=U.indexOf(tr);if(ni>=0&&ni<3){if(!ft){++Ke;break}if(--ft==0){tr=="("&&(Nt=!0);break}}else if(ni>=3&&ni<6)++ft;else if(m.test(tr))Nt=!0;else if(/["'\/`]/.test(tr))for(;;--Ke){if(Ke==0)return;var Ml=N.string.charAt(Ke-1);if(Ml==tr&&N.string.charAt(Ke-2)!="\\"){Ke--;break}}else if(Nt&&!ft){++Ke;break}}Nt&&!ft&&(ne.fatArrowAt=Ke)}}var B={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function R(N,ne,ke,Me,ft,Nt){this.indented=N,this.column=ne,this.type=ke,this.prev=ft,this.info=Nt,Me!=null&&(this.align=Me)}function V(N,ne){if(!h)return!1;for(var ke=N.localVars;ke;ke=ke.next)if(ke.name==ne)return!0;for(var Me=N.context;Me;Me=Me.prev)for(var ke=Me.vars;ke;ke=ke.next)if(ke.name==ne)return!0}function Z(N,ne,ke,Me,ft){var Nt=N.cc;for(W.state=N,W.stream=ft,W.marked=null,W.cc=Nt,W.style=ne,N.lexical.hasOwnProperty("align")||(N.lexical.align=!0);;){var Ke=Nt.length?Nt.pop():f?Ve:je;if(Ke(ke,Me)){for(;Nt.length&&Nt[Nt.length-1].lex;)Nt.pop()();return W.marked?W.marked:ke=="variable"&&V(N,Me)?"variable-2":ne}}}var W={state:null,column:null,marked:null,cc:null};function ie(){for(var N=arguments.length-1;N>=0;N--)W.cc.push(arguments[N])}function L(){return ie.apply(null,arguments),!0}function ce(N,ne){for(var ke=ne;ke;ke=ke.next)if(ke.name==N)return!0;return!1}function pe(N){var ne=W.state;if(W.marked="def",!!h){if(ne.context){if(ne.lexical.info=="var"&&ne.context&&ne.context.block){var ke=Te(N,ne.context);if(ke!=null){ne.context=ke;return}}else if(!ce(N,ne.localVars)){ne.localVars=new bt(N,ne.localVars);return}}i.globalVars&&!ce(N,ne.globalVars)&&(ne.globalVars=new bt(N,ne.globalVars))}}function Te(N,ne){if(ne)if(ne.block){var ke=Te(N,ne.prev);return ke?ke==ne.prev?ne:new nt(ke,ne.vars,!0):null}else return ce(N,ne.vars)?ne:new nt(ne.prev,new bt(N,ne.vars),!1);else return null}function We(N){return N=="public"||N=="private"||N=="protected"||N=="abstract"||N=="readonly"}function nt(N,ne,ke){this.prev=N,this.vars=ne,this.block=ke}function bt(N,ne){this.name=N,this.next=ne}var Mt=new bt("this",new bt("arguments",null));function pt(){W.state.context=new nt(W.state.context,W.state.localVars,!1),W.state.localVars=Mt}function st(){W.state.context=new nt(W.state.context,W.state.localVars,!0),W.state.localVars=null}pt.lex=st.lex=!0;function Ye(){W.state.localVars=W.state.context.vars,W.state.context=W.state.context.prev}Ye.lex=!0;function Re(N,ne){var ke=function(){var Me=W.state,ft=Me.indented;if(Me.lexical.type=="stat")ft=Me.lexical.indented;else for(var Nt=Me.lexical;Nt&&Nt.type==")"&&Nt.align;Nt=Nt.prev)ft=Nt.indented;Me.lexical=new R(ft,W.stream.column(),N,null,Me.lexical,ne)};return ke.lex=!0,ke}function Ce(){var N=W.state;N.lexical.prev&&(N.lexical.type==")"&&(N.indented=N.lexical.indented),N.lexical=N.lexical.prev)}Ce.lex=!0;function _e(N){function ne(ke){return ke==N?L():N==";"||ke=="}"||ke==")"||ke=="]"?ie():L(ne)}return ne}function je(N,ne){return N=="var"?L(Re("vardef",ne),Qr,_e(";"),Ce):N=="keyword a"?L(Re("form"),ee,je,Ce):N=="keyword b"?L(Re("form"),je,Ce):N=="keyword d"?W.stream.match(/^\s*$/,!1)?L():L(Re("stat"),fe,_e(";"),Ce):N=="debugger"?L(_e(";")):N=="{"?L(Re("}"),st,Le,Ce,Ye):N==";"?L():N=="if"?(W.state.lexical.info=="else"&&W.state.cc[W.state.cc.length-1]==Ce&&W.state.cc.pop()(),L(Re("form"),ee,je,Ce,Dd)):N=="function"?L(vi):N=="for"?L(Re("form"),st,Md,je,Ye,Ce):N=="class"||p&&ne=="interface"?(W.marked="keyword",L(Re("form",N=="class"?N:ne),Dl,Ce)):N=="variable"?p&&ne=="declare"?(W.marked="keyword",L(je)):p&&(ne=="module"||ne=="enum"||ne=="type")&&W.stream.match(/^\s*\w/,!1)?(W.marked="keyword",ne=="enum"?L(oo):ne=="type"?L(Nd,_e("operator"),we,_e(";")):L(Re("form"),wn,_e("{"),Re("}"),Le,Ce,Ce)):p&&ne=="namespace"?(W.marked="keyword",L(Re("form"),Ve,je,Ce)):p&&ne=="abstract"?(W.marked="keyword",L(je)):L(Re("stat"),Q):N=="switch"?L(Re("form"),ee,_e("{"),Re("}","switch"),st,Le,Ce,Ce,Ye):N=="case"?L(Ve,_e(":")):N=="default"?L(_e(":")):N=="catch"?L(Re("form"),pt,qe,je,Ce,Ye):N=="export"?L(Re("stat"),sf,Ce):N=="import"?L(Re("stat"),gn,Ce):N=="async"?L(je):ne=="@"?L(Ve,je):ie(Re("stat"),Ve,_e(";"),Ce)}function qe(N){if(N=="(")return L(No,_e(")"))}function Ve(N,ne){return re(N,ne,!1)}function gt(N,ne){return re(N,ne,!0)}function ee(N){return N!="("?ie():L(Re(")"),fe,_e(")"),Ce)}function re(N,ne,ke){if(W.state.fatArrowAt==W.stream.start){var Me=ke?I:A;if(N=="(")return L(pt,Re(")"),Y(No,")"),Ce,_e("=>"),Me,Ye);if(N=="variable")return ie(pt,wn,_e("=>"),Me,Ye)}var ft=ke?ye:ge;return B.hasOwnProperty(N)?L(ft):N=="function"?L(vi,ft):N=="class"||p&&ne=="interface"?(W.marked="keyword",L(Re("form"),Ol,Ce)):N=="keyword c"||N=="async"?L(ke?gt:Ve):N=="("?L(Re(")"),fe,_e(")"),Ce,ft):N=="operator"||N=="spread"?L(ke?gt:Ve):N=="["?L(Re("]"),$t,Ce,ft):N=="{"?he(de,"}",null,ft):N=="quasi"?ie(H,ft):N=="new"?L(D(ke)):L()}function fe(N){return N.match(/[;\}\)\],]/)?ie():ie(Ve)}function ge(N,ne){return N==","?L(fe):ye(N,ne,!1)}function ye(N,ne,ke){var Me=ke==!1?ge:ye,ft=ke==!1?Ve:gt;if(N=="=>")return L(pt,ke?I:A,Ye);if(N=="operator")return/\+\+|--/.test(ne)||p&&ne=="!"?L(Me):p&&ne=="<"&&W.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?L(Re(">"),Y(we,">"),Ce,Me):ne=="?"?L(Ve,_e(":"),ft):L(ft);if(N=="quasi")return ie(H,Me);if(N!=";"){if(N=="(")return he(gt,")","call",Me);if(N==".")return L(ae,Me);if(N=="[")return L(Re("]"),fe,_e("]"),Ce,Me);if(p&&ne=="as")return W.marked="keyword",L(we,Me);if(N=="regexp")return W.state.lastType=W.marked="operator",W.stream.backUp(W.stream.pos-W.stream.start-1),L(ft)}}function H(N,ne){return N!="quasi"?ie():ne.slice(ne.length-2)!="${"?L(H):L(fe,X)}function X(N){if(N=="}")return W.marked="string-2",W.state.tokenize=j,L(H)}function A(N){return q(W.stream,W.state),ie(N=="{"?je:Ve)}function I(N){return q(W.stream,W.state),ie(N=="{"?je:gt)}function D(N){return function(ne){return ne=="."?L(N?P:z):ne=="variable"&&p?L(Sn,N?ye:ge):ie(N?gt:Ve)}}function z(N,ne){if(ne=="target")return W.marked="keyword",L(ge)}function P(N,ne){if(ne=="target")return W.marked="keyword",L(ye)}function Q(N){return N==":"?L(Ce,je):ie(ge,_e(";"),Ce)}function ae(N){if(N=="variable")return W.marked="property",L()}function de(N,ne){if(N=="async")return W.marked="property",L(de);if(N=="variable"||W.style=="keyword"){if(W.marked="property",ne=="get"||ne=="set")return L(me);var ke;return p&&W.state.fatArrowAt==W.stream.start&&(ke=W.stream.match(/^\s*:\s*/,!1))&&(W.state.fatArrowAt=W.stream.pos+ke[0].length),L(J)}else{if(N=="number"||N=="string")return W.marked=l?"property":W.style+" property",L(J);if(N=="jsonld-keyword")return L(J);if(p&&We(ne))return W.marked="keyword",L(de);if(N=="[")return L(Ve,it,_e("]"),J);if(N=="spread")return L(gt,J);if(ne=="*")return W.marked="keyword",L(de);if(N==":")return ie(J)}}function me(N){return N!="variable"?ie(J):(W.marked="property",L(vi))}function J(N){if(N==":")return L(gt);if(N=="(")return ie(vi)}function Y(N,ne,ke){function Me(ft,Nt){if(ke?ke.indexOf(ft)>-1:ft==","){var Ke=W.state.lexical;return Ke.info=="call"&&(Ke.pos=(Ke.pos||0)+1),L(function(tr,ni){return tr==ne||ni==ne?ie():ie(N)},Me)}return ft==ne||Nt==ne?L():ke&&ke.indexOf(";")>-1?ie(N):L(_e(ne))}return function(ft,Nt){return ft==ne||Nt==ne?L():ie(N,Me)}}function he(N,ne,ke){for(var Me=3;Me<arguments.length;Me++)W.cc.push(arguments[Me]);return L(Re(ne,ke),Y(N,ne),Ce)}function Le(N){return N=="}"?L():ie(je,Le)}function it(N,ne){if(p){if(N==":")return L(we);if(ne=="?")return L(it)}}function oe(N,ne){if(p&&(N==":"||ne=="in"))return L(we)}function Fe(N){if(p&&N==":")return W.stream.match(/^\s*\w+\s+is\b/,!1)?L(Ve,De,we):L(we)}function De(N,ne){if(ne=="is")return W.marked="keyword",L()}function we(N,ne){if(ne=="keyof"||ne=="typeof"||ne=="infer"||ne=="readonly")return W.marked="keyword",L(ne=="typeof"?gt:we);if(N=="variable"||ne=="void")return W.marked="type",L(on);if(ne=="|"||ne=="&")return L(we);if(N=="string"||N=="number"||N=="atom")return L(on);if(N=="[")return L(Re("]"),Y(we,"]",","),Ce,on);if(N=="{")return L(Re("}"),Yt,Ce,on);if(N=="(")return L(Y(nn,")"),Ue,on);if(N=="<")return L(Y(we,">"),we);if(N=="quasi")return ie(Bt,on)}function Ue(N){if(N=="=>")return L(we)}function Yt(N){return N.match(/[\}\)\]]/)?L():N==","||N==";"?L(Yt):ie(ct,Yt)}function ct(N,ne){if(N=="variable"||W.style=="keyword")return W.marked="property",L(ct);if(ne=="?"||N=="number"||N=="string")return L(ct);if(N==":")return L(we);if(N=="[")return L(_e("variable"),oe,_e("]"),ct);if(N=="(")return ie(ei,ct);if(!N.match(/[;\}\)\],]/))return L()}function Bt(N,ne){return N!="quasi"?ie():ne.slice(ne.length-2)!="${"?L(Bt):L(we,zt)}function zt(N){if(N=="}")return W.marked="string-2",W.state.tokenize=j,L(Bt)}function nn(N,ne){return N=="variable"&&W.stream.match(/^\s*[?:]/,!1)||ne=="?"?L(nn):N==":"?L(we):N=="spread"?L(nn):ie(we)}function on(N,ne){if(ne=="<")return L(Re(">"),Y(we,">"),Ce,on);if(ne=="|"||N=="."||ne=="&")return L(we);if(N=="[")return L(we,_e("]"),on);if(ne=="extends"||ne=="implements")return W.marked="keyword",L(we);if(ne=="?")return L(we,_e(":"),we)}function Sn(N,ne){if(ne=="<")return L(Re(">"),Y(we,">"),Ce,on)}function Tn(){return ie(we,Or)}function Or(N,ne){if(ne=="=")return L(we)}function Qr(N,ne){return ne=="enum"?(W.marked="keyword",L(oo)):ie(wn,it,ro,rf)}function wn(N,ne){if(p&&We(ne))return W.marked="keyword",L(wn);if(N=="variable")return pe(ne),L();if(N=="spread")return L(wn);if(N=="[")return he(nf,"]");if(N=="{")return he(_a,"}")}function _a(N,ne){return N=="variable"&&!W.stream.match(/^\s*:/,!1)?(pe(ne),L(ro)):(N=="variable"&&(W.marked="property"),N=="spread"?L(wn):N=="}"?ie():N=="["?L(Ve,_e("]"),_e(":"),_a):L(_e(":"),wn,ro))}function nf(){return ie(wn,ro)}function ro(N,ne){if(ne=="=")return L(gt)}function rf(N){if(N==",")return L(Qr)}function Dd(N,ne){if(N=="keyword b"&&ne=="else")return L(Re("form","else"),je,Ce)}function Md(N,ne){if(ne=="await")return L(Md);if(N=="(")return L(Re(")"),of,Ce)}function of(N){return N=="var"?L(Qr,_s):N=="variable"?L(_s):ie(_s)}function _s(N,ne){return N==")"?L():N==";"?L(_s):ne=="in"||ne=="of"?(W.marked="keyword",L(Ve,_s)):ie(Ve,_s)}function vi(N,ne){if(ne=="*")return W.marked="keyword",L(vi);if(N=="variable")return pe(ne),L(vi);if(N=="(")return L(pt,Re(")"),Y(No,")"),Ce,Fe,je,Ye);if(p&&ne=="<")return L(Re(">"),Y(Tn,">"),Ce,vi)}function ei(N,ne){if(ne=="*")return W.marked="keyword",L(ei);if(N=="variable")return pe(ne),L(ei);if(N=="(")return L(pt,Re(")"),Y(No,")"),Ce,Fe,Ye);if(p&&ne=="<")return L(Re(">"),Y(Tn,">"),Ce,ei)}function Nd(N,ne){if(N=="keyword"||N=="variable")return W.marked="type",L(Nd);if(ne=="<")return L(Re(">"),Y(Tn,">"),Ce)}function No(N,ne){return ne=="@"&&L(Ve,No),N=="spread"?L(No):p&&We(ne)?(W.marked="keyword",L(No)):p&&N=="this"?L(it,ro):ie(wn,it,ro)}function Ol(N,ne){return N=="variable"?Dl(N,ne):Ri(N,ne)}function Dl(N,ne){if(N=="variable")return pe(ne),L(Ri)}function Ri(N,ne){if(ne=="<")return L(Re(">"),Y(Tn,">"),Ce,Ri);if(ne=="extends"||ne=="implements"||p&&N==",")return ne=="implements"&&(W.marked="keyword"),L(p?we:Ve,Ri);if(N=="{")return L(Re("}"),Bi,Ce)}function Bi(N,ne){if(N=="async"||N=="variable"&&(ne=="static"||ne=="get"||ne=="set"||p&&We(ne))&&W.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return W.marked="keyword",L(Bi);if(N=="variable"||W.style=="keyword")return W.marked="property",L(ti,Bi);if(N=="number"||N=="string")return L(ti,Bi);if(N=="[")return L(Ve,it,_e("]"),ti,Bi);if(ne=="*")return W.marked="keyword",L(Bi);if(p&&N=="(")return ie(ei,Bi);if(N==";"||N==",")return L(Bi);if(N=="}")return L();if(ne=="@")return L(Ve,Bi)}function ti(N,ne){if(ne=="!"||ne=="?")return L(ti);if(N==":")return L(we,ro);if(ne=="=")return L(gt);var ke=W.state.lexical.prev,Me=ke&&ke.info=="interface";return ie(Me?ei:vi)}function sf(N,ne){return ne=="*"?(W.marked="keyword",L(Hr,_e(";"))):ne=="default"?(W.marked="keyword",L(Ve,_e(";"))):N=="{"?L(Y(af,"}"),Hr,_e(";")):ie(je)}function af(N,ne){if(ne=="as")return W.marked="keyword",L(_e("variable"));if(N=="variable")return ie(gt,af)}function gn(N){return N=="string"?L():N=="("?ie(Ve):N=="."?ie(ge):ie(Ze,io,Hr)}function Ze(N,ne){return N=="{"?he(Ze,"}"):(N=="variable"&&pe(ne),ne=="*"&&(W.marked="keyword"),L(lf))}function io(N){if(N==",")return L(Ze,io)}function lf(N,ne){if(ne=="as")return W.marked="keyword",L(Ze)}function Hr(N,ne){if(ne=="from")return W.marked="keyword",L(Ve)}function $t(N){return N=="]"?L():ie(Y(gt,"]"))}function oo(){return ie(Re("form"),wn,_e("{"),Re("}"),Y(wa,"}"),Ce,Ce)}function wa(){return ie(wn,ro)}function uf(N,ne){return N.lastType=="operator"||N.lastType==","||b.test(ne.charAt(0))||/[,.]/.test(ne.charAt(0))}function Oe(N,ne,ke){return ne.tokenize==F&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(ne.lastType)||ne.lastType=="quasi"&&/\{\s*$/.test(N.string.slice(0,N.pos-(ke||0)))}return{startState:function(N){var ne={tokenize:F,lastType:"sof",cc:[],lexical:new R((N||0)-o,0,"block",!1),localVars:i.localVars,context:i.localVars&&new nt(null,null,!1),indented:N||0};return i.globalVars&&typeof i.globalVars=="object"&&(ne.globalVars=i.globalVars),ne},token:function(N,ne){if(N.sol()&&(ne.lexical.hasOwnProperty("align")||(ne.lexical.align=!1),ne.indented=N.indentation(),q(N,ne)),ne.tokenize!=K&&N.eatSpace())return null;var ke=ne.tokenize(N,ne);return C=="comment"?ke:(ne.lastType=C=="operator"&&(E=="++"||E=="--")?"incdec":C,Z(ne,ke,C,E,N))},indent:function(N,ne){if(N.tokenize==K||N.tokenize==j)return n.Pass;if(N.tokenize!=F)return 0;var ke=ne&&ne.charAt(0),Me=N.lexical,ft;if(!/^\s*else\b/.test(ne))for(var Nt=N.cc.length-1;Nt>=0;--Nt){var Ke=N.cc[Nt];if(Ke==Ce)Me=Me.prev;else if(Ke!=Dd&&Ke!=Ye)break}for(;(Me.type=="stat"||Me.type=="form")&&(ke=="}"||(ft=N.cc[N.cc.length-1])&&(ft==ge||ft==ye)&&!/^[,\.=+\-*:?[\(]/.test(ne));)Me=Me.prev;a&&Me.type==")"&&Me.prev.type=="stat"&&(Me=Me.prev);var tr=Me.type,ni=ke==tr;return tr=="vardef"?Me.indented+(N.lastType=="operator"||N.lastType==","?Me.info.length+1:0):tr=="form"&&ke=="{"?Me.indented:tr=="form"?Me.indented+o:tr=="stat"?Me.indented+(uf(N,ne)?a||o:0):Me.info=="switch"&&!ni&&i.doubleIndentSwitch!=!1?Me.indented+(/^(?:case|default)\b/.test(ne)?o:2*o):Me.align?Me.column+(ni?0:1):Me.indented+(ni?0:o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:f?null:"/*",blockCommentEnd:f?null:"*/",blockCommentContinue:f?null:" * ",lineComment:f?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:f?"json":"javascript",jsonldMode:l,jsonMode:f,expressionAllowed:Oe,skipExpression:function(N){Z(N,"atom","atom","true",new n.StringStream("",2,null))}}}),n.registerHelper("wordChars","javascript",/[\w$]/),n.defineMIME("text/javascript","javascript"),n.defineMIME("text/ecmascript","javascript"),n.defineMIME("application/javascript","javascript"),n.defineMIME("application/x-javascript","javascript"),n.defineMIME("application/ecmascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMIME("application/x-json",{name:"javascript",json:!0}),n.defineMIME("application/manifest+json",{name:"javascript",json:!0}),n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),n.defineMIME("text/typescript",{name:"javascript",typescript:!0}),n.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();var PZ={exports:{}};(function(e,t){(function(n){n(Er.exports)})(function(n){n.defineMode("coffeescript",function(r,i){var o="error";function a(R){return new RegExp("^(("+R.join(")|(")+"))\\b")}var l=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/,f=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,h=/^[_A-Za-z$][_A-Za-z$0-9]*/,p=/^@[_A-Za-z$][_A-Za-z$0-9]*/,m=a(["and","or","not","is","isnt","in","instanceof","typeof"]),v=["for","while","loop","if","unless","else","switch","try","catch","finally","class"],b=["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"],_=a(v.concat(b));v=a(v);var k=/^('{3}|\"{3}|['\"])/,C=/^(\/{3}|\/)/,E=["Infinity","NaN","undefined","null","true","false","on","off","yes","no"],S=a(E);function F(R,V){if(R.sol()){V.scope.align===null&&(V.scope.align=!1);var Z=V.scope.offset;if(R.eatSpace()){var W=R.indentation();return W>Z&&V.scope.type=="coffee"?"indent":W<Z?"dedent":null}else Z>0&&U(R,V)}if(R.eatSpace())return null;var ie=R.peek();if(R.match("####"))return R.skipToEnd(),"comment";if(R.match("###"))return V.tokenize=K,V.tokenize(R,V);if(ie==="#")return R.skipToEnd(),"comment";if(R.match(/^-?[0-9\.]/,!1)){var L=!1;if(R.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(L=!0),R.match(/^-?\d+\.\d*/)&&(L=!0),R.match(/^-?\.\d+/)&&(L=!0),L)return R.peek()=="."&&R.backUp(1),"number";var ce=!1;if(R.match(/^-?0x[0-9a-f]+/i)&&(ce=!0),R.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(ce=!0),R.match(/^-?0(?![\dx])/i)&&(ce=!0),ce)return"number"}if(R.match(k))return V.tokenize=O(R.current(),!1,"string"),V.tokenize(R,V);if(R.match(C)){if(R.current()!="/"||R.match(/^.*\//,!1))return V.tokenize=O(R.current(),!0,"string-2"),V.tokenize(R,V);R.backUp(1)}return R.match(l)||R.match(m)?"operator":R.match(f)?"punctuation":R.match(S)?"atom":R.match(p)||V.prop&&R.match(h)?"property":R.match(_)?"keyword":R.match(h)?"variable":(R.next(),o)}function O(R,V,Z){return function(W,ie){for(;!W.eol();)if(W.eatWhile(/[^'"\/\\]/),W.eat("\\")){if(W.next(),V&&W.eol())return Z}else{if(W.match(R))return ie.tokenize=F,Z;W.eat(/['"\/]/)}return V&&(i.singleLineStringErrors?Z=o:ie.tokenize=F),Z}}function K(R,V){for(;!R.eol();){if(R.eatWhile(/[^#]/),R.match("###")){V.tokenize=F;break}R.eatWhile("#")}return"comment"}function j(R,V,Z){Z=Z||"coffee";for(var W=0,ie=!1,L=null,ce=V.scope;ce;ce=ce.prev)if(ce.type==="coffee"||ce.type=="}"){W=ce.offset+r.indentUnit;break}Z!=="coffee"?(ie=null,L=R.column()+R.current().length):V.scope.align&&(V.scope.align=!1),V.scope={offset:W,type:Z,prev:V.scope,align:ie,alignOffset:L}}function U(R,V){if(!!V.scope.prev)if(V.scope.type==="coffee"){for(var Z=R.indentation(),W=!1,ie=V.scope;ie;ie=ie.prev)if(Z===ie.offset){W=!0;break}if(!W)return!0;for(;V.scope.prev&&V.scope.offset!==Z;)V.scope=V.scope.prev;return!1}else return V.scope=V.scope.prev,!1}function q(R,V){var Z=V.tokenize(R,V),W=R.current();W==="return"&&(V.dedent=!0),((W==="->"||W==="=>")&&R.eol()||Z==="indent")&&j(R,V);var ie="[({".indexOf(W);if(ie!==-1&&j(R,V,"])}".slice(ie,ie+1)),v.exec(W)&&j(R,V),W=="then"&&U(R,V),Z==="dedent"&&U(R,V))return o;if(ie="])}".indexOf(W),ie!==-1){for(;V.scope.type=="coffee"&&V.scope.prev;)V.scope=V.scope.prev;V.scope.type==W&&(V.scope=V.scope.prev)}return V.dedent&&R.eol()&&(V.scope.type=="coffee"&&V.scope.prev&&(V.scope=V.scope.prev),V.dedent=!1),Z}var B={startState:function(R){return{tokenize:F,scope:{offset:R||0,type:"coffee",prev:null,align:!1},prop:!1,dedent:0}},token:function(R,V){var Z=V.scope.align===null&&V.scope;Z&&R.sol()&&(Z.align=!1);var W=q(R,V);return W&&W!="comment"&&(Z&&(Z.align=!0),V.prop=W=="punctuation"&&R.current()=="."),W},indent:function(R,V){if(R.tokenize!=F)return 0;var Z=R.scope,W=V&&"])}".indexOf(V.charAt(0))>-1;if(W)for(;Z.type=="coffee"&&Z.prev;)Z=Z.prev;var ie=W&&Z.type===V.charAt(0);return Z.align?Z.alignOffset-(ie?1:0):(ie?Z.prev:Z).offset},lineComment:"#",fold:"indent"};return B}),n.defineMIME("application/vnd.coffeescript","coffeescript"),n.defineMIME("text/x-coffeescript","coffeescript"),n.defineMIME("text/coffeescript","coffeescript")})})();var xm={exports:{}};(function(e,t){(function(n){n(Er.exports)})(function(n){n.defineMode("css",function(R,V){var Z=V.inline;V.propertyKeywords||(V=n.resolveMode("text/css"));var W=R.indentUnit,ie=V.tokenHooks,L=V.documentTypes||{},ce=V.mediaTypes||{},pe=V.mediaFeatures||{},Te=V.mediaValueKeywords||{},We=V.propertyKeywords||{},nt=V.nonStandardPropertyKeywords||{},bt=V.fontProperties||{},Mt=V.counterDescriptors||{},pt=V.colorKeywords||{},st=V.valueKeywords||{},Ye=V.allowNested,Re=V.lineComment,Ce=V.supportsAtComponent===!0,_e=R.highlightNonStandardPropertyKeywords!==!1,je,qe;function Ve(D,z){return je=z,D}function gt(D,z){var P=D.next();if(ie[P]){var Q=ie[P](D,z);if(Q!==!1)return Q}if(P=="@")return D.eatWhile(/[\w\\\-]/),Ve("def",D.current());if(P=="="||(P=="~"||P=="|")&&D.eat("="))return Ve(null,"compare");if(P=='"'||P=="'")return z.tokenize=ee(P),z.tokenize(D,z);if(P=="#")return D.eatWhile(/[\w\\\-]/),Ve("atom","hash");if(P=="!")return D.match(/^\s*\w*/),Ve("keyword","important");if(/\d/.test(P)||P=="."&&D.eat(/\d/))return D.eatWhile(/[\w.%]/),Ve("number","unit");if(P==="-"){if(/[\d.]/.test(D.peek()))return D.eatWhile(/[\w.%]/),Ve("number","unit");if(D.match(/^-[\w\\\-]*/))return D.eatWhile(/[\w\\\-]/),D.match(/^\s*:/,!1)?Ve("variable-2","variable-definition"):Ve("variable-2","variable");if(D.match(/^\w+-/))return Ve("meta","meta")}else return/[,+>*\/]/.test(P)?Ve(null,"select-op"):P=="."&&D.match(/^-?[_a-z][_a-z0-9-]*/i)?Ve("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(P)?Ve(null,P):D.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(D.current())&&(z.tokenize=re),Ve("variable callee","variable")):/[\w\\\-]/.test(P)?(D.eatWhile(/[\w\\\-]/),Ve("property","word")):Ve(null,null)}function ee(D){return function(z,P){for(var Q=!1,ae;(ae=z.next())!=null;){if(ae==D&&!Q){D==")"&&z.backUp(1);break}Q=!Q&&ae=="\\"}return(ae==D||!Q&&D!=")")&&(P.tokenize=null),Ve("string","string")}}function re(D,z){return D.next(),D.match(/^\s*[\"\')]/,!1)?z.tokenize=null:z.tokenize=ee(")"),Ve(null,"(")}function fe(D,z,P){this.type=D,this.indent=z,this.prev=P}function ge(D,z,P,Q){return D.context=new fe(P,z.indentation()+(Q===!1?0:W),D.context),P}function ye(D){return D.context.prev&&(D.context=D.context.prev),D.context.type}function H(D,z,P){return I[P.context.type](D,z,P)}function X(D,z,P,Q){for(var ae=Q||1;ae>0;ae--)P.context=P.context.prev;return H(D,z,P)}function A(D){var z=D.current().toLowerCase();st.hasOwnProperty(z)?qe="atom":pt.hasOwnProperty(z)?qe="keyword":qe="variable"}var I={};return I.top=function(D,z,P){if(D=="{")return ge(P,z,"block");if(D=="}"&&P.context.prev)return ye(P);if(Ce&&/@component/i.test(D))return ge(P,z,"atComponentBlock");if(/^@(-moz-)?document$/i.test(D))return ge(P,z,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(D))return ge(P,z,"atBlock");if(/^@(font-face|counter-style)/i.test(D))return P.stateArg=D,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(D))return"keyframes";if(D&&D.charAt(0)=="@")return ge(P,z,"at");if(D=="hash")qe="builtin";else if(D=="word")qe="tag";else{if(D=="variable-definition")return"maybeprop";if(D=="interpolation")return ge(P,z,"interpolation");if(D==":")return"pseudo";if(Ye&&D=="(")return ge(P,z,"parens")}return P.context.type},I.block=function(D,z,P){if(D=="word"){var Q=z.current().toLowerCase();return We.hasOwnProperty(Q)?(qe="property","maybeprop"):nt.hasOwnProperty(Q)?(qe=_e?"string-2":"property","maybeprop"):Ye?(qe=z.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(qe+=" error","maybeprop")}else return D=="meta"?"block":!Ye&&(D=="hash"||D=="qualifier")?(qe="error","block"):I.top(D,z,P)},I.maybeprop=function(D,z,P){return D==":"?ge(P,z,"prop"):H(D,z,P)},I.prop=function(D,z,P){if(D==";")return ye(P);if(D=="{"&&Ye)return ge(P,z,"propBlock");if(D=="}"||D=="{")return X(D,z,P);if(D=="(")return ge(P,z,"parens");if(D=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(z.current()))qe+=" error";else if(D=="word")A(z);else if(D=="interpolation")return ge(P,z,"interpolation");return"prop"},I.propBlock=function(D,z,P){return D=="}"?ye(P):D=="word"?(qe="property","maybeprop"):P.context.type},I.parens=function(D,z,P){return D=="{"||D=="}"?X(D,z,P):D==")"?ye(P):D=="("?ge(P,z,"parens"):D=="interpolation"?ge(P,z,"interpolation"):(D=="word"&&A(z),"parens")},I.pseudo=function(D,z,P){return D=="meta"?"pseudo":D=="word"?(qe="variable-3",P.context.type):H(D,z,P)},I.documentTypes=function(D,z,P){return D=="word"&&L.hasOwnProperty(z.current())?(qe="tag",P.context.type):I.atBlock(D,z,P)},I.atBlock=function(D,z,P){if(D=="(")return ge(P,z,"atBlock_parens");if(D=="}"||D==";")return X(D,z,P);if(D=="{")return ye(P)&&ge(P,z,Ye?"block":"top");if(D=="interpolation")return ge(P,z,"interpolation");if(D=="word"){var Q=z.current().toLowerCase();Q=="only"||Q=="not"||Q=="and"||Q=="or"?qe="keyword":ce.hasOwnProperty(Q)?qe="attribute":pe.hasOwnProperty(Q)?qe="property":Te.hasOwnProperty(Q)?qe="keyword":We.hasOwnProperty(Q)?qe="property":nt.hasOwnProperty(Q)?qe=_e?"string-2":"property":st.hasOwnProperty(Q)?qe="atom":pt.hasOwnProperty(Q)?qe="keyword":qe="error"}return P.context.type},I.atComponentBlock=function(D,z,P){return D=="}"?X(D,z,P):D=="{"?ye(P)&&ge(P,z,Ye?"block":"top",!1):(D=="word"&&(qe="error"),P.context.type)},I.atBlock_parens=function(D,z,P){return D==")"?ye(P):D=="{"||D=="}"?X(D,z,P,2):I.atBlock(D,z,P)},I.restricted_atBlock_before=function(D,z,P){return D=="{"?ge(P,z,"restricted_atBlock"):D=="word"&&P.stateArg=="@counter-style"?(qe="variable","restricted_atBlock_before"):H(D,z,P)},I.restricted_atBlock=function(D,z,P){return D=="}"?(P.stateArg=null,ye(P)):D=="word"?(P.stateArg=="@font-face"&&!bt.hasOwnProperty(z.current().toLowerCase())||P.stateArg=="@counter-style"&&!Mt.hasOwnProperty(z.current().toLowerCase())?qe="error":qe="property","maybeprop"):"restricted_atBlock"},I.keyframes=function(D,z,P){return D=="word"?(qe="variable","keyframes"):D=="{"?ge(P,z,"top"):H(D,z,P)},I.at=function(D,z,P){return D==";"?ye(P):D=="{"||D=="}"?X(D,z,P):(D=="word"?qe="tag":D=="hash"&&(qe="builtin"),"at")},I.interpolation=function(D,z,P){return D=="}"?ye(P):D=="{"||D==";"?X(D,z,P):(D=="word"?qe="variable":D!="variable"&&D!="("&&D!=")"&&(qe="error"),"interpolation")},{startState:function(D){return{tokenize:null,state:Z?"block":"top",stateArg:null,context:new fe(Z?"block":"top",D||0,null)}},token:function(D,z){if(!z.tokenize&&D.eatSpace())return null;var P=(z.tokenize||gt)(D,z);return P&&typeof P=="object"&&(je=P[1],P=P[0]),qe=P,je!="comment"&&(z.state=I[z.state](je,D,z)),qe},indent:function(D,z){var P=D.context,Q=z&&z.charAt(0),ae=P.indent;return P.type=="prop"&&(Q=="}"||Q==")")&&(P=P.prev),P.prev&&(Q=="}"&&(P.type=="block"||P.type=="top"||P.type=="interpolation"||P.type=="restricted_atBlock")?(P=P.prev,ae=P.indent):(Q==")"&&(P.type=="parens"||P.type=="atBlock_parens")||Q=="{"&&(P.type=="at"||P.type=="atBlock"))&&(ae=Math.max(0,P.indent-W))),ae},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:Re,fold:"brace"}});function r(R){for(var V={},Z=0;Z<R.length;++Z)V[R[Z].toLowerCase()]=!0;return V}var i=["domain","regexp","url","url-prefix"],o=r(i),a=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],l=r(a),f=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],h=r(f),p=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],m=r(p),v=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],b=r(v),_=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],k=r(_),C=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],E=r(C),S=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],F=r(S),O=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],K=r(O),j=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],U=r(j),q=i.concat(a).concat(f).concat(p).concat(v).concat(_).concat(O).concat(j);n.registerHelper("hintWords","css",q);function B(R,V){for(var Z=!1,W;(W=R.next())!=null;){if(Z&&W=="/"){V.tokenize=null;break}Z=W=="*"}return["comment","comment"]}n.defineMIME("text/css",{documentTypes:o,mediaTypes:l,mediaFeatures:h,mediaValueKeywords:m,propertyKeywords:b,nonStandardPropertyKeywords:k,fontProperties:E,counterDescriptors:F,colorKeywords:K,valueKeywords:U,tokenHooks:{"/":function(R,V){return R.eat("*")?(V.tokenize=B,B(R,V)):!1}},name:"css"}),n.defineMIME("text/x-scss",{mediaTypes:l,mediaFeatures:h,mediaValueKeywords:m,propertyKeywords:b,nonStandardPropertyKeywords:k,colorKeywords:K,valueKeywords:U,fontProperties:E,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(R,V){return R.eat("/")?(R.skipToEnd(),["comment","comment"]):R.eat("*")?(V.tokenize=B,B(R,V)):["operator","operator"]},":":function(R){return R.match(/^\s*\{/,!1)?[null,null]:!1},$:function(R){return R.match(/^[\w-]+/),R.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(R){return R.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),n.defineMIME("text/x-less",{mediaTypes:l,mediaFeatures:h,mediaValueKeywords:m,propertyKeywords:b,nonStandardPropertyKeywords:k,colorKeywords:K,valueKeywords:U,fontProperties:E,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(R,V){return R.eat("/")?(R.skipToEnd(),["comment","comment"]):R.eat("*")?(V.tokenize=B,B(R,V)):["operator","operator"]},"@":function(R){return R.eat("{")?[null,"interpolation"]:R.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(R.eatWhile(/[\w\\\-]/),R.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),n.defineMIME("text/x-gss",{documentTypes:o,mediaTypes:l,mediaFeatures:h,propertyKeywords:b,nonStandardPropertyKeywords:k,fontProperties:E,counterDescriptors:F,colorKeywords:K,valueKeywords:U,supportsAtComponent:!0,tokenHooks:{"/":function(R,V){return R.eat("*")?(V.tokenize=B,B(R,V)):!1}},name:"css",helperType:"gss"})})})();var IZ={exports:{}};(function(e,t){(function(n){n(Er.exports,xm.exports)})(function(n){n.defineMode("sass",function(r){var i=n.mimeModes["text/css"],o=i.propertyKeywords||{},a=i.colorKeywords||{},l=i.valueKeywords||{},f=i.fontProperties||{};function h(B){return new RegExp("^"+B.join("|"))}var p=["true","false","null","auto"],m=new RegExp("^"+p.join("|")),v=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"],b=h(v),_=/^::?[a-zA-Z_][\w\-]*/,k;function C(B){return!B.peek()||B.match(/\s+$/,!1)}function E(B,R){var V=B.peek();return V===")"?(B.next(),R.tokenizer=U,"operator"):V==="("?(B.next(),B.eatSpace(),"operator"):V==="'"||V==='"'?(R.tokenizer=F(B.next()),"string"):(R.tokenizer=F(")",!1),"string")}function S(B,R){return function(V,Z){return V.sol()&&V.indentation()<=B?(Z.tokenizer=U,U(V,Z)):(R&&V.skipTo("*/")?(V.next(),V.next(),Z.tokenizer=U):V.skipToEnd(),"comment")}}function F(B,R){R==null&&(R=!0);function V(Z,W){var ie=Z.next(),L=Z.peek(),ce=Z.string.charAt(Z.pos-2),pe=ie!=="\\"&&L===B||ie===B&&ce!=="\\";return pe?(ie!==B&&R&&Z.next(),C(Z)&&(W.cursorHalf=0),W.tokenizer=U,"string"):ie==="#"&&L==="{"?(W.tokenizer=O(V),Z.next(),"operator"):"string"}return V}function O(B){return function(R,V){return R.peek()==="}"?(R.next(),V.tokenizer=B,"operator"):U(R,V)}}function K(B){if(B.indentCount==0){B.indentCount++;var R=B.scopes[0].offset,V=R+r.indentUnit;B.scopes.unshift({offset:V})}}function j(B){B.scopes.length!=1&&B.scopes.shift()}function U(B,R){var V=B.peek();if(B.match("/*"))return R.tokenizer=S(B.indentation(),!0),R.tokenizer(B,R);if(B.match("//"))return R.tokenizer=S(B.indentation(),!1),R.tokenizer(B,R);if(B.match("#{"))return R.tokenizer=O(U),"operator";if(V==='"'||V==="'")return B.next(),R.tokenizer=F(V),"string";if(R.cursorHalf){if(V==="#"&&(B.next(),B.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/))||B.match(/^-?[0-9\.]+/))return C(B)&&(R.cursorHalf=0),"number";if(B.match(/^(px|em|in)\b/))return C(B)&&(R.cursorHalf=0),"unit";if(B.match(m))return C(B)&&(R.cursorHalf=0),"keyword";if(B.match(/^url/)&&B.peek()==="(")return R.tokenizer=E,C(B)&&(R.cursorHalf=0),"atom";if(V==="$")return B.next(),B.eatWhile(/[\w-]/),C(B)&&(R.cursorHalf=0),"variable-2";if(V==="!")return B.next(),R.cursorHalf=0,B.match(/^[\w]+/)?"keyword":"operator";if(B.match(b))return C(B)&&(R.cursorHalf=0),"operator";if(B.eatWhile(/[\w-]/))return C(B)&&(R.cursorHalf=0),k=B.current().toLowerCase(),l.hasOwnProperty(k)?"atom":a.hasOwnProperty(k)?"keyword":o.hasOwnProperty(k)?(R.prevProp=B.current().toLowerCase(),"property"):"tag";if(C(B))return R.cursorHalf=0,null}else{if(V==="-"&&B.match(/^-\w+-/))return"meta";if(V==="."){if(B.next(),B.match(/^[\w-]+/))return K(R),"qualifier";if(B.peek()==="#")return K(R),"tag"}if(V==="#"){if(B.next(),B.match(/^[\w-]+/))return K(R),"builtin";if(B.peek()==="#")return K(R),"tag"}if(V==="$")return B.next(),B.eatWhile(/[\w-]/),"variable-2";if(B.match(/^-?[0-9\.]+/))return"number";if(B.match(/^(px|em|in)\b/))return"unit";if(B.match(m))return"keyword";if(B.match(/^url/)&&B.peek()==="(")return R.tokenizer=E,"atom";if(V==="="&&B.match(/^=[\w-]+/))return K(R),"meta";if(V==="+"&&B.match(/^\+[\w-]+/))return"variable-3";if(V==="@"&&B.match("@extend")&&(B.match(/\s*[\w]/)||j(R)),B.match(/^@(else if|if|media|else|for|each|while|mixin|function)/))return K(R),"def";if(V==="@")return B.next(),B.eatWhile(/[\w-]/),"def";if(B.eatWhile(/[\w-]/))if(B.match(/ *: *[\w-\+\$#!\("']/,!1)){k=B.current().toLowerCase();var Z=R.prevProp+"-"+k;return o.hasOwnProperty(Z)?"property":o.hasOwnProperty(k)?(R.prevProp=k,"property"):f.hasOwnProperty(k)?"property":"tag"}else return B.match(/ *:/,!1)?(K(R),R.cursorHalf=1,R.prevProp=B.current().toLowerCase(),"property"):(B.match(/ *,/,!1)||K(R),"tag");if(V===":")return B.match(_)?"variable-3":(B.next(),R.cursorHalf=1,"operator")}return B.match(b)?"operator":(B.next(),null)}function q(B,R){B.sol()&&(R.indentCount=0);var V=R.tokenizer(B,R),Z=B.current();if((Z==="@return"||Z==="}")&&j(R),V!==null){for(var W=B.pos-Z.length,ie=W+r.indentUnit*R.indentCount,L=[],ce=0;ce<R.scopes.length;ce++){var pe=R.scopes[ce];pe.offset<=ie&&L.push(pe)}R.scopes=L}return V}return{startState:function(){return{tokenizer:U,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(B,R){var V=q(B,R);return R.lastToken={style:V,content:B.current()},V},indent:function(B){return B.scopes[0].offset},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"indent"}},"css"),n.defineMIME("text/x-sass","sass")})})();var FZ={exports:{}};(function(e,t){(function(n){n(Er.exports)})(function(n){n.defineMode("stylus",function(O){for(var K=O.indentUnit,j="",U=S(r),q=/^(a|b|i|s|col|em)$/i,B=S(l),R=S(f),V=S(m),Z=S(p),W=S(i),ie=E(i),L=S(a),ce=S(o),pe=S(h),Te=/^\s*([.]{2,3}|&&|\|\||\*\*|[?!=:]?=|[-+*\/%<>]=?|\?:|\~)/,We=E(v),nt=S(b),bt=new RegExp(/^\-(moz|ms|o|webkit)-/i),Mt=S(_),pt="",st={},Ye,Re,Ce,_e;j.length<K;)j+=" ";function je(J,Y){if(pt=J.string.match(/(^[\w-]+\s*=\s*$)|(^\s*[\w-]+\s*=\s*[\w-])|(^\s*(\.|#|@|\$|\&|\[|\d|\+|::?|\{|\>|~|\/)?\s*[\w-]*([a-z0-9-]|\*|\/\*)(\(|,)?)/),Y.context.line.firstWord=pt?pt[0].replace(/^\s*/,""):"",Y.context.line.indent=J.indentation(),Ye=J.peek(),J.match("//"))return J.skipToEnd(),["comment","comment"];if(J.match("/*"))return Y.tokenize=qe,qe(J,Y);if(Ye=='"'||Ye=="'")return J.next(),Y.tokenize=Ve(Ye),Y.tokenize(J,Y);if(Ye=="@")return J.next(),J.eatWhile(/[\w\\-]/),["def",J.current()];if(Ye=="#"){if(J.next(),J.match(/^[0-9a-f]{3}([0-9a-f]([0-9a-f]{2}){0,2})?\b(?!-)/i))return["atom","atom"];if(J.match(/^[a-z][\w-]*/i))return["builtin","hash"]}return J.match(bt)?["meta","vendor-prefixes"]:J.match(/^-?[0-9]?\.?[0-9]/)?(J.eatWhile(/[a-z%]/i),["number","unit"]):Ye=="!"?(J.next(),[J.match(/^(important|optional)/i)?"keyword":"operator","important"]):Ye=="."&&J.match(/^\.[a-z][\w-]*/i)?["qualifier","qualifier"]:J.match(ie)?(J.peek()=="("&&(Y.tokenize=gt),["property","word"]):J.match(/^[a-z][\w-]*\(/i)?(J.backUp(1),["keyword","mixin"]):J.match(/^(\+|-)[a-z][\w-]*\(/i)?(J.backUp(1),["keyword","block-mixin"]):J.string.match(/^\s*&/)&&J.match(/^[-_]+[a-z][\w-]*/)?["qualifier","qualifier"]:J.match(/^(\/|&)(-|_|:|\.|#|[a-z])/)?(J.backUp(1),["variable-3","reference"]):J.match(/^&{1}\s*$/)?["variable-3","reference"]:J.match(We)?["operator","operator"]:J.match(/^\$?[-_]*[a-z0-9]+[\w-]*/i)?J.match(/^(\.|\[)[\w-\'\"\]]+/i,!1)&&!H(J.current())?(J.match("."),["variable-2","variable-name"]):["variable-2","word"]:J.match(Te)?["operator",J.current()]:/[:;,{}\[\]\(\)]/.test(Ye)?(J.next(),[null,Ye]):(J.next(),[null,null])}function qe(J,Y){for(var he=!1,Le;(Le=J.next())!=null;){if(he&&Le=="/"){Y.tokenize=null;break}he=Le=="*"}return["comment","comment"]}function Ve(J){return function(Y,he){for(var Le=!1,it;(it=Y.next())!=null;){if(it==J&&!Le){J==")"&&Y.backUp(1);break}Le=!Le&&it=="\\"}return(it==J||!Le&&J!=")")&&(he.tokenize=null),["string","string"]}}function gt(J,Y){return J.next(),J.match(/\s*[\"\')]/,!1)?Y.tokenize=null:Y.tokenize=Ve(")"),[null,"("]}function ee(J,Y,he,Le){this.type=J,this.indent=Y,this.prev=he,this.line=Le||{firstWord:"",indent:0}}function re(J,Y,he,Le){return Le=Le>=0?Le:K,J.context=new ee(he,Y.indentation()+Le,J.context),he}function fe(J,Y){var he=J.context.indent-K;return Y=Y||!1,J.context=J.context.prev,Y&&(J.context.indent=he),J.context.type}function ge(J,Y,he){return st[he.context.type](J,Y,he)}function ye(J,Y,he,Le){for(var it=Le||1;it>0;it--)he.context=he.context.prev;return ge(J,Y,he)}function H(J){return J.toLowerCase()in U}function X(J){return J=J.toLowerCase(),J in B||J in pe}function A(J){return J.toLowerCase()in nt}function I(J){return J.toLowerCase().match(bt)}function D(J){var Y=J.toLowerCase(),he="variable-2";return H(J)?he="tag":A(J)?he="block-keyword":X(J)?he="property":Y in V||Y in Mt?he="atom":Y=="return"||Y in Z?he="keyword":J.match(/^[A-Z]/)&&(he="string"),he}function z(J,Y){return de(Y)&&(J=="{"||J=="]"||J=="hash"||J=="qualifier")||J=="block-mixin"}function P(J,Y){return J=="{"&&Y.match(/^\s*\$?[\w-]+/i,!1)}function Q(J,Y){return J==":"&&Y.match(/^[a-z-]+/,!1)}function ae(J){return J.sol()||J.string.match(new RegExp("^\\s*"+F(J.current())))}function de(J){return J.eol()||J.match(/^\s*$/,!1)}function me(J){var Y=/^\s*[-_]*[a-z0-9]+[\w-]*/i,he=typeof J=="string"?J.match(Y):J.string.match(Y);return he?he[0].replace(/^\s*/,""):""}return st.block=function(J,Y,he){if(J=="comment"&&ae(Y)||J==","&&de(Y)||J=="mixin")return re(he,Y,"block",0);if(P(J,Y))return re(he,Y,"interpolation");if(de(Y)&&J=="]"&&!/^\s*(\.|#|:|\[|\*|&)/.test(Y.string)&&!H(me(Y)))return re(he,Y,"block",0);if(z(J,Y))return re(he,Y,"block");if(J=="}"&&de(Y))return re(he,Y,"block",0);if(J=="variable-name")return Y.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/)||A(me(Y))?re(he,Y,"variableName"):re(he,Y,"variableName",0);if(J=="=")return!de(Y)&&!A(me(Y))?re(he,Y,"block",0):re(he,Y,"block");if(J=="*"&&(de(Y)||Y.match(/\s*(,|\.|#|\[|:|{)/,!1)))return _e="tag",re(he,Y,"block");if(Q(J,Y))return re(he,Y,"pseudo");if(/@(font-face|media|supports|(-moz-)?document)/.test(J))return re(he,Y,de(Y)?"block":"atBlock");if(/@(-(moz|ms|o|webkit)-)?keyframes$/.test(J))return re(he,Y,"keyframes");if(/@extends?/.test(J))return re(he,Y,"extend",0);if(J&&J.charAt(0)=="@")return Y.indentation()>0&&X(Y.current().slice(1))?(_e="variable-2","block"):/(@import|@require|@charset)/.test(J)?re(he,Y,"block",0):re(he,Y,"block");if(J=="reference"&&de(Y))return re(he,Y,"block");if(J=="(")return re(he,Y,"parens");if(J=="vendor-prefixes")return re(he,Y,"vendorPrefixes");if(J=="word"){var Le=Y.current();if(_e=D(Le),_e=="property")return ae(Y)?re(he,Y,"block",0):(_e="atom","block");if(_e=="tag"){if(/embed|menu|pre|progress|sub|table/.test(Le)&&X(me(Y))||Y.string.match(new RegExp("\\[\\s*"+Le+"|"+Le+"\\s*\\]")))return _e="atom","block";if(q.test(Le)&&(ae(Y)&&Y.string.match(/=/)||!ae(Y)&&!Y.string.match(/^(\s*\.|#|\&|\[|\/|>|\*)/)&&!H(me(Y))))return _e="variable-2",A(me(Y))?"block":re(he,Y,"block",0);if(de(Y))return re(he,Y,"block")}if(_e=="block-keyword")return _e="keyword",Y.current(/(if|unless)/)&&!ae(Y)?"block":re(he,Y,"block");if(Le=="return")return re(he,Y,"block",0);if(_e=="variable-2"&&Y.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/))return re(he,Y,"block")}return he.context.type},st.parens=function(J,Y,he){if(J=="(")return re(he,Y,"parens");if(J==")")return he.context.prev.type=="parens"?fe(he):Y.string.match(/^[a-z][\w-]*\(/i)&&de(Y)||A(me(Y))||/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(me(Y))||!Y.string.match(/^-?[a-z][\w-\.\[\]\'\"]*\s*=/)&&H(me(Y))?re(he,Y,"block"):Y.string.match(/^[\$-]?[a-z][\w-\.\[\]\'\"]*\s*=/)||Y.string.match(/^\s*(\(|\)|[0-9])/)||Y.string.match(/^\s+[a-z][\w-]*\(/i)||Y.string.match(/^\s+[\$-]?[a-z]/i)?re(he,Y,"block",0):de(Y)?re(he,Y,"block"):re(he,Y,"block",0);if(J&&J.charAt(0)=="@"&&X(Y.current().slice(1))&&(_e="variable-2"),J=="word"){var Le=Y.current();_e=D(Le),_e=="tag"&&q.test(Le)&&(_e="variable-2"),(_e=="property"||Le=="to")&&(_e="atom")}return J=="variable-name"?re(he,Y,"variableName"):Q(J,Y)?re(he,Y,"pseudo"):he.context.type},st.vendorPrefixes=function(J,Y,he){return J=="word"?(_e="property",re(he,Y,"block",0)):fe(he)},st.pseudo=function(J,Y,he){return X(me(Y.string))?ye(J,Y,he):(Y.match(/^[a-z-]+/),_e="variable-3",de(Y)?re(he,Y,"block"):fe(he))},st.atBlock=function(J,Y,he){if(J=="(")return re(he,Y,"atBlock_parens");if(z(J,Y))return re(he,Y,"block");if(P(J,Y))return re(he,Y,"interpolation");if(J=="word"){var Le=Y.current().toLowerCase();if(/^(only|not|and|or)$/.test(Le)?_e="keyword":W.hasOwnProperty(Le)?_e="tag":ce.hasOwnProperty(Le)?_e="attribute":L.hasOwnProperty(Le)?_e="property":R.hasOwnProperty(Le)?_e="string-2":_e=D(Y.current()),_e=="tag"&&de(Y))return re(he,Y,"block")}return J=="operator"&&/^(not|and|or)$/.test(Y.current())&&(_e="keyword"),he.context.type},st.atBlock_parens=function(J,Y,he){if(J=="{"||J=="}")return he.context.type;if(J==")")return de(Y)?re(he,Y,"block"):re(he,Y,"atBlock");if(J=="word"){var Le=Y.current().toLowerCase();return _e=D(Le),/^(max|min)/.test(Le)&&(_e="property"),_e=="tag"&&(q.test(Le)?_e="variable-2":_e="atom"),he.context.type}return st.atBlock(J,Y,he)},st.keyframes=function(J,Y,he){return Y.indentation()=="0"&&(J=="}"&&ae(Y)||J=="]"||J=="hash"||J=="qualifier"||H(Y.current()))?ye(J,Y,he):J=="{"?re(he,Y,"keyframes"):J=="}"?ae(Y)?fe(he,!0):re(he,Y,"keyframes"):J=="unit"&&/^[0-9]+\%$/.test(Y.current())?re(he,Y,"keyframes"):J=="word"&&(_e=D(Y.current()),_e=="block-keyword")?(_e="keyword",re(he,Y,"keyframes")):/@(font-face|media|supports|(-moz-)?document)/.test(J)?re(he,Y,de(Y)?"block":"atBlock"):J=="mixin"?re(he,Y,"block",0):he.context.type},st.interpolation=function(J,Y,he){return J=="{"&&fe(he)&&re(he,Y,"block"),J=="}"?Y.string.match(/^\s*(\.|#|:|\[|\*|&|>|~|\+|\/)/i)||Y.string.match(/^\s*[a-z]/i)&&H(me(Y))?re(he,Y,"block"):!Y.string.match(/^(\{|\s*\&)/)||Y.match(/\s*[\w-]/,!1)?re(he,Y,"block",0):re(he,Y,"block"):J=="variable-name"?re(he,Y,"variableName",0):(J=="word"&&(_e=D(Y.current()),_e=="tag"&&(_e="atom")),he.context.type)},st.extend=function(J,Y,he){return J=="["||J=="="?"extend":J=="]"?fe(he):J=="word"?(_e=D(Y.current()),"extend"):fe(he)},st.variableName=function(J,Y,he){return J=="string"||J=="["||J=="]"||Y.current().match(/^(\.|\$)/)?(Y.current().match(/^\.[\w-]+/i)&&(_e="variable-2"),"variableName"):ye(J,Y,he)},{startState:function(J){return{tokenize:null,state:"block",context:new ee("block",J||0,null)}},token:function(J,Y){return!Y.tokenize&&J.eatSpace()?null:(Re=(Y.tokenize||je)(J,Y),Re&&typeof Re=="object"&&(Ce=Re[1],Re=Re[0]),_e=Re,Y.state=st[Y.state](Ce,J,Y),_e)},indent:function(J,Y,he){var Le=J.context,it=Y&&Y.charAt(0),oe=Le.indent,Fe=me(Y),De=he.match(/^\s*/)[0].replace(/\t/g,j).length,we=J.context.prev?J.context.prev.line.firstWord:"",Ue=J.context.prev?J.context.prev.line.indent:De;return Le.prev&&(it=="}"&&(Le.type=="block"||Le.type=="atBlock"||Le.type=="keyframes")||it==")"&&(Le.type=="parens"||Le.type=="atBlock_parens")||it=="{"&&Le.type=="at")?oe=Le.indent-K:/(\})/.test(it)||(/@|\$|\d/.test(it)||/^\{/.test(Y)||/^\s*\/(\/|\*)/.test(Y)||/^\s*\/\*/.test(we)||/^\s*[\w-\.\[\]\'\"]+\s*(\?|:|\+)?=/i.test(Y)||/^(\+|-)?[a-z][\w-]*\(/i.test(Y)||/^return/.test(Y)||A(Fe)?oe=De:/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(it)||H(Fe)?/\,\s*$/.test(we)?oe=Ue:/^\s+/.test(he)&&(/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(we)||H(we))?oe=De<=Ue?Ue:Ue+K:oe=De:!/,\s*$/.test(he)&&(I(Fe)||X(Fe))&&(A(we)?oe=De<=Ue?Ue:Ue+K:/^\{/.test(we)?oe=De<=Ue?De:Ue+K:I(we)||X(we)?oe=De>=Ue?Ue:De:/^(\.|#|:|\[|\*|&|@|\+|\-|>|~|\/)/.test(we)||/=\s*$/.test(we)||H(we)||/^\$[\w-\.\[\]\'\"]/.test(we)?oe=Ue+K:oe=De)),oe},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"indent"}});var r=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","bgsound","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","nobr","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video"],i=["domain","regexp","url-prefix","url"],o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","dynamic-range","video-dynamic-range"],l=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode","font-smoothing","osx-font-smoothing"],f=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],h=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],p=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],m=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","high","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","spell-out","square","square-button","standard","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","x-large","x-small","xor","xx-large","xx-small","bicubic","optimizespeed","grayscale","row","row-reverse","wrap","wrap-reverse","column-reverse","flex-start","flex-end","space-between","space-around","unset"],v=["in","and","or","not","is not","is a","is","isnt","defined","if unless"],b=["for","if","else","unless","from","to"],_=["null","true","false","href","title","type","not-allowed","readonly","disabled"],k=["@font-face","@keyframes","@media","@viewport","@page","@host","@supports","@block","@css"],C=r.concat(i,o,a,l,f,p,m,h,v,b,_,k);function E(O){return O=O.sort(function(K,j){return j>K}),new RegExp("^(("+O.join(")|(")+"))\\b")}function S(O){for(var K={},j=0;j<O.length;++j)K[O[j]]=!0;return K}function F(O){return O.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}n.registerHelper("hintWords","stylus",C),n.defineMIME("text/x-styl","stylus")})})();var RZ={exports:{}},BZ={exports:{}};(function(e,t){(function(n){n(Er.exports,x6.exports,x1.exports,xm.exports)})(function(n){var r={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function i(m,v,b){var _=m.current(),k=_.search(v);return k>-1?m.backUp(_.length-k):_.match(/<\/?$/)&&(m.backUp(_.length),m.match(v,!1)||m.match(_)),b}var o={};function a(m){var v=o[m];return v||(o[m]=new RegExp("\\s+"+m+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function l(m,v){var b=m.match(a(v));return b?/^\s*(.*?)\s*$/.exec(b[2])[1]:""}function f(m,v){return new RegExp((v?"^":"")+"</\\s*"+m+"\\s*>","i")}function h(m,v){for(var b in m)for(var _=v[b]||(v[b]=[]),k=m[b],C=k.length-1;C>=0;C--)_.unshift(k[C])}function p(m,v){for(var b=0;b<m.length;b++){var _=m[b];if(!_[0]||_[1].test(l(v,_[0])))return _[2]}}n.defineMode("htmlmixed",function(m,v){var b=n.getMode(m,{name:"xml",htmlMode:!0,multilineTagIndentFactor:v.multilineTagIndentFactor,multilineTagIndentPastTag:v.multilineTagIndentPastTag,allowMissingTagName:v.allowMissingTagName}),_={},k=v&&v.tags,C=v&&v.scriptTypes;if(h(r,_),k&&h(k,_),C)for(var E=C.length-1;E>=0;E--)_.script.unshift(["type",C[E].matches,C[E].mode]);function S(F,O){var K=b.token(F,O.htmlState),j=/\btag\b/.test(K),U;if(j&&!/[<>\s\/]/.test(F.current())&&(U=O.htmlState.tagName&&O.htmlState.tagName.toLowerCase())&&_.hasOwnProperty(U))O.inTag=U+" ";else if(O.inTag&&j&&/>$/.test(F.current())){var q=/^([\S]+) (.*)/.exec(O.inTag);O.inTag=null;var B=F.current()==">"&&p(_[q[1]],q[2]),R=n.getMode(m,B),V=f(q[1],!0),Z=f(q[1],!1);O.token=function(W,ie){return W.match(V,!1)?(ie.token=S,ie.localState=ie.localMode=null,null):i(W,Z,ie.localMode.token(W,ie.localState))},O.localMode=R,O.localState=n.startState(R,b.indent(O.htmlState,"",""))}else O.inTag&&(O.inTag+=F.current(),F.eol()&&(O.inTag+=" "));return K}return{startState:function(){var F=n.startState(b);return{token:S,inTag:null,localMode:null,localState:null,htmlState:F}},copyState:function(F){var O;return F.localState&&(O=n.copyState(F.localMode,F.localState)),{token:F.token,inTag:F.inTag,localMode:F.localMode,localState:O,htmlState:n.copyState(b,F.htmlState)}},token:function(F,O){return O.token(F,O)},indent:function(F,O,K){return!F.localMode||/^\s*<\//.test(O)?b.indent(F.htmlState,O,K):F.localMode.indent?F.localMode.indent(F.localState,O,K):n.Pass},innerMode:function(F){return{state:F.localState||F.htmlState,mode:F.localMode||b}}}},"xml","javascript","css"),n.defineMIME("text/html","htmlmixed")})})();(function(e,t){(function(n){n(Er.exports,x1.exports,xm.exports,BZ.exports)})(function(n){n.defineMode("pug",function(r){var i="keyword",o="meta",a="builtin",l="qualifier",f={"{":"}","(":")","[":"]"},h=n.getMode(r,"javascript");function p(){this.javaScriptLine=!1,this.javaScriptLineExcludesColon=!1,this.javaScriptArguments=!1,this.javaScriptArgumentsDepth=0,this.isInterpolating=!1,this.interpolationNesting=0,this.jsState=n.startState(h),this.restOfLine="",this.isIncludeFiltered=!1,this.isEach=!1,this.lastTag="",this.scriptType="",this.isAttrs=!1,this.attrsNest=[],this.inAttributeName=!0,this.attributeIsType=!1,this.attrValue="",this.indentOf=1/0,this.indentToken="",this.innerMode=null,this.innerState=null,this.innerModeForLine=!1}p.prototype.copy=function(){var H=new p;return H.javaScriptLine=this.javaScriptLine,H.javaScriptLineExcludesColon=this.javaScriptLineExcludesColon,H.javaScriptArguments=this.javaScriptArguments,H.javaScriptArgumentsDepth=this.javaScriptArgumentsDepth,H.isInterpolating=this.isInterpolating,H.interpolationNesting=this.interpolationNesting,H.jsState=n.copyState(h,this.jsState),H.innerMode=this.innerMode,this.innerMode&&this.innerState&&(H.innerState=n.copyState(this.innerMode,this.innerState)),H.restOfLine=this.restOfLine,H.isIncludeFiltered=this.isIncludeFiltered,H.isEach=this.isEach,H.lastTag=this.lastTag,H.scriptType=this.scriptType,H.isAttrs=this.isAttrs,H.attrsNest=this.attrsNest.slice(),H.inAttributeName=this.inAttributeName,H.attributeIsType=this.attributeIsType,H.attrValue=this.attrValue,H.indentOf=this.indentOf,H.indentToken=this.indentToken,H.innerModeForLine=this.innerModeForLine,H};function m(H,X){if(H.sol()&&(X.javaScriptLine=!1,X.javaScriptLineExcludesColon=!1),X.javaScriptLine){if(X.javaScriptLineExcludesColon&&H.peek()===":"){X.javaScriptLine=!1,X.javaScriptLineExcludesColon=!1;return}var A=h.token(H,X.jsState);return H.eol()&&(X.javaScriptLine=!1),A||!0}}function v(H,X){if(X.javaScriptArguments){if(X.javaScriptArgumentsDepth===0&&H.peek()!=="("){X.javaScriptArguments=!1;return}if(H.peek()==="("?X.javaScriptArgumentsDepth++:H.peek()===")"&&X.javaScriptArgumentsDepth--,X.javaScriptArgumentsDepth===0){X.javaScriptArguments=!1;return}var A=h.token(H,X.jsState);return A||!0}}function b(H){if(H.match(/^yield\b/))return"keyword"}function _(H){if(H.match(/^(?:doctype) *([^\n]+)?/))return o}function k(H,X){if(H.match("#{"))return X.isInterpolating=!0,X.interpolationNesting=0,"punctuation"}function C(H,X){if(X.isInterpolating){if(H.peek()==="}"){if(X.interpolationNesting--,X.interpolationNesting<0)return H.next(),X.isInterpolating=!1,"punctuation"}else H.peek()==="{"&&X.interpolationNesting++;return h.token(H,X.jsState)||!0}}function E(H,X){if(H.match(/^case\b/))return X.javaScriptLine=!0,i}function S(H,X){if(H.match(/^when\b/))return X.javaScriptLine=!0,X.javaScriptLineExcludesColon=!0,i}function F(H){if(H.match(/^default\b/))return i}function O(H,X){if(H.match(/^extends?\b/))return X.restOfLine="string",i}function K(H,X){if(H.match(/^append\b/))return X.restOfLine="variable",i}function j(H,X){if(H.match(/^prepend\b/))return X.restOfLine="variable",i}function U(H,X){if(H.match(/^block\b *(?:(prepend|append)\b)?/))return X.restOfLine="variable",i}function q(H,X){if(H.match(/^include\b/))return X.restOfLine="string",i}function B(H,X){if(H.match(/^include:([a-zA-Z0-9\-]+)/,!1)&&H.match("include"))return X.isIncludeFiltered=!0,i}function R(H,X){if(X.isIncludeFiltered){var A=We(H,X);return X.isIncludeFiltered=!1,X.restOfLine="string",A}}function V(H,X){if(H.match(/^mixin\b/))return X.javaScriptLine=!0,i}function Z(H,X){if(H.match(/^\+([-\w]+)/))return H.match(/^\( *[-\w]+ *=/,!1)||(X.javaScriptArguments=!0,X.javaScriptArgumentsDepth=0),"variable";if(H.match("+#{",!1))return H.next(),X.mixinCallAfter=!0,k(H,X)}function W(H,X){if(X.mixinCallAfter)return X.mixinCallAfter=!1,H.match(/^\( *[-\w]+ *=/,!1)||(X.javaScriptArguments=!0,X.javaScriptArgumentsDepth=0),!0}function ie(H,X){if(H.match(/^(if|unless|else if|else)\b/))return X.javaScriptLine=!0,i}function L(H,X){if(H.match(/^(- *)?(each|for)\b/))return X.isEach=!0,i}function ce(H,X){if(X.isEach){if(H.match(/^ in\b/))return X.javaScriptLine=!0,X.isEach=!1,i;if(H.sol()||H.eol())X.isEach=!1;else if(H.next()){for(;!H.match(/^ in\b/,!1)&&H.next(););return"variable"}}}function pe(H,X){if(H.match(/^while\b/))return X.javaScriptLine=!0,i}function Te(H,X){var A;if(A=H.match(/^(\w(?:[-:\w]*\w)?)\/?/))return X.lastTag=A[1].toLowerCase(),X.lastTag==="script"&&(X.scriptType="application/javascript"),"tag"}function We(H,X){if(H.match(/^:([\w\-]+)/)){var A;return r&&r.innerModes&&(A=r.innerModes(H.current().substring(1))),A||(A=H.current().substring(1)),typeof A=="string"&&(A=n.getMode(r,A)),gt(H,X,A),"atom"}}function nt(H,X){if(H.match(/^(!?=|-)/))return X.javaScriptLine=!0,"punctuation"}function bt(H){if(H.match(/^#([\w-]+)/))return a}function Mt(H){if(H.match(/^\.([\w-]+)/))return l}function pt(H,X){if(H.peek()=="(")return H.next(),X.isAttrs=!0,X.attrsNest=[],X.inAttributeName=!0,X.attrValue="",X.attributeIsType=!1,"punctuation"}function st(H,X){if(X.isAttrs){if(f[H.peek()]&&X.attrsNest.push(f[H.peek()]),X.attrsNest[X.attrsNest.length-1]===H.peek())X.attrsNest.pop();else if(H.eat(")"))return X.isAttrs=!1,"punctuation";if(X.inAttributeName&&H.match(/^[^=,\)!]+/))return(H.peek()==="="||H.peek()==="!")&&(X.inAttributeName=!1,X.jsState=n.startState(h),X.lastTag==="script"&&H.current().trim().toLowerCase()==="type"?X.attributeIsType=!0:X.attributeIsType=!1),"attribute";var A=h.token(H,X.jsState);if(X.attributeIsType&&A==="string"&&(X.scriptType=H.current().toString()),X.attrsNest.length===0&&(A==="string"||A==="variable"||A==="keyword"))try{return Function("","var x "+X.attrValue.replace(/,\s*$/,"").replace(/^!/,"")),X.inAttributeName=!0,X.attrValue="",H.backUp(H.current().length),st(H,X)}catch{}return X.attrValue+=H.current(),A||!0}}function Ye(H,X){if(H.match(/^&attributes\b/))return X.javaScriptArguments=!0,X.javaScriptArgumentsDepth=0,"keyword"}function Re(H){if(H.sol()&&H.eatSpace())return"indent"}function Ce(H,X){if(H.match(/^ *\/\/(-)?([^\n]*)/))return X.indentOf=H.indentation(),X.indentToken="comment","comment"}function _e(H){if(H.match(/^: */))return"colon"}function je(H,X){if(H.match(/^(?:\| ?| )([^\n]+)/))return"string";if(H.match(/^(<[^\n]*)/,!1))return gt(H,X,"htmlmixed"),X.innerModeForLine=!0,ee(H,X,!0)}function qe(H,X){if(H.eat(".")){var A=null;return X.lastTag==="script"&&X.scriptType.toLowerCase().indexOf("javascript")!=-1?A=X.scriptType.toLowerCase().replace(/"|'/g,""):X.lastTag==="style"&&(A="css"),gt(H,X,A),"dot"}}function Ve(H){return H.next(),null}function gt(H,X,A){A=n.mimeModes[A]||A,A=r.innerModes&&r.innerModes(A)||A,A=n.mimeModes[A]||A,A=n.getMode(r,A),X.indentOf=H.indentation(),A&&A.name!=="null"?X.innerMode=A:X.indentToken="string"}function ee(H,X,A){if(H.indentation()>X.indentOf||X.innerModeForLine&&!H.sol()||A)return X.innerMode?(X.innerState||(X.innerState=X.innerMode.startState?n.startState(X.innerMode,H.indentation()):{}),H.hideFirstChars(X.indentOf+2,function(){return X.innerMode.token(H,X.innerState)||!0})):(H.skipToEnd(),X.indentToken);H.sol()&&(X.indentOf=1/0,X.indentToken=null,X.innerMode=null,X.innerState=null)}function re(H,X){if(H.sol()&&(X.restOfLine=""),X.restOfLine){H.skipToEnd();var A=X.restOfLine;return X.restOfLine="",A}}function fe(){return new p}function ge(H){return H.copy()}function ye(H,X){var A=ee(H,X)||re(H,X)||C(H,X)||R(H,X)||ce(H,X)||st(H,X)||m(H,X)||v(H,X)||W(H,X)||b(H)||_(H)||k(H,X)||E(H,X)||S(H,X)||F(H)||O(H,X)||K(H,X)||j(H,X)||U(H,X)||q(H,X)||B(H,X)||V(H,X)||Z(H,X)||ie(H,X)||L(H,X)||pe(H,X)||Te(H,X)||We(H,X)||nt(H,X)||bt(H)||Mt(H)||pt(H,X)||Ye(H,X)||Re(H)||je(H,X)||Ce(H,X)||_e(H)||qe(H,X)||Ve(H);return A===!0?null:A}return{startState:fe,copyState:ge,token:ye}},"javascript","css","htmlmixed"),n.defineMIME("text/x-pug","pug"),n.defineMIME("text/x-jade","pug")})})();var zZ={exports:{}},$Z={exports:{}};(function(e,t){(function(n){n(Er.exports)})(function(n){n.multiplexingMode=function(r){var i=Array.prototype.slice.call(arguments,1);function o(a,l,f,h){if(typeof l=="string"){var p=a.indexOf(l,f);return h&&p>-1?p+l.length:p}var m=l.exec(f?a.slice(f):a);return m?m.index+f+(h?m[0].length:0):-1}return{startState:function(){return{outer:n.startState(r),innerActive:null,inner:null,startingInner:!1}},copyState:function(a){return{outer:n.copyState(r,a.outer),innerActive:a.innerActive,inner:a.innerActive&&n.copyState(a.innerActive.mode,a.inner),startingInner:a.startingInner}},token:function(a,l){if(l.innerActive){var C=l.innerActive,h=a.string;if(!C.close&&a.sol())return l.innerActive=l.inner=null,this.token(a,l);var v=C.close&&!l.startingInner?o(h,C.close,a.pos,C.parseDelimiters):-1;if(v==a.pos&&!C.parseDelimiters)return a.match(C.close),l.innerActive=l.inner=null,C.delimStyle&&C.delimStyle+" "+C.delimStyle+"-close";v>-1&&(a.string=h.slice(0,v));var E=C.mode.token(a,l.inner);return v>-1?a.string=h:a.pos>a.start&&(l.startingInner=!1),v==a.pos&&C.parseDelimiters&&(l.innerActive=l.inner=null),C.innerStyle&&(E?E=E+" "+C.innerStyle:E=C.innerStyle),E}else{for(var f=1/0,h=a.string,p=0;p<i.length;++p){var m=i[p],v=o(h,m.open,a.pos);if(v==a.pos){m.parseDelimiters||a.match(m.open),l.startingInner=!!m.parseDelimiters,l.innerActive=m;var b=0;if(r.indent){var _=r.indent(l.outer,"","");_!==n.Pass&&(b=_)}return l.inner=n.startState(m.mode,b),m.delimStyle&&m.delimStyle+" "+m.delimStyle+"-open"}else v!=-1&&v<f&&(f=v)}f!=1/0&&(a.string=h.slice(0,f));var k=r.token(a,l.outer);return f!=1/0&&(a.string=h),k}},indent:function(a,l,f){var h=a.innerActive?a.innerActive.mode:r;return h.indent?h.indent(a.innerActive?a.inner:a.outer,l,f):n.Pass},blankLine:function(a){var l=a.innerActive?a.innerActive.mode:r;if(l.blankLine&&l.blankLine(a.innerActive?a.inner:a.outer),a.innerActive)a.innerActive.close===`
`&&(a.innerActive=a.inner=null);else for(var f=0;f<i.length;++f){var h=i[f];h.open===`
`&&(a.innerActive=h,a.inner=n.startState(h.mode,l.indent?l.indent(a.outer,"",""):0))}},electricChars:r.electricChars,innerMode:function(a){return a.inner?{state:a.inner,mode:a.innerActive.mode}:{state:a.outer,mode:r}}}}})})();(function(e,t){(function(n){n(Er.exports,tX.exports,$Z.exports)})(function(n){n.defineSimpleMode("handlebars-tags",{start:[{regex:/\{\{\{/,push:"handlebars_raw",token:"tag"},{regex:/\{\{!--/,push:"dash_comment",token:"comment"},{regex:/\{\{!/,push:"comment",token:"comment"},{regex:/\{\{/,push:"handlebars",token:"tag"}],handlebars_raw:[{regex:/\}\}\}/,pop:!0,token:"tag"}],handlebars:[{regex:/\}\}/,pop:!0,token:"tag"},{regex:/"(?:[^\\"]|\\.)*"?/,token:"string"},{regex:/'(?:[^\\']|\\.)*'?/,token:"string"},{regex:/>|[#\/]([A-Za-z_]\w*)/,token:"keyword"},{regex:/(?:else|this)\b/,token:"keyword"},{regex:/\d+/i,token:"number"},{regex:/=|~|@|true|false/,token:"atom"},{regex:/(?:\.\.\/)*(?:[A-Za-z_][\w\.]*)+/,token:"variable-2"}],dash_comment:[{regex:/--\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],comment:[{regex:/\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],meta:{blockCommentStart:"{{--",blockCommentEnd:"--}}"}}),n.defineMode("handlebars",function(r,i){var o=n.getMode(r,"handlebars-tags");return!i||!i.base?o:n.multiplexingMode(n.getMode(r,i.base),{open:"{{",close:/\}\}\}?/,mode:o,parseDelimiters:!0})}),n.defineMIME("text/x-handlebars-template","handlebars")})})();(function(e,t){(function(n){n(Er.exports,LZ.exports,x6.exports,x1.exports,PZ.exports,xm.exports,IZ.exports,FZ.exports,RZ.exports,zZ.exports)})(function(n){var r={script:[["lang",/coffee(script)?/,"coffeescript"],["type",/^(?:text|application)\/(?:x-)?coffee(?:script)?$/,"coffeescript"],["lang",/^babel$/,"javascript"],["type",/^text\/babel$/,"javascript"],["type",/^text\/ecmascript-\d+$/,"javascript"]],style:[["lang",/^stylus$/i,"stylus"],["lang",/^sass$/i,"sass"],["lang",/^less$/i,"text/x-less"],["lang",/^scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?styl(us)?$/i,"stylus"],["type",/^text\/sass/i,"sass"],["type",/^(text\/)?(x-)?scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?less$/i,"text/x-less"]],template:[["lang",/^vue-template$/i,"vue"],["lang",/^pug$/i,"pug"],["lang",/^handlebars$/i,"handlebars"],["type",/^(text\/)?(x-)?pug$/i,"pug"],["type",/^text\/x-handlebars-template$/i,"handlebars"],[null,null,"vue-template"]]};n.defineMode("vue-template",function(i,o){var a={token:function(l){if(l.match(/^\{\{.*?\}\}/))return"meta mustache";for(;l.next()&&!l.match("{{",!1););return null}};return n.overlayMode(n.getMode(i,o.backdrop||"text/html"),a)}),n.defineMode("vue",function(i){return n.getMode(i,{name:"htmlmixed",tags:r})},"htmlmixed","xml","javascript","coffeescript","css","sass","stylus","pug","handlebars"),n.defineMIME("script/x-vue","vue"),n.defineMIME("text/x-vue","vue")})})();const HZ={name:"CodeEditor",components:{Codemirror:OX},props:{field:{type:Object,default:null},editor:{type:Object,default:null},visible:{type:Boolean,default:!1},modelValue:{type:String,default:""}},emits:["update:modelValue"],data(){return{proxyValue:"",options:{theme:"material",mode:"htmlmixed",htmlMode:!0,lineNumbers:!0,lineWrapping:!0,indentUnit:4}}},watch:{visible(e){e&&(this.proxyValue=NZ.html(this.modelValue,{indent_size:4})),this.resizeHandler()},proxyValue(e){this.$emit("update:modelValue",e)}},created(){this.editor.on("resize",this.resizeHandler.bind(this))},methods:{resizeHandler(){this.visible&&this.$nextTick(()=>{const{width:e,height:t}=this.editor.view.dom.getBoundingClientRect();this.$el.style.width=`${e}px`,this.$el.style.height=`${t}px`})}}};function jZ(e,t,n,r,i,o){const a=Ot("Codemirror");return n.visible?(xe(),Wt(a,{key:0,value:i.proxyValue,"onUpdate:value":t[0]||(t[0]=l=>i.proxyValue=l),class:"vui-code-editor",options:i.options},null,8,["value","options"])):Pt("",!0)}var VZ=_n(HZ,[["render",jZ]]);const WZ={name:"VizyInput",components:{EditorContent:oU,MenuBar:PY,BlockPicker:ZY,CodeEditor:VZ},props:{name:{type:String,required:!0,default:""},settings:{type:Object,default:()=>{}},value:{type:[String,Array],required:!0,default:""}},emits:["content-update","init"],data(){return{isLivePreview:!1,mounted:!1,buttons:["bold","italic"],showCodeEditor:!1,codeEditorHtml:"",editor:null,json:null,html:null,parentToolbarOffset:0,cachedFieldHtml:{},cachedFieldJs:{},renderedJsCache:{}}},computed:{jsonContent(){return this.contentToValue(this.json)},toolbarFixed(){return this.settings.vizyConfig.toolbarFixed}},watch:{jsonContent(e){this.$emit("content-update",e)},codeEditorHtml(e){this.editor.chain().setContent(e,!0).run()}},mounted(){this.editor=new iU({extensions:this.getExtensions(),content:this.valueToContent(this.clone(this.value)),autofocus:!1,onUpdate:()=>{this.json=this.editor.getJSON().content,this.html=this.editor.getHTML()}}),this.editor.vizyField=this,this.json=this.editor.getJSON().content,this.html=this.editor.getHTML(),this.json.forEach(e=>{if(e.type==="vizyBlock"){const{id:t}=e.attrs,n=RA(this.settings.blocks,{id:t});n&&(this.setCachedFieldHtml(t,n.fieldsHtml),this.setCachedFieldJs(t,n.footHtml))}}),this.$nextTick(()=>{if(this.mounted=!0,this.$emit("init",this),this.toolbarFixed){window.addEventListener("scroll",this.updateFixedToolbar),window.addEventListener("resize",this.updateFixedToolbar);const e=document.querySelector(".slideout[data-element-editor] .so-body");e&&(e.addEventListener("scroll",this.updateFixedToolbarEditor),e.addEventListener("resize",this.updateFixedToolbarEditor)),Garnish.on(Craft.Preview,"open",this.openLivePreviewCallback),Garnish.on(Craft.LivePreview,"enter",this.openLivePreviewCallback),Garnish.on(Craft.Preview,"close",this.closeLivePreviewCallback),Garnish.on(Craft.LivePreview,"exit",this.closeLivePreviewCallback)}this.editor.on("vui:code-editor-toggle",this.setCodeEditor)}),this.getParentInputs(this.$el).forEach(e=>{e.$refs.toolbar&&(this.parentToolbarOffset+=e.$refs.toolbar.$el.offsetHeight)}),this.refreshUnloadData()},created(){this.settings.vizyConfig.buttons&&(this.buttons=this.settings.vizyConfig.buttons)},beforeUnmount(){this.editor.destroy()},methods:{getFormattingOptions(){let e=["paragraph","code-block","blockquote","h1","h2","h3","h4","h5","h6"];return this.settings.vizyConfig.formatting&&this.settings.vizyConfig.formatting.length&&(e=this.settings.vizyConfig.formatting),e},getExtensions(){return[zU,JU,iK,$U,KU,qU,jK,YU.configure({className:"has-focus",mode:"deepest"}),pU,vU,_U,SU,AU,OU,DU,MU,LU,IU,BU,HU.configure({levels:[1,2,3,4,5,6]}),jU,VU,UU,hK,pK.configure({types:["heading","paragraph"],defaultAlignment:"start"}),rq.configure({openOnClick:!1}),sq]},setCodeEditor(){this.showCodeEditor?this.editor.chain().setContent(this.codeEditorHtml,!0).run():this.codeEditorHtml=this.editor.getHTML(),this.showCodeEditor=!this.showCodeEditor},valueToContent(e){if(!e)return null;if(!Array.isArray(e))try{e=JSON.parse(e)}catch(t){console.log(t)}return e=this.decodeHtml(e),e.length?{type:"doc",content:e}:null},decodeHtml(e){Array.isArray(e)&&(e=JSON.stringify(e));const t=document.createElement("textarea");return t.innerHTML=e,JSON.parse(t.value)},contentToValue(e){return JSON.stringify(e)},getParsedBlockHtml(e,t){return typeof e=="string"?e.replace(new RegExp(`__BLOCK_TYPE_${this.settings.placeholderKey}__`,"g"),t):""},getCachedFieldHtml(e){let t=this.cachedFieldHtml[e];return typeof t=="string"&&(t=t.replace(/&#(\d+);/g,(n,r)=>String.fromCharCode(r))),this.getParsedBlockHtml(t,e)},setCachedFieldHtml(e,t){this.cachedFieldHtml[e]=t},getCachedFieldJs(e){let t=this.cachedFieldJs[e];typeof t=="string"&&(t=t.replace(/&#(\d+);/g,(r,i)=>String.fromCharCode(i)));let n=this.getParsedBlockHtml(t,e);return this.renderedJsCache[e]&&(n=n.replace(/(superTableInput.addRow.*?;)/g,"null")),this.renderedJsCache[e]=n,n},setCachedFieldJs(e,t){this.cachedFieldJs[e]=t},openLivePreviewCallback(){this.isLivePreview=!0},closeLivePreviewCallback(){this.isLivePreview=!1},updateFixedToolbar(e){let t=document.querySelector("body.fixed-header #header")?document.querySelector("body.fixed-header #header").offsetHeight:0;this.isLivePreview&&(t=document.querySelector(".lp-editor-container header.flex")?document.querySelector(".lp-editor-container header.flex").offsetHeight:0),t=t+this.parentToolbarOffset,this.$refs.toolbar.$el.style.position="sticky",this.$refs.toolbar.$el.style.top=`${this.$el.scrollTop+t}px`},updateFixedToolbarEditor(e){let t=-24;t=t+this.parentToolbarOffset,this.$refs.toolbar.$el.style.position="sticky",this.$refs.toolbar.$el.style.top=`${this.$el.scrollTop+t}px`},getParentInputs(){const e=[];let t=this.$parent;for(;t;t=t.$parent)t.$options._componentTag==="vizy-input"&&e.push(t);return e},refreshUnloadData(){setTimeout(()=>{const e=$("form[data-confirm-unload]");for(let t=0;t<e.length;t++){const n=$(e[t]),r=n.data("initialSerializedValue");if(r){let i=r;typeof n.data("serializer")=="function"?i=n.data("serializer")():i=n.serialize(),n.data("initialSerializedValue",i)}}},500)},isFocused(){return this.editor.isFocused&&!this.editor.isActive("vizyBlock")}}},UZ={key:1,class:"input text",style:{"margin-top":"20px"}},KZ=["name","value"];function qZ(e,t,n,r,i,o){const a=Ot("menu-bar"),l=Ot("code-editor"),f=Ot("editor-content"),h=Ot("block-picker");return xe(),Ie("div",null,[i.editor?(xe(),Ie("div",{key:0,class:Vt(["vui-rich-text",{"has-focus":o.isFocused()}])},[i.buttons.length?(xe(),Wt(a,{key:0,ref:"toolbar",buttons:i.buttons,editor:i.editor,field:this},null,8,["buttons","editor"])):Pt("",!0),at(l,{modelValue:i.codeEditorHtml,"onUpdate:modelValue":t[0]||(t[0]=p=>i.codeEditorHtml=p),visible:i.showCodeEditor,editor:i.editor,field:this},null,8,["modelValue","visible","editor"]),at(f,{class:Vt([{"code-view":i.showCodeEditor},"vui-editor"]),editor:i.editor},null,8,["class","editor"]),at(h,{editor:i.editor,field:this,"block-groups":n.settings.blockGroups},null,8,["editor","block-groups"])],2)):Pt("",!0),e.$isDebug?(xe(),Ie("div",UZ,Qe(o.jsonContent),1)):Pt("",!0),le("input",{type:"hidden",name:n.name,value:o.jsonContent},null,8,KZ)])}var GZ=_n(WZ,[["render",qZ]]),Wy={data:void 0};const C1=e=>e.reduce((t,n)=>(t[n]=n)&&t,{}),Uo=C1(["drag","dragend","dragenter","dragleave","dragstart","dragover","drop"]),JZ=C1(["copy","move","link","none"]),YZ=C1(["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"]),XZ={props:{draggable:{type:Boolean,default:!0},transferData:{},dropEffect:{validator:e=>e in JZ},effectAllowed:{validator:e=>e in YZ},image:String,imageXOffset:{type:Number,default:0},imageYOffset:{type:Number,default:0},hideImageHtml:{type:Boolean,default:!0},tag:{type:String,default:"div"}},data(){return{dragging:!1}},computed:{events:()=>Uo,scopedData(){return this.dragging&&this.transferData},hideImageStyle:()=>({position:"fixed",top:"-1000px"})},methods:{emitEvent(e,t){const n=t.dataTransfer;if([Uo.dragenter,Uo.dragover].includes(e)&&this.dropEffect&&(n.dropEffect=this.dropEffect),e===Uo.dragstart){if(this.effectAllowed&&(n.effectAllowed=this.effectAllowed),this.image||this.$slots.image||this.$refs.image){let r;this.image?(r=new Image,r.src=this.image):this.$refs.image?r=this.$refs.image:this.$slots.image&&(r=this.$slots.image[0].elm),n.setDragImage&&n.setDragImage(r,this.imageXOffset,this.imageYOffset)}this.transferData!==void 0&&(Wy.data=this.transferData,t.dataTransfer.setData("text","")),this.dragging=!0}this.$emit(e,this.transferData,t),e===Uo.dragend&&(Wy.data=void 0,this.dragging=!1)}}};function ZZ(e,t,n,r,i,o){return xe(),Wt(Xs(n.tag),{draggable:n.draggable,onDrag:t[0]||(t[0]=a=>o.emitEvent(o.events.drag,a)),onDragstart:t[1]||(t[1]=a=>o.emitEvent(o.events.dragstart,a)),onDragenter:t[2]||(t[2]=a=>o.emitEvent(o.events.dragenter,a)),onDragleave:t[3]||(t[3]=a=>o.emitEvent(o.events.dragleave,a)),onDragend:t[4]||(t[4]=a=>o.emitEvent(o.events.dragend,a))},{default:fn(()=>[In(e.$slots,"default",{transferData:o.scopedData}),n.hideImageHtml?(xe(),Ie("div",{key:0,ref:"image",style:Si(o.hideImageStyle)},[In(e.$slots,"image",{transferData:o.scopedData})],4)):In(e.$slots,"image",{key:1,transferData:o.scopedData})]),_:3},8,["draggable"])}var QZ=_n(XZ,[["render",ZZ]]);const qf=new Set,eQ={data(){return{transferData:void 0,isDraggingOver:!1}},props:{tag:{type:String,default:"div"}},computed:{events:()=>Uo,scopedData(){return this.isDraggingOver&&this.transferData}},methods:{emitEvent(e,t){this.transferData=Wy.data,this.$emit(e,this.transferData,t),e===Uo.dragenter&&(qf.size||t.target===this.$el)&&qf.add(t.target),e===Uo.dragleave&&qf.delete(t.target),e===Uo.drop&&qf.clear(),this.isDraggingOver=Boolean(qf.size)}}};function tQ(e,t,n,r,i,o){return xe(),Wt(Xs(n.tag),{onDragenter:t[0]||(t[0]=a=>o.emitEvent(o.events.dragenter,a)),onDragleave:t[1]||(t[1]=a=>o.emitEvent(o.events.dragleave,a)),onDragover:t[2]||(t[2]=Dt(a=>o.emitEvent(o.events.dragover,a),["prevent"])),onDrop:t[3]||(t[3]=Dt(a=>o.emitEvent(o.events.drop,a),["prevent"]))},{default:fn(()=>[In(e.$slots,"default",{transferData:o.scopedData})]),_:3})}var nQ=_n(eQ,[["render",tQ]]);const rQ={name:"VizyIconPicker",props:{inputClasses:{type:Object,default:()=>{}},modelValue:{type:Object,default:()=>{}}},emits:["update:modelValue"],data(){return{tippy:null,id:`icon-picker-${Craft.randomString(10)}`,icons:[],search:"",selected:null,isFetching:!1,tippyVisible:!1}},computed:{iconsFiltered(){return Xf(this.icons)?[]:this.icons.reduce((e,t)=>{const n=t.icons.filter(r=>r.label.toLowerCase().includes(this.search.toLowerCase()));return n.length?e.concat(Xt(ve({},t),{icons:n})):e},[])}},watch:{selected(e){this.$emit("update:modelValue",e)}},created(){this.modelValue&&(this.selected=this.modelValue)},mounted(){const e=this,t=this.$el.querySelector(".js-vui-tippy-template");t.style.display="block",this.tippy=gi(`#${this.id}`,{content:t,trigger:"focus",allowHTML:!0,arrow:!0,interactive:!0,placement:"bottom-start",theme:"light-border icon-picker",maxWidth:"none",zIndex:10,hideOnClick:!1,onCreate(n){e.isFetching=!1,n.popper.style.width="100%"},onShow(n){e.tippyVisible=!0,!(e.isFetching||e.icons.length)&&(e.isFetching=!0,fetch(Craft.getActionUrl("vizy/icons")).then(r=>r.json()).then(r=>{e.icons=r}).catch(r=>{n.setContent(`Request failed. ${r}`)}).finally(()=>{e.isFetching=!1}))},onHide(n){e.isFetching=!1,e.tippyVisible=!1},onHidden(n){e.search=""}})},methods:{select(e){this.selected=e,this.tippy[0].hide()},deleteIcon(){this.selected=null}}},iQ={key:0,class:"vui-icon-input-item"},oQ=["innerHTML"],sQ={class:"vui-icon-input-label"},aQ=["id"],lQ=le("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fal","data-icon":"times",class:"svg-inline--fa fa-times fa-w-10",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},[le("path",{fill:"currentColor",d:"M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"})],-1),uQ=[lQ],fQ={class:"vui-icons-pane js-vui-tippy-template",style:{display:"none"}},cQ={key:0,class:"vui-no-icons"},dQ=le("span",{class:"vui-loading"},null,-1),hQ=[dQ],pQ={key:1,class:"vui-icons-groups"},gQ={class:"vui-icons-group-name"},mQ={class:"vui-icons"},vQ=["title","onClick"],yQ=["innerHTML"],bQ={class:"vui-icon-label"},_Q={key:2,class:"vui-no-icons"};function wQ(e,t,n,r,i,o){return xe(),Ie("div",null,[le("div",{class:Vt(["vui-icon-input",{"tippy-visible":i.tippyVisible}])},[i.selected&&!i.tippyVisible?(xe(),Ie("div",iQ,[le("div",{class:"vui-icon-input-svg",innerHTML:i.selected.svg},null,8,oQ),le("span",sQ,Qe(i.selected.label),1)])):Pt("",!0),Rn(le("input",{id:i.id,"onUpdate:modelValue":t[0]||(t[0]=a=>i.search=a),type:"text",autocomplete:"off",autocorrect:"off",autocapitalize:"off",class:Vt(n.inputClasses)},null,10,aQ),[[qr,i.search]]),i.selected?(xe(),Ie("button",{key:1,type:"button",class:"vui-icon-input-delete",onClick:t[1]||(t[1]=Dt((...a)=>o.deleteIcon&&o.deleteIcon(...a),["prevent"]))},uQ)):Pt("",!0)],2),le("div",fQ,[i.isFetching?(xe(),Ie("div",cQ,hQ)):Object.keys(o.iconsFiltered).length?(xe(),Ie("div",pQ,[(xe(!0),Ie(Tt,null,Dn(o.iconsFiltered,(a,l)=>(xe(),Ie("div",{key:l,class:"vui-icons-group"},[le("span",gQ,Qe(a.name),1),le("div",mQ,[(xe(!0),Ie(Tt,null,Dn(a.icons,(f,h)=>(xe(),Ie("div",{key:h,class:"vui-icon-wrap",title:`${f.label} (${a.name})`,onClick:Dt(p=>o.select(f),["prevent"])},[le("div",{class:"vui-icon-svg",innerHTML:f.svg},null,8,yQ),le("span",bQ,Qe(f.label),1)],8,vQ))),128))])]))),128))])):(xe(),Ie("div",_Q,Qe(e.t("vizy","No icons match your query.")),1))])])}var kQ=_n(rQ,[["render",wQ]]);const xQ={name:"FieldLayoutDesigner",props:{layoutUid:{type:String,default:null},fieldId:{type:String,default:null},blockTypeId:{type:String,default:null},modelValue:{type:[Object,Array,String],default:()=>{}}},emits:["update:modelValue"],data(){return{error:!1,errorMessage:"",loading:!1,mounted:!1,proxyValue:{}}},watch:{proxyValue(e){this.$emit("update:modelValue",e)}},created(){this.proxyValue=this.modelValue},mounted(){this.loading=!0;const e=[];this.fieldId&&e.push(this.fieldId);const n=/fields\/edit\/(\d*)$/g.exec(window.location.href);n&&n[1]&&e.push(n[1]);const r={fieldIds:e,layoutUid:this.layoutUid,blockTypeId:this.blockTypeId,layout:this.proxyValue};Craft.sendActionRequest("POST","vizy/field/layout-designer",{data:r}).then(i=>{if(i.data.html)this.$el.innerHTML=i.data.html,Craft.appendBodyHtml(i.data.footHtml),this.watchForChanges(),this.mounted=!0;else throw new Error(i.data)}).catch(i=>{this.error=!0,this.errorMessage=i,this.loading=!1})},methods:{watchForChanges(){const e=FA(this.serializeLayout,250);new MutationObserver(n=>{e()}).observe(this.$el,{childList:!0,attributes:!0,subtree:!0,characterData:!0})},serializeLayout(){if(!this.mounted)return;const e=this.$el.querySelector('input[name="fieldLayout"]').value;this.proxyValue=e}}},CQ={ref:"fld-container",class:"vui-block-editor-layout"},SQ={class:"vui-workspace"},TQ={key:0,class:"vui-loading-pane"},EQ=le("div",{class:"vui-loading fui-loading-lg"},null,-1),AQ=[EQ],OQ={key:1,class:"vui-error-pane error"},DQ={class:"vui-error-content"},MQ=le("span",{"data-icon":"alert"},null,-1),NQ=["innerHTML"];function LQ(e,t,n,r,i,o){return xe(),Ie("div",CQ,[le("div",SQ,[i.loading?(xe(),Ie("div",TQ,AQ)):Pt("",!0),i.error?(xe(),Ie("div",OQ,[le("div",DQ,[MQ,le("span",{class:"error",innerHTML:i.errorMessage},null,8,NQ)])])):Pt("",!0)])],512)}var PQ=_n(xQ,[["render",LQ]]);const IQ=pn({name:"default-section",props:{section:{type:Object,required:!0},currentIndex:{type:[Number,String],required:!1,default:1/0},renderSuggestion:{type:Function,required:!1},normalizeItemFunction:{type:Function,required:!0},componentAttrPrefix:{type:String,required:!0},componentAttrIdAutosuggest:{type:String,required:!0}},data:function(){return{_currentIndex:this.currentIndex}},computed:{list:function(){let{limit:e,data:t}=this.section;return t.length<e&&(e=t.length),t.slice(0,e)}},methods:{getItemIndex(e){return this.section.start_index+e},getItemByIndex(e){return this.section.data[e]},onMouseEnter(e){const t=parseInt(e.currentTarget.getAttribute("data-suggestion-index"));this._currentIndex=t,this.$emit("updateCurrentIndex",t)},onMouseLeave(){this.$emit("updateCurrentIndex",null)}},render(){const e=this.componentAttrPrefix,t={beforeSection:this.$slots[`before-section-${this.section.name}`],afterSectionDefault:this.$slots["after-section"],afterSectionNamed:this.$slots[`after-section-${this.section.name}`]},n=`${e}__results-before ${e}__results-before--${this.section.name}`,r=t.beforeSection&&t.beforeSection({section:this.section,className:n}).filter(i=>i.type!==Tt&&i.children.length===0)||[];return Xn("ul",{role:"listbox",class:this.section.ulClass,"aria-labelledby":this.section.label&&`${this.componentAttrIdAutosuggest}-${this.section.label}`},[r[0]&&r[0]||this.section.label&&Xn("li",{class:n,id:`${this.componentAttrIdAutosuggest}-${this.section.label}`},[this.section.label])||"",this.list.map((i,o)=>{const a=this.normalizeItemFunction(this.section.name,this.section.type,this.section.label,this.section.liClass,i),l=this.getItemIndex(o),f=this._currentIndex===l||parseInt(this.currentIndex)===l;return Xn("li",Xt(ve({role:"option","data-suggestion-index":l,"data-section-name":a.name,id:`${e}__results-item--${l}`},a.liAttributes),{key:l,class:ve({[`${e}__results-item--highlighted`]:f,[`${e}__results-item`]:!0},a.liClass),onMouseenter:this.onMouseEnter,onMouseleave:this.onMouseLeave}),[this.renderSuggestion?this.renderSuggestion(a):this.$slots.default&&this.$slots.default({_key:o,suggestion:a})])}),t.afterSectionDefault&&t.afterSectionDefault({section:this.section,className:`${e}__results-after ${e}__results-after--${this.section.name}`}),t.afterSectionNamed&&t.afterSectionNamed({section:this.section,className:`${e}__results_after ${e}__results-after--${this.section.name}`})])}});function FQ(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function RQ(e,t){FQ(e,t)||(e.className+=" "+t)}function BQ(e,t){e.classList&&e.classList.remove(t)}const A2=-1,O2={name:"default",type:"default-section"},zQ={name:"Autosuggest",components:{DefaultSection:IQ},inheritAttrs:!1,props:{modelValue:{type:String,default:null},inputProps:{type:Object,required:!0},limit:{type:Number,required:!1,default:1/0},suggestions:{type:Array,required:!0},renderSuggestion:{type:Function,required:!1,default:null},getSuggestionValue:{type:Function,required:!1,default:e=>{const t=e.item;return typeof t=="object"&&t.hasOwnProperty("name")?t.name:t}},shouldRenderSuggestions:{type:Function,required:!1,default:(e,t)=>e>0&&!t},sectionConfigs:{type:Object,required:!1,default:()=>({default:{onSelected:null}})},onSelected:{type:Function,required:!1,default:null},componentAttrIdAutosuggest:{type:String,required:!1,default:"autosuggest"},componentAttrClassAutosuggestResultsContainer:{type:String,required:!1,default:null},componentAttrClassAutosuggestResults:{type:String,required:!1,default:null},componentAttrPrefix:{type:String,required:!1,default:"autosuggest"},class:null,style:null},data(){return{internalValue:null,searchInputOriginal:null,currentIndex:null,currentItem:null,loading:!1,didSelectFromOptions:!1,defaultInputProps:{type:"text",autocomplete:"off"},clientXMouseDownInitial:null}},computed:{internal_inputProps(){return ve(ve(ve({},this.defaultInputProps),this.inputProps),this.listeners)},listeners(){return{onInput:e=>{},onClick:()=>{this.loading=!1,this.$attrs.click&&this.$attrs.click(this.currentItem),this.$nextTick(()=>{this.ensureItemVisible(this.currentItem,this.currentIndex)})},onSelected:()=>{this.currentItem&&this.sectionConfigs[this.currentItem.name]&&this.sectionConfigs[this.currentItem.name].onSelected?this.sectionConfigs[this.currentItem.name].onSelected(this.currentItem,this.searchInputOriginal):this.sectionConfigs.default.onSelected?this.sectionConfigs.default.onSelected(null,this.searchInputOriginal):this.onSelected&&this.$emit("selected",this.currentItem,this.currentIndex),this.setChangeItem(null)}}},isOpen(){return this.shouldRenderSuggestions(this.totalResults,this.loading)},computedSections(){let e=0;return this.suggestions.map(t=>{if(!t.data)return;const n=t.name?t.name:O2.name;let r,i,o,a,l=null;this.sectionConfigs[n]&&(r=this.sectionConfigs[n].limit,o=this.sectionConfigs[n].type,i=this.sectionConfigs[n].label,a=this.sectionConfigs[n].ulClass,l=this.sectionConfigs[n].liClass),o=o||O2.type,r=r||this.limit,r=r||1/0,r=t.data.length<r?t.data.length:r,i=i||t.label;const f={name:n,label:i,type:o,limit:r,data:t.data,start_index:e,end_index:e+r-1,ulClass:a,liClass:l};return e+=r,f})},totalResults(){return this.computedSections.reduce((e,t)=>{if(!t)return e;const{limit:n,data:r}=t;return e+(r.length>=n?n:r.length)},0)},_componentAttrClassAutosuggestResultsContainer(){return this.componentAttrClassAutosuggestResultsContainer||`${this.componentAttrPrefix}__results-container`},_componentAttrClassAutosuggestResults(){return this.componentAttrClassAutosuggestResults||`${this.componentAttrPrefix}__results`}},watch:{value:{handler(e){this.internalValue=e},immediate:!0},isOpen:{handler(e,t){e!==t&&this.$emit(e?"opened":"closed")},immediate:!0}},created(){this.loading=!0},mounted(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("mousedown",this.onDocumentMouseDown)},beforeUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("mousedown",this.onDocumentMouseDown)},methods:{afterSlot(e){return`after-section-${e.name||e.label}`},beforeSlot(e){return`before-section-${e.name||e.label}`},inputHandler(e){const t=e.target.value;this.$emit("update:modelValue",t),this.internalValue=t,this.didSelectFromOptions||(this.searchInputOriginal=t,this.currentIndex=null)},getSectionRef(e){return"computed_section_"+e},getItemByIndex(e){let t=!1;if(e===null)return t;for(var n=0;n<this.computedSections.length;n++)if(e>=this.computedSections[n].start_index&&e<=this.computedSections[n].end_index){let r=e-this.computedSections[n].start_index;this.computedSections[n].name;let i=this.computedSections[n].data[r];if(i){t=this.normalizeItem(this.computedSections[n].name,this.computedSections[n].type,i.name,"",i);break}}return t},handleKeyStroke(e){const{keyCode:t}=e;if([16,9,17,18,91,93].indexOf(t)>-1)return;const r=!this.isOpen;if(this.loading=!1,this.didSelectFromOptions=!1,this.isOpen)switch(t){case 40:case 38:if(e.preventDefault(),t===38&&this.currentIndex===null)break;const i=t===40?1:-1,o=Math.max((parseInt(this.currentIndex)||0)+(r?0:i),A2);this.setCurrentIndex(o,this.totalResults),this.didSelectFromOptions=!0,this.totalResults>0&&this.currentIndex>=0?(this.setChangeItem(this.getItemByIndex(this.currentIndex)),this.didSelectFromOptions=!0):this.currentIndex===A2&&(this.setChangeItem(null),this.internalValue=this.searchInputOriginal,e.preventDefault()),this.$nextTick(()=>{this.ensureItemVisible(this.currentItem,this.currentIndex)});break;case 13:e.preventDefault(),this.totalResults>0&&this.currentIndex>=0&&(this.setChangeItem(this.getItemByIndex(this.currentIndex),!0),this.didSelectFromOptions=!0),this.loading=!0,this.listeners.onSelected(this.didSelectFromOptions);break;case 27:this.loading=!0,this.currentIndex=null,this.internalValue=this.searchInputOriginal,this.$emit("input",this.searchInputOriginal),e.preventDefault();break}},setChangeItem(e,t=!1){if(this.currentIndex===null||!e)this.currentItem=null,this.$emit("item-changed",null,null);else if(e){this.currentItem=e,this.$emit("item-changed",e,this.currentIndex);const n=this.getSuggestionValue(e);this.internalValue=n,t&&(this.searchInputOriginal=n),this.ensureItemVisible(e,this.currentIndex)}},normalizeItem(e,t,n,r,i){return{name:e,type:t,label:n,liClass:i.liClass||r,item:i}},ensureItemVisible(e,t,n){const r=this.$el.querySelector(n||`.${this._componentAttrClassAutosuggestResults}`);if(!r)return;const i=r.querySelector(`#${this.componentAttrPrefix}__results-item--${t}`);if(!i)return;const o=r.clientHeight,a=r.scrollTop,l=i.clientHeight,f=i.offsetTop;l+f>=a+o?r.scrollTop=l+f-o:f<a&&a>0&&(r.scrollTop=f)},updateCurrentIndex(e){this.setCurrentIndex(e,-1,!0)},clickedOnScrollbar(e,t){const n=this.$el.querySelector(`.${this._componentAttrClassAutosuggestResults}`),r=n&&n.clientWidth<=t+17&&t+17<=n.clientWidth+34;return e.target.tagName==="DIV"&&n&&r||!1},onDocumentMouseDown(e){var t=e.target.getBoundingClientRect?e.target.getBoundingClientRect():0;this.clientXMouseDownInitial=e.clientX-t.left},onDocumentMouseUp(e){if(!this.$el.contains(e.target)){this.loading=!0,this.currentIndex=null;return}e.target.tagName==="INPUT"||this.clickedOnScrollbar(e,this.clientXMouseDownInitial)||(this.loading=!0,this.didSelectFromOptions=!0,this.setChangeItem(this.getItemByIndex(this.currentIndex),!0),this.listeners.onSelected(!0))},setCurrentIndex(e,t=-1,n=!1){let r=e;if(!n){const a=this.currentIndex===null,l=e>=t;(a||l)&&(r=0)}this.currentIndex=r;const i=this.$el.querySelector(`#${this.componentAttrPrefix}__results-item--${this.currentIndex}`),o=`${this.componentAttrPrefix}__results-item--highlighted`;this.$el.querySelector(`.${o}`)&&BQ(this.$el.querySelector(`.${o}`),o),i&&RQ(i,o)}}},$Q=["id"],HQ=["aria-expanded","aria-owns"],jQ=["type","value","autocomplete","aria-activedescendant","aria-controls"],VQ=["id"],WQ=["aria-labelledby"];function UQ(e,t,n,r,i,o){return xe(),Ie("div",{id:n.componentAttrIdAutosuggest,class:Vt(e.$props.class),style:Si(e.$props.style)},[In(e.$slots,"before-input"),le("div",{role:"combobox","aria-expanded":o.isOpen?"true":"false","aria-haspopup":"listbox","aria-owns":`${n.componentAttrIdAutosuggest}-${n.componentAttrPrefix}__results`},[le("input",fi({type:o.internal_inputProps.type,value:i.internalValue,autocomplete:o.internal_inputProps.autocomplete,class:[o.isOpen?`${n.componentAttrPrefix}__input--open`:"",o.internal_inputProps.class]},o.internal_inputProps,{"aria-autocomplete":"list","aria-activedescendant":o.isOpen&&i.currentIndex!==null?`${n.componentAttrPrefix}__results-item--${i.currentIndex}`:"","aria-controls":`${n.componentAttrIdAutosuggest}-${n.componentAttrPrefix}__results`,onInput:t[0]||(t[0]=(...a)=>o.inputHandler&&o.inputHandler(...a)),onKeydown:t[1]||(t[1]=(...a)=>o.handleKeyStroke&&o.handleKeyStroke(...a))}),null,16,jQ)],8,HQ),In(e.$slots,"after-input"),le("div",{id:`${n.componentAttrIdAutosuggest}-${n.componentAttrPrefix}__results`,class:Vt(o._componentAttrClassAutosuggestResultsContainer)},[o.isOpen?(xe(),Ie("div",{key:0,class:Vt(o._componentAttrClassAutosuggestResults),"aria-labelledby":n.componentAttrIdAutosuggest},[In(e.$slots,"before-suggestions"),(xe(!0),Ie(Tt,null,Dn(o.computedSections,(a,l)=>(xe(),Wt(Xs(a.type),{ref_for:!0,ref:o.getSectionRef(`${a.name}${l}`),key:o.getSectionRef(`${a.name}${l}`),"current-index":i.currentIndex,"normalize-item-function":o.normalizeItem,"render-suggestion":n.renderSuggestion,section:a,"component-attr-prefix":n.componentAttrPrefix,"component-attr-id-autosuggest":n.componentAttrIdAutosuggest,onUpdateCurrentIndex:o.updateCurrentIndex},{[o.beforeSlot(a)]:fn(({section:f,className:h})=>[In(e.$slots,o.beforeSlot(a),{section:f,className:h})]),default:fn(({suggestion:f,_key:h})=>[In(e.$slots,"default",{suggestion:f,index:h},()=>[ds(Qe(f.item),1)])]),[o.afterSlot(a)]:fn(({section:f})=>[In(e.$slots,`after-section-${a.name||a.label}`,{section:f})]),"after-section":fn(({section:f})=>[In(e.$slots,"after-section",{section:f})]),_:2},1032,["current-index","normalize-item-function","render-suggestion","section","component-attr-prefix","component-attr-id-autosuggest","onUpdateCurrentIndex"]))),128)),In(e.$slots,"after-suggestions")],10,WQ)):Pt("",!0),In(e.$slots,"after-suggestions-container")],10,VQ)],14,$Q)}var KQ=_n(zQ,[["render",UQ]]);const qQ={name:"AutoSuggest",components:{VueAutosuggest:KQ},props:{id:{type:String,default:""},suggestions:{type:[Object,Array],default:()=>[]},modelValue:{type:String,default:""}},emits:["update:modelValue"],data(){return{query:"",selected:"",filteredOptions:[],inputProps:{class:"text fullwidth",initialValue:this.modelValue,style:"",id:this.id,name:this.id,maxlength:"",autofocus:!1,disabled:!1,title:"",placeholder:""},limit:5}},methods:{onInputChange(e){this.query=(e||"").toLowerCase(),this.updateFilteredOptions()},updateFilteredOptions(){if(this.query===""){this.filteredOptions=this.suggestions;return}const e=[];let t,n,r,i;for(t=0;t<this.suggestions.length;t++){for(r=[],n=0;n<this.suggestions[t].data.length;n++)i=this.suggestions[t].data[n],((i.name||i).toLowerCase().indexOf(this.query)!==-1||i.hint&&i.hint.toLowerCase().indexOf(this.query)!==-1)&&r.push(i.name?i:{name:i});r.length&&(r.sort((o,a)=>{const l=this.scoreItem(o,this.query),f=this.scoreItem(a,this.query);return l===f?0:l<f?1:-1}),e.push({label:this.suggestions[t].label||null,data:r.slice(0,this.limit)}))}this.filteredOptions=e},scoreItem(e){let t=0;return e.name.toLowerCase().indexOf(this.query)!==-1&&(t+=100+this.query.length/e.name.length),e.hint&&e.hint.toLowerCase().indexOf(this.query)!==-1&&(t+=this.query.length/e.hint.length),t},onSelected(e){if(this.selected=e.item,this.$emit("update:modelValue",e.item.name),e.item.name[0]=="@"){const t=this.$el.querySelector("input");t.focus(),t.selectionStart=t.selectionEnd=t.value.length}},getSuggestionValue(e){return e.item.name||e.item},onBlur(e){e.relatedTarget&&(this.filteredOptions=[])}}},GQ={key:0,class:"light"};function JQ(e,t,n,r,i,o){const a=Ot("vue-autosuggest");return xe(),Wt(a,{modelValue:i.inputProps.initialValue,"onUpdate:modelValue":[t[0]||(t[0]=l=>i.inputProps.initialValue=l),o.onInputChange],suggestions:i.filteredOptions,"get-suggestion-value":o.getSuggestionValue,"input-props":i.inputProps,limit:i.limit,"component-attr-id-autosuggest":n.id,onSelected:o.onSelected,onFocus:o.updateFilteredOptions,onBlur:o.onBlur},{default:fn(({suggestion:l})=>[ds(Qe(l.item.name||l.item)+" ",1),l.item.hint?(xe(),Ie("span",GQ,"\u2013 "+Qe(l.item.hint),1)):Pt("",!0)]),_:1},8,["modelValue","suggestions","get-suggestion-value","input-props","limit","component-attr-id-autosuggest","onSelected","onFocus","onBlur","onUpdate:modelValue"])}var YQ=_n(qQ,[["render",JQ]]);const XQ={name:"HandleInput",props:{id:{type:String,default:""},sourceValue:{type:String,default:""},collection:{type:Array,default:()=>[]},modelValue:{type:String,default:""}},emits:["update:modelValue"],data(){return{savedValue:"",proxyValue:""}},watch:{sourceValue(e){this.savedValue===""&&this.generateHandle()},proxyValue(e){this.$emit("update:modelValue",e)}},created(){this.savedValue=this.modelValue,this.proxyValue=this.modelValue},methods:{generateHandle(e){let t=IY(this.sourceValue);this.collection.length&&(t=qM(this.collection,t,0)),this.proxyValue=t}}};function ZQ(e,t,n,r,i,o){return Rn((xe(),Ie("input",{id:"id","onUpdate:modelValue":t[0]||(t[0]=a=>i.proxyValue=a),type:"text",class:"text fullwidth code",autocomplete:"off",autocorrect:"off",autocapitalize:"off"},null,512)),[[qr,i.proxyValue]])}var QQ=_n(XQ,[["render",ZQ]]);const eee=function(){return window.safari!==void 0},tee={name:"VizySettings",components:{VizyIconPicker:kQ,LightswitchField:sM,FieldLayoutDesigner:PQ,AutoSuggest:YQ,HandleInput:QQ,Drag:QZ,Drop:nQ},props:{fieldName:{type:String,required:!0},errors:{type:[Object,Array],default:()=>{}}},data(){return{selectedBlockType:null,isSafari:eee(),emptySvg:'<svg height="100" viewBox="0 0 50 50" width="100"></svg>',fieldData:[],settings:{}}},computed:{handleCollection(){const e=[];return Array.isArray(this.fieldData)&&this.fieldData.forEach(t=>{t.blockTypes.forEach(n=>{n!==this.selectedBlockType&&e.push(n.handle)})}),e}},created(){this.fieldData=this.$root.fieldData,this.settings=this.$root.settings},mounted(){},methods:{updateSelectedBlockType(e,t=!1){this.selectedBlockType=null,this.$nextTick(()=>{this.selectedBlockType=e,this.$nextTick(()=>{this.$refs["name-field"].value||this.$refs["name-field"].focus()})})},selectBlockType(e){this.selectedBlockType===e?this.selectedBlockType=null:this.updateSelectedBlockType(e)},getErrors(e,t=""){let n=[];const r=`${e.id}:${t}`;return this.errors&&(n=Object.keys(this.errors).filter(i=>i.includes(r)).map(i=>this.errors[i][0])),n},hasErrors(e,t=""){return this.getErrors(e,t).length},addBlockType(e){e.blockTypes||(e.blockTypes=[]),e.blockTypes.push({id:Hy("type-"),enabled:!0}),this.updateSelectedBlockType(e.blockTypes[e.blockTypes.length-1],!0)},addGroup(){const e=prompt(Craft.t("vizy","Give your group a name."));e&&this.fieldData.push({id:Hy("group-"),name:e,blockTypes:[]})},deleteBlockType(){const e=Craft.t("vizy","Are you sure you want to delete \u201C{name}\u201D? This will permanently delete all content created with this block type.",{name:this.selectedBlockType.name});if(confirm(e))for(let t=0;this.fieldData.length;t++){const n=this.fieldData[t].blockTypes.indexOf(this.selectedBlockType);if(n!==-1){this.fieldData[t].blockTypes.splice(n,1),this.selectedBlockType=null;break}}},deleteGroup(e){const t=Craft.t("vizy","Are you sure you want to delete \u201C{name}\u201D? This will permanently delete all content created with any of these block types.",{name:e.name});if(confirm(t)){const n=this.fieldData.indexOf(e);n!==-1&&(this.fieldData.splice(n,1),this.selectedBlockType=null)}},moveGroupUp(e){const t=this.fieldData.indexOf(e),n=t-1,[r]=this.fieldData.splice(t,1);this.fieldData.splice(n,0,r)},moveGroupDown(e){const t=this.fieldData.indexOf(e),n=t+1,[r]=this.fieldData.splice(t,1);this.fieldData.splice(n,0,r)},dragEnter(e,t){!t||t.target.parentNode.classList.add("is-active")},dragLeave(e,t){!t||t.target.parentNode.classList.remove("is-active")},dragDrop(e,t){if(!t)return;t.target.parentNode.classList.remove("is-active");const n=parseInt(e.groupIndex),r=parseInt(e.blockTypeIndex),i=parseInt(t.target.getAttribute("data-group"));let o=parseInt(t.target.getAttribute("data-block"));if(n===i&&r===o||n===i&&r===o-1)return;n===i&&r<o&&(o=o-1);const[a]=this.fieldData[n].blockTypes.splice(r,1);this.fieldData[i].blockTypes||(this.fieldData[i].blockTypes=[]),this.fieldData[i].blockTypes.splice(o,0,a)}}},nee={class:"vui-workspace"},ree=["name","value"],iee={class:"vui-popover"},oee={class:"vui-popover-inner"},see={key:0},aee={class:"vui-block-items-header"},lee=["onBlur","innerHTML"],uee={class:"vui-block-items-header-actions"},fee=["onClick"],cee=le("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"arrow-up",class:"svg-inline--fa fa-arrow-up fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[le("path",{fill:"currentColor",d:"M6.101 261.899L25.9 281.698c4.686 4.686 12.284 4.686 16.971 0L198 126.568V468c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12V126.568l155.13 155.13c4.686 4.686 12.284 4.686 16.971 0l19.799-19.799c4.686-4.686 4.686-12.284 0-16.971L232.485 35.515c-4.686-4.686-12.284-4.686-16.971 0L6.101 244.929c-4.687 4.686-4.687 12.284 0 16.97z"})],-1),dee=[cee],hee=["onClick"],pee=le("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"arrow-down",class:"svg-inline--fa fa-arrow-down fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[le("path",{fill:"currentColor",d:"M441.9 250.1l-19.8-19.8c-4.7-4.7-12.3-4.7-17 0L250 385.4V44c0-6.6-5.4-12-12-12h-28c-6.6 0-12 5.4-12 12v341.4L42.9 230.3c-4.7-4.7-12.3-4.7-17 0L6.1 250.1c-4.7 4.7-4.7 12.3 0 17l209.4 209.4c4.7 4.7 12.3 4.7 17 0l209.4-209.4c4.7-4.7 4.7-12.3 0-17z"})],-1),gee=[pee],mee=["onClick"],vee={class:"vui-block-items"},yee=["onClick"],bee={class:"dropzone-vertical-left"},_ee=le("div",{class:"dashed-dropzone dashed-dropzone-vertical"},null,-1),wee=["innerHTML"],kee={class:"vui-block-item-heading"},xee={class:"vui-block-item",style:{width:"90px",height:"62px",background:"white"}},Cee=["innerHTML"],See={class:"vui-block-item-heading"},Tee={key:0,class:"dropzone-vertical-right"},Eee=le("div",{class:"dashed-dropzone dashed-dropzone-vertical"},null,-1),Aee=["onClick"],Oee={key:0},Dee={class:"dropzone-vertical-left"},Mee=le("div",{class:"dashed-dropzone dashed-dropzone-vertical"},null,-1),Nee=le("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"plus",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",class:"svg-inline--fa fa-plus fa-w-12"},[le("path",{fill:"currentColor",d:"M368 224H224V80c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v144H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h144v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V288h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"})],-1),Lee={class:"vui-block-item-heading"},Pee={key:0},Iee=le("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"plus",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",class:"svg-inline--fa fa-plus fa-w-12"},[le("path",{fill:"currentColor",d:"M368 224H224V80c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v144H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h144v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V288h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"})],-1),Fee={class:"vui-block-item-heading"},Ree={key:0,class:"vui-block-editor"},Bee={class:"vui-block-titlebar"},zee={class:"blocktype"},$ee={class:"vui-block-titlebar-actions"},Hee={key:0,class:"errors"},jee={class:"field"},Vee={class:"heading"},Wee={id:"name-field-label",class:"required",for:"name"},Uee={id:"name-field-instructions",class:"instructions"},Kee={class:"input ltr"},qee={key:0,class:"errors"},Gee={class:"field"},Jee={class:"heading"},Yee={id:"handle-field-label",class:"required",for:"handle"},Xee={id:"handle-field-instructions",class:"instructions"},Zee={class:"input ltr"},Qee={key:0,class:"errors"},ete={class:"field"},tte={class:"heading"},nte={id:"icon-field-label",class:"required",for:"icon"},rte={id:"icon-field-instructions",class:"instructions"},ite={class:"input ltr"},ote={key:0,class:"errors"},ste={class:"field"},ate={class:"heading"},lte={id:"template-field-label",for:"template"},ute={id:"template-field-instructions",class:"instructions"},fte={class:"input ltr"},cte={key:0,class:"errors"},dte={class:"field"},hte={class:"heading"},pte={id:"layout-field-label",class:"required",for:"layout"},gte={id:"layout-field-instructions",class:"instructions"},mte={class:"input ltr"},vte={key:1,class:"vui-block-editor-empty"},yte={key:0},bte={key:1},_te=le("svg",{xmlns:"http://www.w3.org/2000/svg",width:"68px",height:"32.9px",viewBox:"0 0 68 32.9"},[le("path",{fill:"currentColor",d:"M8.2,32.9c-0.3,0-0.6-0.2-0.7-0.5c-0.7-2.2-2.3-3.6-3.9-5.1c-1.3-1.2-2.6-2.5-3.6-4.1c-0.1-0.2-0.1-0.5,0-0.7s0.3-0.4,0.6-0.4c2.1-0.2,9.2-1,11.8-3.2c0.3-0.3,0.8-0.2,1.1,0.1c0.3,0.3,0.2,0.8-0.1,1.1c-2.5,2.1-8.1,3-11.4,3.4c0.8,1,1.7,1.9,2.6,2.8C6.4,27.8,8.1,29.4,9,32c0.1,0.4-0.1,0.8-0.5,0.9C8.4,32.9,8.3,32.9,8.2,32.9z M30,30.8c-8.1,0-16.5-1.8-24-5.4c-0.4-0.2-0.5-0.6-0.4-1s0.6-0.5,1-0.4c14.3,6.9,32.1,7,44.2,0.4c9-4.9,14.4-13.1,15.7-23.8C66.6,0.2,67,0,67.4,0c0.4,0.1,0.7,0.4,0.7,0.8C66.7,12,61,20.6,51.5,25.7C45.4,29.1,37.8,30.8,30,30.8z"})],-1);function wte(e,t,n,r,i,o){const a=Ot("drop"),l=Ot("drag"),f=Ot("lightswitch-field"),h=Ot("handle-input"),p=Ot("vizy-icon-picker"),m=Ot("auto-suggest"),v=Ot("field-layout-designer");return xe(),Ie("div",nee,[le("div",null,[le("textarea",{class:"hidden fullwidth",rows:"20",name:n.fieldName,value:JSON.stringify(i.fieldData)},null,8,ree)]),le("div",iee,[le("div",oee,[(xe(!0),Ie(Tt,null,Dn(i.fieldData,(b,_)=>(xe(),Ie("div",{key:_,class:"vui-block-group"},[_>0?(xe(),Ie("hr",see)):Pt("",!0),le("div",aee,[le("span",{class:"vui-block-items-header-text",contenteditable:"true",onBlur:k=>b.name=k.target.innerText,innerHTML:b.name},null,40,lee),le("div",uee,[_>0?(xe(),Ie("button",{key:0,class:"vui-block-items-header-move",onClick:Dt(k=>o.moveGroupUp(b),["prevent"])},dee,8,fee)):Pt("",!0),_<i.fieldData.length-1?(xe(),Ie("button",{key:1,class:"vui-block-items-header-move",onClick:Dt(k=>o.moveGroupDown(b),["prevent"])},gee,8,hee)):Pt("",!0),le("button",{class:"vui-block-items-header-delete",onClick:Dt(k=>o.deleteGroup(b),["prevent"])},Qe(e.t("site","Delete")),9,mee)])]),le("div",vee,[(xe(!0),Ie(Tt,null,Dn(b.blockTypes,(k,C)=>(xe(),Ie("div",{key:C,class:Vt(["vui-block-item",{active:i.selectedBlockType===k,"has-error":o.hasErrors(k)}]),onClick:Dt(E=>o.selectBlockType(k),["prevent"])},[le("div",bee,[at(a,{"data-group":_,"data-block":C,class:"dropzone-vertical",onDrop:o.dragDrop,onDragenter:o.dragEnter,onDragleave:o.dragLeave},null,8,["data-group","data-block","onDrop","onDragenter","onDragleave"]),_ee]),at(l,{"transfer-data":{groupIndex:_,blockTypeIndex:C}},_b({default:fn(()=>[le("div",{innerHTML:k.icon?k.icon.svg:i.emptySvg},null,8,wee),le("span",kee,Qe(k.name),1),le("span",{class:Vt(["vui-block-item-status",{on:k.enabled}])},null,2)]),_:2},[i.isSafari?void 0:{name:"image",fn:fn(()=>[le("div",xee,[le("div",{innerHTML:k.icon?k.icon.svg:i.emptySvg},null,8,Cee),le("span",See,Qe(k.name),1),le("span",{class:Vt(["vui-block-item-status",{on:k.enabled}])},null,2)])])}]),1032,["transfer-data"]),C==b.blockTypes.length-1?(xe(),Ie("div",Tee,[at(a,{"data-group":_,"data-block":C+1,class:"dropzone-vertical",onDrop:o.dragDrop,onDragenter:o.dragEnter,onDragleave:o.dragLeave},null,8,["data-group","data-block","onDrop","onDragenter","onDragleave"]),Eee])):Pt("",!0)],10,yee))),128)),le("div",{class:"vui-block-item vui-block-new-item",onClick:Dt(k=>o.addBlockType(b),["prevent"])},[!b.blockTypes||!b.blockTypes.length?(xe(),Ie("div",Oee,[le("div",Dee,[at(a,{"data-group":_,"data-block":0,class:"dropzone-vertical",onDrop:o.dragDrop,onDragenter:o.dragEnter,onDragleave:o.dragLeave},null,8,["data-group","onDrop","onDragenter","onDragleave"]),Mee])])):Pt("",!0),Nee,le("span",Lee,Qe(e.t("vizy","Add Block")),1)],8,Aee)])]))),128)),i.fieldData.length?(xe(),Ie("hr",Pee)):Pt("",!0),le("div",{class:"vui-block-item vui-block-new-item vui-block-new-group",onClick:t[0]||(t[0]=Dt((...b)=>o.addGroup&&o.addGroup(...b),["prevent"]))},[Iee,le("span",Fee,Qe(e.t("vizy","Add Group")),1)])])]),i.selectedBlockType?(xe(),Ie("div",Ree,[le("div",Bee,[le("div",zee,Qe(i.selectedBlockType.name),1),le("div",$ee,[le("button",{class:"vui-block-titlebar-delete",onClick:t[1]||(t[1]=Dt((...b)=>o.deleteBlockType&&o.deleteBlockType(...b),["prevent"]))},Qe(e.t("vizy","Delete")),1),at(f,{modelValue:i.selectedBlockType.enabled,"onUpdate:modelValue":t[2]||(t[2]=b=>i.selectedBlockType.enabled=b),small:!0},null,8,["modelValue"])])]),o.getErrors(i.selectedBlockType,"general")?(xe(),Ie("ul",Hee,[(xe(!0),Ie(Tt,null,Dn(o.getErrors(i.selectedBlockType,"general"),(b,_)=>(xe(),Ie("li",{key:_},Qe(b),1))),128))])):Pt("",!0),le("div",jee,[le("div",Vee,[le("label",Wee,Qe(e.t("vizy","Name")),1)]),le("div",Uee,[le("p",null,Qe(e.t("vizy","What this block type will be called in the control panel.")),1)]),le("div",Kee,[Rn(le("input",{id:"name",ref:"name-field","onUpdate:modelValue":t[3]||(t[3]=b=>i.selectedBlockType.name=b),type:"text",class:Vt(["text fullwidth",{error:o.hasErrors(i.selectedBlockType,"name")}]),autocomplete:"off",autocorrect:"off",autocapitalize:"off"},null,2),[[qr,i.selectedBlockType.name]])]),o.getErrors(i.selectedBlockType,"name")?(xe(),Ie("ul",qee,[(xe(!0),Ie(Tt,null,Dn(o.getErrors(i.selectedBlockType,"name"),(b,_)=>(xe(),Ie("li",{key:_},Qe(b),1))),128))])):Pt("",!0)]),le("div",Gee,[le("div",Jee,[le("label",Yee,Qe(e.t("vizy","Handle")),1)]),le("div",Xee,[le("p",null,Qe(e.t("vizy","How you\u2019ll refer to this block type in the templates.")),1)]),le("div",Zee,[at(h,{id:"handle",ref:"handle-field",modelValue:i.selectedBlockType.handle,"onUpdate:modelValue":t[4]||(t[4]=b=>i.selectedBlockType.handle=b),"source-value":i.selectedBlockType.name,collection:o.handleCollection,class:Vt({error:o.hasErrors(i.selectedBlockType,"handle")})},null,8,["modelValue","source-value","collection","class"])]),o.getErrors(i.selectedBlockType,"handle")?(xe(),Ie("ul",Qee,[(xe(!0),Ie(Tt,null,Dn(o.getErrors(i.selectedBlockType,"handle"),(b,_)=>(xe(),Ie("li",{key:_},Qe(b),1))),128))])):Pt("",!0)]),le("div",ete,[le("div",tte,[le("label",nte,Qe(e.t("vizy","Icon")),1)]),le("div",rte,[le("p",null,Qe(e.t("vizy","Select an appropriate icon for the block type. Start typing to search via keywords.")),1)]),le("div",ite,[at(p,{modelValue:i.selectedBlockType.icon,"onUpdate:modelValue":t[5]||(t[5]=b=>i.selectedBlockType.icon=b),"input-classes":{error:o.hasErrors(i.selectedBlockType,"icon")}},null,8,["modelValue","input-classes"])]),o.getErrors(i.selectedBlockType,"icon")?(xe(),Ie("ul",ote,[(xe(!0),Ie(Tt,null,Dn(o.getErrors(i.selectedBlockType,"icon"),(b,_)=>(xe(),Ie("li",{key:_},Qe(b),1))),128))])):Pt("",!0)]),le("div",ste,[le("div",ate,[le("label",lte,Qe(e.t("vizy","Template")),1)]),le("div",ute,[le("p",null,Qe(e.t("vizy","Provide the path for a template partial for rendering this block type.")),1)]),le("div",fte,[at(m,{id:"template",modelValue:i.selectedBlockType.template,"onUpdate:modelValue":t[6]||(t[6]=b=>i.selectedBlockType.template=b),suggestions:i.settings.suggestions},null,8,["modelValue","suggestions"])]),o.getErrors(i.selectedBlockType,"template")?(xe(),Ie("ul",cte,[(xe(!0),Ie(Tt,null,Dn(o.getErrors(i.selectedBlockType,"template"),(b,_)=>(xe(),Ie("li",{key:_},Qe(b),1))),128))])):Pt("",!0)]),le("div",dte,[le("div",hte,[le("label",pte,Qe(e.t("vizy","Layout")),1)]),le("div",gte,[le("p",null,Qe(e.t("vizy","Define the field layout for this block type. Empty tabs are not allowed, and you must provide at least one element.")),1)]),le("div",mte,[at(v,{modelValue:i.selectedBlockType.layout,"onUpdate:modelValue":t[7]||(t[7]=b=>i.selectedBlockType.layout=b),"layout-uid":i.selectedBlockType.layoutUid,"field-id":i.settings.fieldId,"block-type-id":i.selectedBlockType.id},null,8,["modelValue","layout-uid","field-id","block-type-id"])])])])):(xe(),Ie("div",vte,[i.fieldData.length?(xe(),Ie("p",yte,Qe(e.t("vizy","Select a block to edit.")),1)):(xe(),Ie("p",bte,Qe(e.t("vizy","Add a new group to begin.")),1)),_te]))])}var kte=_n(tee,[["render",wte]]);typeof Craft.Vizy=="undefined"&&(Craft.Vizy={});Craft.Vizy.Input=Garnish.Base.extend({init(e){yA({components:{VizyInput:GZ},methods:{onInputInit(){}}}).mount(`#${e}-field`)}});Craft.Vizy.Settings=Garnish.Base.extend({init(e,t,n){yA({components:{VizySettings:kte},data(){return{fieldData:t,settings:n}}}).mount(`.${e}-vizy-configurator`)}})});export default xte();
//# sourceMappingURL=vizy.069d4f73.js.map
